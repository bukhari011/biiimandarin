var eE=t=>{throw TypeError(t)};var gb=(t,e,r)=>e.has(t)||eE("Cannot "+r);var K=(t,e,r)=>(gb(t,e,"read from private field"),r?r.call(t):e.get(t)),Ie=(t,e,r)=>e.has(t)?eE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Se=(t,e,r,n)=>(gb(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),hr=(t,e,r)=>(gb(t,e,"access private method"),r);var gp=(t,e,r,n)=>({set _(i){Se(t,e,i,r)},get _(){return K(t,e,n)}});function sM(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function WW(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var oM={exports:{}},py={},aM={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff=Symbol.for("react.element"),VW=Symbol.for("react.portal"),HW=Symbol.for("react.fragment"),GW=Symbol.for("react.strict_mode"),KW=Symbol.for("react.profiler"),qW=Symbol.for("react.provider"),YW=Symbol.for("react.context"),XW=Symbol.for("react.forward_ref"),ZW=Symbol.for("react.suspense"),JW=Symbol.for("react.memo"),QW=Symbol.for("react.lazy"),tE=Symbol.iterator;function eV(t){return t===null||typeof t!="object"?null:(t=tE&&t[tE]||t["@@iterator"],typeof t=="function"?t:null)}var lM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cM=Object.assign,uM={};function $u(t,e,r){this.props=t,this.context=e,this.refs=uM,this.updater=r||lM}$u.prototype.isReactComponent={};$u.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$u.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dM(){}dM.prototype=$u.prototype;function N1(t,e,r){this.props=t,this.context=e,this.refs=uM,this.updater=r||lM}var R1=N1.prototype=new dM;R1.constructor=N1;cM(R1,$u.prototype);R1.isPureReactComponent=!0;var rE=Array.isArray,hM=Object.prototype.hasOwnProperty,M1={current:null},fM={key:!0,ref:!0,__self:!0,__source:!0};function pM(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hM.call(e,n)&&!fM.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Ff,type:t,key:s,ref:o,props:i,_owner:M1.current}}function tV(t,e){return{$$typeof:Ff,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ff}function rV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var nE=/\/+/g;function mb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rV(""+t.key):e.toString(36)}function Fg(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ff:case VW:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+mb(o,0):n,rE(i)?(r="",t!=null&&(r=t.replace(nE,"$&/")+"/"),Fg(i,e,r,"",function(c){return c})):i!=null&&($1(i)&&(i=tV(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",rE(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+mb(s,a);o+=Fg(s,e,r,l,i)}else if(l=eV(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+mb(s,a++),o+=Fg(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vp(t,e,r){if(t==null)return t;var n=[],i=0;return Fg(t,n,"","",function(s){return e.call(r,s,i++)}),n}function nV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nr={current:null},Bg={transition:null},iV={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:Bg,ReactCurrentOwner:M1};function gM(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:vp,forEach:function(t,e,r){vp(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return vp(t,function(){e++}),e},toArray:function(t){return vp(t,function(e){return e})||[]},only:function(t){if(!$1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$e.Component=$u;$e.Fragment=HW;$e.Profiler=KW;$e.PureComponent=N1;$e.StrictMode=GW;$e.Suspense=ZW;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iV;$e.act=gM;$e.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=cM({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=M1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hM.call(e,l)&&!fM.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Ff,type:t.type,key:i,ref:s,props:n,_owner:o}};$e.createContext=function(t){return t={$$typeof:YW,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qW,_context:t},t.Consumer=t};$e.createElement=pM;$e.createFactory=function(t){var e=pM.bind(null,t);return e.type=t,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(t){return{$$typeof:XW,render:t}};$e.isValidElement=$1;$e.lazy=function(t){return{$$typeof:QW,_payload:{_status:-1,_result:t},_init:nV}};$e.memo=function(t,e){return{$$typeof:JW,type:t,compare:e===void 0?null:e}};$e.startTransition=function(t){var e=Bg.transition;Bg.transition={};try{t()}finally{Bg.transition=e}};$e.unstable_act=gM;$e.useCallback=function(t,e){return Nr.current.useCallback(t,e)};$e.useContext=function(t){return Nr.current.useContext(t)};$e.useDebugValue=function(){};$e.useDeferredValue=function(t){return Nr.current.useDeferredValue(t)};$e.useEffect=function(t,e){return Nr.current.useEffect(t,e)};$e.useId=function(){return Nr.current.useId()};$e.useImperativeHandle=function(t,e,r){return Nr.current.useImperativeHandle(t,e,r)};$e.useInsertionEffect=function(t,e){return Nr.current.useInsertionEffect(t,e)};$e.useLayoutEffect=function(t,e){return Nr.current.useLayoutEffect(t,e)};$e.useMemo=function(t,e){return Nr.current.useMemo(t,e)};$e.useReducer=function(t,e,r){return Nr.current.useReducer(t,e,r)};$e.useRef=function(t){return Nr.current.useRef(t)};$e.useState=function(t){return Nr.current.useState(t)};$e.useSyncExternalStore=function(t,e,r){return Nr.current.useSyncExternalStore(t,e,r)};$e.useTransition=function(){return Nr.current.useTransition()};$e.version="18.3.1";aM.exports=$e;var w=aM.exports;const k=Xe(w),gy=sM({__proto__:null,default:k},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sV=w,oV=Symbol.for("react.element"),aV=Symbol.for("react.fragment"),lV=Object.prototype.hasOwnProperty,cV=sV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uV={key:!0,ref:!0,__self:!0,__source:!0};function mM(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)lV.call(e,n)&&!uV.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:oV,type:t,key:s,ref:o,props:i,_owner:cV.current}}py.Fragment=aV;py.jsx=mM;py.jsxs=mM;oM.exports=py;var g=oM.exports,vM={exports:{}},mn={},yM={exports:{}},bM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,M){var z=N.length;N.push(M);e:for(;0<z;){var H=z-1>>>1,U=N[H];if(0<i(U,M))N[H]=M,N[z]=U,z=H;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var M=N[0],z=N.pop();if(z!==M){N[0]=z;e:for(var H=0,U=N.length,q=U>>>1;H<q;){var ee=2*(H+1)-1,pe=N[ee],Oe=ee+1,Q=N[Oe];if(0>i(pe,z))Oe<U&&0>i(Q,pe)?(N[H]=Q,N[Oe]=z,H=Oe):(N[H]=pe,N[ee]=z,H=ee);else if(Oe<U&&0>i(Q,z))N[H]=Q,N[Oe]=z,H=Oe;else break e}}return M}function i(N,M){var z=N.sortIndex-M.sortIndex;return z!==0?z:N.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var M=r(c);M!==null;){if(M.callback===null)n(c);else if(M.startTime<=N)n(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=r(c)}}function _(N){if(p=!1,x(N),!m)if(r(l)!==null)m=!0,$(S);else{var M=r(c);M!==null&&B(_,M.startTime-N)}}function S(N,M){m=!1,p&&(p=!1,y(T),T=-1),f=!0;var z=h;try{for(x(M),d=r(l);d!==null&&(!(d.expirationTime>M)||N&&!P());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var U=H(d.expirationTime<=M);M=t.unstable_now(),typeof U=="function"?d.callback=U:d===r(l)&&n(l),x(M)}else n(l);d=r(l)}if(d!==null)var q=!0;else{var ee=r(c);ee!==null&&B(_,ee.startTime-M),q=!1}return q}finally{d=null,h=z,f=!1}}var C=!1,O=null,T=-1,E=5,j=-1;function P(){return!(t.unstable_now()-j<E)}function A(){if(O!==null){var N=t.unstable_now();j=N;var M=!0;try{M=O(!0,N)}finally{M?I():(C=!1,O=null)}}else C=!1}var I;if(typeof b=="function")I=function(){b(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,L=R.port2;R.port1.onmessage=A,I=function(){L.postMessage(null)}}else I=function(){v(A,0)};function $(N){O=N,C||(C=!0,I())}function B(N,M){T=v(function(){N(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,$(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var z=h;h=M;try{return N()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,M){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var z=h;h=N;try{return M()}finally{h=z}},t.unstable_scheduleCallback=function(N,M,z){var H=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,N){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=z+U,N={id:u++,callback:M,priorityLevel:N,startTime:z,expirationTime:U,sortIndex:-1},z>H?(N.sortIndex=z,e(c,N),r(l)===null&&N===r(c)&&(p?(y(T),T=-1):p=!0,B(_,z-H))):(N.sortIndex=U,e(l,N),m||f||(m=!0,$(S))),N},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(N){var M=h;return function(){var z=h;h=M;try{return N.apply(this,arguments)}finally{h=z}}}})(bM);yM.exports=bM;var dV=yM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hV=w,pn=dV;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xM=new Set,bh={};function wl(t,e){Hc(t,e),Hc(t+"Capture",e)}function Hc(t,e){for(bh[t]=e,t=0;t<e.length;t++)xM.add(e[t])}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rw=Object.prototype.hasOwnProperty,fV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iE={},sE={};function pV(t){return rw.call(sE,t)?!0:rw.call(iE,t)?!1:fV.test(t)?sE[t]=!0:(iE[t]=!0,!1)}function gV(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mV(t,e,r,n){if(e===null||typeof e>"u"||gV(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dr[t]=new Rr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dr[e]=new Rr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dr[t]=new Rr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dr[t]=new Rr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dr[t]=new Rr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dr[t]=new Rr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dr[t]=new Rr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dr[t]=new Rr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dr[t]=new Rr(t,5,!1,t.toLowerCase(),null,!1,!1)});var D1=/[\-:]([a-z])/g;function I1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(D1,I1);dr[e]=new Rr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(D1,I1);dr[e]=new Rr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(D1,I1);dr[e]=new Rr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dr[t]=new Rr(t,1,!1,t.toLowerCase(),null,!1,!1)});dr.xlinkHref=new Rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dr[t]=new Rr(t,1,!1,t.toLowerCase(),null,!0,!0)});function L1(t,e,r,n){var i=dr.hasOwnProperty(e)?dr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mV(e,r,i,n)&&(r=null),n||i===null?pV(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ks=hV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yp=Symbol.for("react.element"),ec=Symbol.for("react.portal"),tc=Symbol.for("react.fragment"),F1=Symbol.for("react.strict_mode"),nw=Symbol.for("react.profiler"),wM=Symbol.for("react.provider"),_M=Symbol.for("react.context"),B1=Symbol.for("react.forward_ref"),iw=Symbol.for("react.suspense"),sw=Symbol.for("react.suspense_list"),z1=Symbol.for("react.memo"),ho=Symbol.for("react.lazy"),SM=Symbol.for("react.offscreen"),oE=Symbol.iterator;function fd(t){return t===null||typeof t!="object"?null:(t=oE&&t[oE]||t["@@iterator"],typeof t=="function"?t:null)}var Ct=Object.assign,vb;function $d(t){if(vb===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);vb=e&&e[1]||""}return`
`+vb+t}var yb=!1;function bb(t,e){if(!t||yb)return"";yb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{yb=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?$d(t):""}function vV(t){switch(t.tag){case 5:return $d(t.type);case 16:return $d("Lazy");case 13:return $d("Suspense");case 19:return $d("SuspenseList");case 0:case 2:case 15:return t=bb(t.type,!1),t;case 11:return t=bb(t.type.render,!1),t;case 1:return t=bb(t.type,!0),t;default:return""}}function ow(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tc:return"Fragment";case ec:return"Portal";case nw:return"Profiler";case F1:return"StrictMode";case iw:return"Suspense";case sw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _M:return(t.displayName||"Context")+".Consumer";case wM:return(t._context.displayName||"Context")+".Provider";case B1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z1:return e=t.displayName||null,e!==null?e:ow(t.type)||"Memo";case ho:e=t._payload,t=t._init;try{return ow(t(e))}catch{}}return null}function yV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ow(e);case 8:return e===F1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bV(t){var e=CM(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bp(t){t._valueTracker||(t._valueTracker=bV(t))}function OM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=CM(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function um(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function aw(t,e){var r=e.checked;return Ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function aE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Vo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TM(t,e){e=e.checked,e!=null&&L1(t,"checked",e,!1)}function lw(t,e){TM(t,e);var r=Vo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cw(t,e.type,r):e.hasOwnProperty("defaultValue")&&cw(t,e.type,Vo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function cw(t,e,r){(e!=="number"||um(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Dd=Array.isArray;function xc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Vo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function uw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(X(92));if(Dd(r)){if(1<r.length)throw Error(X(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Vo(r)}}function EM(t,e){var r=Vo(e.value),n=Vo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function uE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xp,PM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xp=xp||document.createElement("div"),xp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Xd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xV=["Webkit","ms","Moz","O"];Object.keys(Xd).forEach(function(t){xV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xd[e]=Xd[t]})});function jM(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Xd.hasOwnProperty(t)&&Xd[t]?(""+e).trim():e+"px"}function AM(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=jM(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var wV=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hw(t,e){if(e){if(wV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function fw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pw=null;function U1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gw=null,wc=null,_c=null;function dE(t){if(t=Uf(t)){if(typeof gw!="function")throw Error(X(280));var e=t.stateNode;e&&(e=xy(e),gw(t.stateNode,t.type,e))}}function NM(t){wc?_c?_c.push(t):_c=[t]:wc=t}function RM(){if(wc){var t=wc,e=_c;if(_c=wc=null,dE(t),e)for(t=0;t<e.length;t++)dE(e[t])}}function MM(t,e){return t(e)}function $M(){}var xb=!1;function DM(t,e,r){if(xb)return t(e,r);xb=!0;try{return MM(t,e,r)}finally{xb=!1,(wc!==null||_c!==null)&&($M(),RM())}}function wh(t,e){var r=t.stateNode;if(r===null)return null;var n=xy(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(X(231,e,typeof r));return r}var mw=!1;if(Ms)try{var pd={};Object.defineProperty(pd,"passive",{get:function(){mw=!0}}),window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{mw=!1}function _V(t,e,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var Zd=!1,dm=null,hm=!1,vw=null,SV={onError:function(t){Zd=!0,dm=t}};function CV(t,e,r,n,i,s,o,a,l){Zd=!1,dm=null,_V.apply(SV,arguments)}function OV(t,e,r,n,i,s,o,a,l){if(CV.apply(this,arguments),Zd){if(Zd){var c=dm;Zd=!1,dm=null}else throw Error(X(198));hm||(hm=!0,vw=c)}}function _l(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function IM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hE(t){if(_l(t)!==t)throw Error(X(188))}function TV(t){var e=t.alternate;if(!e){if(e=_l(t),e===null)throw Error(X(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return hE(i),t;if(s===n)return hE(i),e;s=s.sibling}throw Error(X(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?t:e}function LM(t){return t=TV(t),t!==null?FM(t):null}function FM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FM(t);if(e!==null)return e;t=t.sibling}return null}var BM=pn.unstable_scheduleCallback,fE=pn.unstable_cancelCallback,EV=pn.unstable_shouldYield,kV=pn.unstable_requestPaint,jt=pn.unstable_now,PV=pn.unstable_getCurrentPriorityLevel,W1=pn.unstable_ImmediatePriority,zM=pn.unstable_UserBlockingPriority,fm=pn.unstable_NormalPriority,jV=pn.unstable_LowPriority,UM=pn.unstable_IdlePriority,my=null,Gi=null;function AV(t){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(my,t,void 0,(t.current.flags&128)===128)}catch{}}var xi=Math.clz32?Math.clz32:MV,NV=Math.log,RV=Math.LN2;function MV(t){return t>>>=0,t===0?32:31-(NV(t)/RV|0)|0}var wp=64,_p=4194304;function Id(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pm(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Id(a):(s&=o,s!==0&&(n=Id(s)))}else o=r&~i,o!==0?n=Id(o):s!==0&&(n=Id(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-xi(e),i=1<<r,n|=t[r],e&=~i;return n}function $V(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DV(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xi(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=$V(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function yw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WM(){var t=wp;return wp<<=1,!(wp&4194240)&&(wp=64),t}function wb(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Bf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xi(e),t[e]=r}function IV(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-xi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function V1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-xi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ze=0;function VM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HM,H1,GM,KM,qM,bw=!1,Sp=[],No=null,Ro=null,Mo=null,_h=new Map,Sh=new Map,mo=[],LV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pE(t,e){switch(t){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":_h.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sh.delete(e.pointerId)}}function gd(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Uf(e),e!==null&&H1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function FV(t,e,r,n,i){switch(e){case"focusin":return No=gd(No,t,e,r,n,i),!0;case"dragenter":return Ro=gd(Ro,t,e,r,n,i),!0;case"mouseover":return Mo=gd(Mo,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return _h.set(s,gd(_h.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Sh.set(s,gd(Sh.get(s)||null,t,e,r,n,i)),!0}return!1}function YM(t){var e=Na(t.target);if(e!==null){var r=_l(e);if(r!==null){if(e=r.tag,e===13){if(e=IM(r),e!==null){t.blockedOn=e,qM(t.priority,function(){GM(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=xw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);pw=n,r.target.dispatchEvent(n),pw=null}else return e=Uf(r),e!==null&&H1(e),t.blockedOn=r,!1;e.shift()}return!0}function gE(t,e,r){zg(t)&&r.delete(e)}function BV(){bw=!1,No!==null&&zg(No)&&(No=null),Ro!==null&&zg(Ro)&&(Ro=null),Mo!==null&&zg(Mo)&&(Mo=null),_h.forEach(gE),Sh.forEach(gE)}function md(t,e){t.blockedOn===e&&(t.blockedOn=null,bw||(bw=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,BV)))}function Ch(t){function e(i){return md(i,t)}if(0<Sp.length){md(Sp[0],t);for(var r=1;r<Sp.length;r++){var n=Sp[r];n.blockedOn===t&&(n.blockedOn=null)}}for(No!==null&&md(No,t),Ro!==null&&md(Ro,t),Mo!==null&&md(Mo,t),_h.forEach(e),Sh.forEach(e),r=0;r<mo.length;r++)n=mo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<mo.length&&(r=mo[0],r.blockedOn===null);)YM(r),r.blockedOn===null&&mo.shift()}var Sc=Ks.ReactCurrentBatchConfig,gm=!0;function zV(t,e,r,n){var i=Ze,s=Sc.transition;Sc.transition=null;try{Ze=1,G1(t,e,r,n)}finally{Ze=i,Sc.transition=s}}function UV(t,e,r,n){var i=Ze,s=Sc.transition;Sc.transition=null;try{Ze=4,G1(t,e,r,n)}finally{Ze=i,Sc.transition=s}}function G1(t,e,r,n){if(gm){var i=xw(t,e,r,n);if(i===null)Ab(t,e,n,mm,r),pE(t,n);else if(FV(i,t,e,r,n))n.stopPropagation();else if(pE(t,n),e&4&&-1<LV.indexOf(t)){for(;i!==null;){var s=Uf(i);if(s!==null&&HM(s),s=xw(t,e,r,n),s===null&&Ab(t,e,n,mm,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Ab(t,e,n,null,r)}}var mm=null;function xw(t,e,r,n){if(mm=null,t=U1(n),t=Na(t),t!==null)if(e=_l(t),e===null)t=null;else if(r=e.tag,r===13){if(t=IM(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mm=t,null}function XM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PV()){case W1:return 1;case zM:return 4;case fm:case jV:return 16;case UM:return 536870912;default:return 16}default:return 16}}var Eo=null,K1=null,Ug=null;function ZM(){if(Ug)return Ug;var t,e=K1,r=e.length,n,i="value"in Eo?Eo.value:Eo.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Ug=i.slice(t,1<n?1-n:void 0)}function Wg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cp(){return!0}function mE(){return!1}function vn(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cp:mE,this.isPropagationStopped=mE,this}return Ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cp)},persist:function(){},isPersistent:Cp}),e}var Du={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q1=vn(Du),zf=Ct({},Du,{view:0,detail:0}),WV=vn(zf),_b,Sb,vd,vy=Ct({},zf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Y1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vd&&(vd&&t.type==="mousemove"?(_b=t.screenX-vd.screenX,Sb=t.screenY-vd.screenY):Sb=_b=0,vd=t),_b)},movementY:function(t){return"movementY"in t?t.movementY:Sb}}),vE=vn(vy),VV=Ct({},vy,{dataTransfer:0}),HV=vn(VV),GV=Ct({},zf,{relatedTarget:0}),Cb=vn(GV),KV=Ct({},Du,{animationName:0,elapsedTime:0,pseudoElement:0}),qV=vn(KV),YV=Ct({},Du,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XV=vn(YV),ZV=Ct({},Du,{data:0}),yE=vn(ZV),JV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=e8[t])?!!e[t]:!1}function Y1(){return t8}var r8=Ct({},zf,{key:function(t){if(t.key){var e=JV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Y1,charCode:function(t){return t.type==="keypress"?Wg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n8=vn(r8),i8=Ct({},vy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bE=vn(i8),s8=Ct({},zf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Y1}),o8=vn(s8),a8=Ct({},Du,{propertyName:0,elapsedTime:0,pseudoElement:0}),l8=vn(a8),c8=Ct({},vy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u8=vn(c8),d8=[9,13,27,32],X1=Ms&&"CompositionEvent"in window,Jd=null;Ms&&"documentMode"in document&&(Jd=document.documentMode);var h8=Ms&&"TextEvent"in window&&!Jd,JM=Ms&&(!X1||Jd&&8<Jd&&11>=Jd),xE=" ",wE=!1;function QM(t,e){switch(t){case"keyup":return d8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e$(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rc=!1;function f8(t,e){switch(t){case"compositionend":return e$(e);case"keypress":return e.which!==32?null:(wE=!0,xE);case"textInput":return t=e.data,t===xE&&wE?null:t;default:return null}}function p8(t,e){if(rc)return t==="compositionend"||!X1&&QM(t,e)?(t=ZM(),Ug=K1=Eo=null,rc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JM&&e.locale!=="ko"?null:e.data;default:return null}}var g8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _E(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g8[t.type]:e==="textarea"}function t$(t,e,r,n){NM(n),e=vm(e,"onChange"),0<e.length&&(r=new q1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Qd=null,Oh=null;function m8(t){h$(t,0)}function yy(t){var e=sc(t);if(OM(e))return t}function v8(t,e){if(t==="change")return e}var r$=!1;if(Ms){var Ob;if(Ms){var Tb="oninput"in document;if(!Tb){var SE=document.createElement("div");SE.setAttribute("oninput","return;"),Tb=typeof SE.oninput=="function"}Ob=Tb}else Ob=!1;r$=Ob&&(!document.documentMode||9<document.documentMode)}function CE(){Qd&&(Qd.detachEvent("onpropertychange",n$),Oh=Qd=null)}function n$(t){if(t.propertyName==="value"&&yy(Oh)){var e=[];t$(e,Oh,t,U1(t)),DM(m8,e)}}function y8(t,e,r){t==="focusin"?(CE(),Qd=e,Oh=r,Qd.attachEvent("onpropertychange",n$)):t==="focusout"&&CE()}function b8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yy(Oh)}function x8(t,e){if(t==="click")return yy(e)}function w8(t,e){if(t==="input"||t==="change")return yy(e)}function _8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Oi=typeof Object.is=="function"?Object.is:_8;function Th(t,e){if(Oi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!rw.call(e,i)||!Oi(t[i],e[i]))return!1}return!0}function OE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TE(t,e){var r=OE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=OE(r)}}function i$(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?i$(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function s$(){for(var t=window,e=um();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=um(t.document)}return e}function Z1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function S8(t){var e=s$(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&i$(r.ownerDocument.documentElement,r)){if(n!==null&&Z1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=TE(r,s);var o=TE(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var C8=Ms&&"documentMode"in document&&11>=document.documentMode,nc=null,ww=null,eh=null,_w=!1;function EE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_w||nc==null||nc!==um(n)||(n=nc,"selectionStart"in n&&Z1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),eh&&Th(eh,n)||(eh=n,n=vm(ww,"onSelect"),0<n.length&&(e=new q1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=nc)))}function Op(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ic={animationend:Op("Animation","AnimationEnd"),animationiteration:Op("Animation","AnimationIteration"),animationstart:Op("Animation","AnimationStart"),transitionend:Op("Transition","TransitionEnd")},Eb={},o$={};Ms&&(o$=document.createElement("div").style,"AnimationEvent"in window||(delete ic.animationend.animation,delete ic.animationiteration.animation,delete ic.animationstart.animation),"TransitionEvent"in window||delete ic.transitionend.transition);function by(t){if(Eb[t])return Eb[t];if(!ic[t])return t;var e=ic[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in o$)return Eb[t]=e[r];return t}var a$=by("animationend"),l$=by("animationiteration"),c$=by("animationstart"),u$=by("transitionend"),d$=new Map,kE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jo(t,e){d$.set(t,e),wl(e,[t])}for(var kb=0;kb<kE.length;kb++){var Pb=kE[kb],O8=Pb.toLowerCase(),T8=Pb[0].toUpperCase()+Pb.slice(1);Jo(O8,"on"+T8)}Jo(a$,"onAnimationEnd");Jo(l$,"onAnimationIteration");Jo(c$,"onAnimationStart");Jo("dblclick","onDoubleClick");Jo("focusin","onFocus");Jo("focusout","onBlur");Jo(u$,"onTransitionEnd");Hc("onMouseEnter",["mouseout","mouseover"]);Hc("onMouseLeave",["mouseout","mouseover"]);Hc("onPointerEnter",["pointerout","pointerover"]);Hc("onPointerLeave",["pointerout","pointerover"]);wl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wl("onBeforeInput",["compositionend","keypress","textInput","paste"]);wl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ld));function PE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,OV(n,e,void 0,t),t.currentTarget=null}function h$(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;PE(i,a,c),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;PE(i,a,c),s=l}}}if(hm)throw t=vw,hm=!1,vw=null,t}function ht(t,e){var r=e[Ew];r===void 0&&(r=e[Ew]=new Set);var n=t+"__bubble";r.has(n)||(f$(e,t,2,!1),r.add(n))}function jb(t,e,r){var n=0;e&&(n|=4),f$(r,t,n,e)}var Tp="_reactListening"+Math.random().toString(36).slice(2);function Eh(t){if(!t[Tp]){t[Tp]=!0,xM.forEach(function(r){r!=="selectionchange"&&(E8.has(r)||jb(r,!1,t),jb(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tp]||(e[Tp]=!0,jb("selectionchange",!1,e))}}function f$(t,e,r,n){switch(XM(e)){case 1:var i=zV;break;case 4:i=UV;break;default:i=G1}r=i.bind(null,e,r,t),i=void 0,!mw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Ab(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Na(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}DM(function(){var c=s,u=U1(r),d=[];e:{var h=d$.get(t);if(h!==void 0){var f=q1,m=t;switch(t){case"keypress":if(Wg(r)===0)break e;case"keydown":case"keyup":f=n8;break;case"focusin":m="focus",f=Cb;break;case"focusout":m="blur",f=Cb;break;case"beforeblur":case"afterblur":f=Cb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=vE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=HV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=o8;break;case a$:case l$:case c$:f=qV;break;case u$:f=l8;break;case"scroll":f=WV;break;case"wheel":f=u8;break;case"copy":case"cut":case"paste":f=XV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=bE}var p=(e&4)!==0,v=!p&&t==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var b=c,x;b!==null;){x=b;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,y!==null&&(_=wh(b,y),_!=null&&p.push(kh(b,_,x)))),v)break;b=b.return}0<p.length&&(h=new f(h,m,null,r,u),d.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==pw&&(m=r.relatedTarget||r.fromElement)&&(Na(m)||m[$s]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=r.relatedTarget||r.toElement,f=c,m=m?Na(m):null,m!==null&&(v=_l(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(p=vE,_="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(p=bE,_="onPointerLeave",y="onPointerEnter",b="pointer"),v=f==null?h:sc(f),x=m==null?h:sc(m),h=new p(_,b+"leave",f,r,u),h.target=v,h.relatedTarget=x,_=null,Na(u)===c&&(p=new p(y,b+"enter",m,r,u),p.target=x,p.relatedTarget=v,_=p),v=_,f&&m)t:{for(p=f,y=m,b=0,x=p;x;x=$l(x))b++;for(x=0,_=y;_;_=$l(_))x++;for(;0<b-x;)p=$l(p),b--;for(;0<x-b;)y=$l(y),x--;for(;b--;){if(p===y||y!==null&&p===y.alternate)break t;p=$l(p),y=$l(y)}p=null}else p=null;f!==null&&jE(d,h,f,p,!1),m!==null&&v!==null&&jE(d,v,m,p,!0)}}e:{if(h=c?sc(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=v8;else if(_E(h))if(r$)S=w8;else{S=b8;var C=y8}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=x8);if(S&&(S=S(t,c))){t$(d,S,r,u);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&cw(h,"number",h.value)}switch(C=c?sc(c):window,t){case"focusin":(_E(C)||C.contentEditable==="true")&&(nc=C,ww=c,eh=null);break;case"focusout":eh=ww=nc=null;break;case"mousedown":_w=!0;break;case"contextmenu":case"mouseup":case"dragend":_w=!1,EE(d,r,u);break;case"selectionchange":if(C8)break;case"keydown":case"keyup":EE(d,r,u)}var O;if(X1)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else rc?QM(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(JM&&r.locale!=="ko"&&(rc||T!=="onCompositionStart"?T==="onCompositionEnd"&&rc&&(O=ZM()):(Eo=u,K1="value"in Eo?Eo.value:Eo.textContent,rc=!0)),C=vm(c,T),0<C.length&&(T=new yE(T,t,null,r,u),d.push({event:T,listeners:C}),O?T.data=O:(O=e$(r),O!==null&&(T.data=O)))),(O=h8?f8(t,r):p8(t,r))&&(c=vm(c,"onBeforeInput"),0<c.length&&(u=new yE("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:c}),u.data=O))}h$(d,e)})}function kh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function vm(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wh(t,r),s!=null&&n.unshift(kh(t,s,i)),s=wh(t,e),s!=null&&n.push(kh(t,s,i))),t=t.return}return n}function $l(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jE(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=wh(r,s),l!=null&&o.unshift(kh(r,l,a))):i||(l=wh(r,s),l!=null&&o.push(kh(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var k8=/\r\n?/g,P8=/\u0000|\uFFFD/g;function AE(t){return(typeof t=="string"?t:""+t).replace(k8,`
`).replace(P8,"")}function Ep(t,e,r){if(e=AE(e),AE(t)!==e&&r)throw Error(X(425))}function ym(){}var Sw=null,Cw=null;function Ow(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tw=typeof setTimeout=="function"?setTimeout:void 0,j8=typeof clearTimeout=="function"?clearTimeout:void 0,NE=typeof Promise=="function"?Promise:void 0,A8=typeof queueMicrotask=="function"?queueMicrotask:typeof NE<"u"?function(t){return NE.resolve(null).then(t).catch(N8)}:Tw;function N8(t){setTimeout(function(){throw t})}function Nb(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ch(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ch(e)}function $o(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function RE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Iu=Math.random().toString(36).slice(2),zi="__reactFiber$"+Iu,Ph="__reactProps$"+Iu,$s="__reactContainer$"+Iu,Ew="__reactEvents$"+Iu,R8="__reactListeners$"+Iu,M8="__reactHandles$"+Iu;function Na(t){var e=t[zi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[$s]||r[zi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=RE(t);t!==null;){if(r=t[zi])return r;t=RE(t)}return e}t=r,r=t.parentNode}return null}function Uf(t){return t=t[zi]||t[$s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function xy(t){return t[Ph]||null}var kw=[],oc=-1;function Qo(t){return{current:t}}function gt(t){0>oc||(t.current=kw[oc],kw[oc]=null,oc--)}function ct(t,e){oc++,kw[oc]=t.current,t.current=e}var Ho={},xr=Qo(Ho),Br=Qo(!1),nl=Ho;function Gc(t,e){var r=t.type.contextTypes;if(!r)return Ho;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zr(t){return t=t.childContextTypes,t!=null}function bm(){gt(Br),gt(xr)}function ME(t,e,r){if(xr.current!==Ho)throw Error(X(168));ct(xr,e),ct(Br,r)}function p$(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(X(108,yV(t)||"Unknown",i));return Ct({},r,n)}function xm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ho,nl=xr.current,ct(xr,t),ct(Br,Br.current),!0}function $E(t,e,r){var n=t.stateNode;if(!n)throw Error(X(169));r?(t=p$(t,e,nl),n.__reactInternalMemoizedMergedChildContext=t,gt(Br),gt(xr),ct(xr,t)):gt(Br),ct(Br,r)}var ms=null,wy=!1,Rb=!1;function g$(t){ms===null?ms=[t]:ms.push(t)}function $8(t){wy=!0,g$(t)}function ea(){if(!Rb&&ms!==null){Rb=!0;var t=0,e=Ze;try{var r=ms;for(Ze=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ms=null,wy=!1}catch(i){throw ms!==null&&(ms=ms.slice(t+1)),BM(W1,ea),i}finally{Ze=e,Rb=!1}}return null}var ac=[],lc=0,wm=null,_m=0,Tn=[],En=0,il=null,ws=1,_s="";function va(t,e){ac[lc++]=_m,ac[lc++]=wm,wm=t,_m=e}function m$(t,e,r){Tn[En++]=ws,Tn[En++]=_s,Tn[En++]=il,il=t;var n=ws;t=_s;var i=32-xi(n)-1;n&=~(1<<i),r+=1;var s=32-xi(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ws=1<<32-xi(e)+i|r<<i|n,_s=s+t}else ws=1<<s|r<<i|n,_s=t}function J1(t){t.return!==null&&(va(t,1),m$(t,1,0))}function Q1(t){for(;t===wm;)wm=ac[--lc],ac[lc]=null,_m=ac[--lc],ac[lc]=null;for(;t===il;)il=Tn[--En],Tn[En]=null,_s=Tn[--En],Tn[En]=null,ws=Tn[--En],Tn[En]=null}var un=null,cn=null,yt=!1,fi=null;function v$(t,e){var r=An(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function DE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,cn=$o(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=il!==null?{id:ws,overflow:_s}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=An(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,un=t,cn=null,!0):!1;default:return!1}}function Pw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jw(t){if(yt){var e=cn;if(e){var r=e;if(!DE(t,e)){if(Pw(t))throw Error(X(418));e=$o(r.nextSibling);var n=un;e&&DE(t,e)?v$(n,r):(t.flags=t.flags&-4097|2,yt=!1,un=t)}}else{if(Pw(t))throw Error(X(418));t.flags=t.flags&-4097|2,yt=!1,un=t}}}function IE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function kp(t){if(t!==un)return!1;if(!yt)return IE(t),yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ow(t.type,t.memoizedProps)),e&&(e=cn)){if(Pw(t))throw y$(),Error(X(418));for(;e;)v$(t,e),e=$o(e.nextSibling)}if(IE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){cn=$o(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=un?$o(t.stateNode.nextSibling):null;return!0}function y$(){for(var t=cn;t;)t=$o(t.nextSibling)}function Kc(){cn=un=null,yt=!1}function eC(t){fi===null?fi=[t]:fi.push(t)}var D8=Ks.ReactCurrentBatchConfig;function yd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,t))}return t}function Pp(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function LE(t){var e=t._init;return e(t._payload)}function b$(t){function e(y,b){if(t){var x=y.deletions;x===null?(y.deletions=[b],y.flags|=16):x.push(b)}}function r(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Fo(y,b),y.index=0,y.sibling=null,y}function s(y,b,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<b?(y.flags|=2,b):x):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,x,_){return b===null||b.tag!==6?(b=Bb(x,y.mode,_),b.return=y,b):(b=i(b,x),b.return=y,b)}function l(y,b,x,_){var S=x.type;return S===tc?u(y,b,x.props.children,_,x.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ho&&LE(S)===b.type)?(_=i(b,x.props),_.ref=yd(y,b,x),_.return=y,_):(_=Xg(x.type,x.key,x.props,null,y.mode,_),_.ref=yd(y,b,x),_.return=y,_)}function c(y,b,x,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=zb(x,y.mode,_),b.return=y,b):(b=i(b,x.children||[]),b.return=y,b)}function u(y,b,x,_,S){return b===null||b.tag!==7?(b=Xa(x,y.mode,_,S),b.return=y,b):(b=i(b,x),b.return=y,b)}function d(y,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Bb(""+b,y.mode,x),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yp:return x=Xg(b.type,b.key,b.props,null,y.mode,x),x.ref=yd(y,null,b),x.return=y,x;case ec:return b=zb(b,y.mode,x),b.return=y,b;case ho:var _=b._init;return d(y,_(b._payload),x)}if(Dd(b)||fd(b))return b=Xa(b,y.mode,x,null),b.return=y,b;Pp(y,b)}return null}function h(y,b,x,_){var S=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(y,b,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yp:return x.key===S?l(y,b,x,_):null;case ec:return x.key===S?c(y,b,x,_):null;case ho:return S=x._init,h(y,b,S(x._payload),_)}if(Dd(x)||fd(x))return S!==null?null:u(y,b,x,_,null);Pp(y,x)}return null}function f(y,b,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(x)||null,a(b,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yp:return y=y.get(_.key===null?x:_.key)||null,l(b,y,_,S);case ec:return y=y.get(_.key===null?x:_.key)||null,c(b,y,_,S);case ho:var C=_._init;return f(y,b,x,C(_._payload),S)}if(Dd(_)||fd(_))return y=y.get(x)||null,u(b,y,_,S,null);Pp(b,_)}return null}function m(y,b,x,_){for(var S=null,C=null,O=b,T=b=0,E=null;O!==null&&T<x.length;T++){O.index>T?(E=O,O=null):E=O.sibling;var j=h(y,O,x[T],_);if(j===null){O===null&&(O=E);break}t&&O&&j.alternate===null&&e(y,O),b=s(j,b,T),C===null?S=j:C.sibling=j,C=j,O=E}if(T===x.length)return r(y,O),yt&&va(y,T),S;if(O===null){for(;T<x.length;T++)O=d(y,x[T],_),O!==null&&(b=s(O,b,T),C===null?S=O:C.sibling=O,C=O);return yt&&va(y,T),S}for(O=n(y,O);T<x.length;T++)E=f(O,y,T,x[T],_),E!==null&&(t&&E.alternate!==null&&O.delete(E.key===null?T:E.key),b=s(E,b,T),C===null?S=E:C.sibling=E,C=E);return t&&O.forEach(function(P){return e(y,P)}),yt&&va(y,T),S}function p(y,b,x,_){var S=fd(x);if(typeof S!="function")throw Error(X(150));if(x=S.call(x),x==null)throw Error(X(151));for(var C=S=null,O=b,T=b=0,E=null,j=x.next();O!==null&&!j.done;T++,j=x.next()){O.index>T?(E=O,O=null):E=O.sibling;var P=h(y,O,j.value,_);if(P===null){O===null&&(O=E);break}t&&O&&P.alternate===null&&e(y,O),b=s(P,b,T),C===null?S=P:C.sibling=P,C=P,O=E}if(j.done)return r(y,O),yt&&va(y,T),S;if(O===null){for(;!j.done;T++,j=x.next())j=d(y,j.value,_),j!==null&&(b=s(j,b,T),C===null?S=j:C.sibling=j,C=j);return yt&&va(y,T),S}for(O=n(y,O);!j.done;T++,j=x.next())j=f(O,y,T,j.value,_),j!==null&&(t&&j.alternate!==null&&O.delete(j.key===null?T:j.key),b=s(j,b,T),C===null?S=j:C.sibling=j,C=j);return t&&O.forEach(function(A){return e(y,A)}),yt&&va(y,T),S}function v(y,b,x,_){if(typeof x=="object"&&x!==null&&x.type===tc&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case yp:e:{for(var S=x.key,C=b;C!==null;){if(C.key===S){if(S=x.type,S===tc){if(C.tag===7){r(y,C.sibling),b=i(C,x.props.children),b.return=y,y=b;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ho&&LE(S)===C.type){r(y,C.sibling),b=i(C,x.props),b.ref=yd(y,C,x),b.return=y,y=b;break e}r(y,C);break}else e(y,C);C=C.sibling}x.type===tc?(b=Xa(x.props.children,y.mode,_,x.key),b.return=y,y=b):(_=Xg(x.type,x.key,x.props,null,y.mode,_),_.ref=yd(y,b,x),_.return=y,y=_)}return o(y);case ec:e:{for(C=x.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){r(y,b.sibling),b=i(b,x.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else e(y,b);b=b.sibling}b=zb(x,y.mode,_),b.return=y,y=b}return o(y);case ho:return C=x._init,v(y,b,C(x._payload),_)}if(Dd(x))return m(y,b,x,_);if(fd(x))return p(y,b,x,_);Pp(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(r(y,b.sibling),b=i(b,x),b.return=y,y=b):(r(y,b),b=Bb(x,y.mode,_),b.return=y,y=b),o(y)):r(y,b)}return v}var qc=b$(!0),x$=b$(!1),Sm=Qo(null),Cm=null,cc=null,tC=null;function rC(){tC=cc=Cm=null}function nC(t){var e=Sm.current;gt(Sm),t._currentValue=e}function Aw(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Cc(t,e){Cm=t,tC=cc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lr=!0),t.firstContext=null)}function Dn(t){var e=t._currentValue;if(tC!==t)if(t={context:t,memoizedValue:e,next:null},cc===null){if(Cm===null)throw Error(X(308));cc=t,Cm.dependencies={lanes:0,firstContext:t}}else cc=cc.next=t;return e}var Ra=null;function iC(t){Ra===null?Ra=[t]:Ra.push(t)}function w$(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,iC(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ds(t,n)}function Ds(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var fo=!1;function sC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ks(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Do(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ds(t,r)}return i=n.interleaved,i===null?(e.next=e,iC(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ds(t,r)}function Vg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,V1(t,r)}}function FE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Om(t,e,r,n){var i=t.updateQueue;fo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,p=a;switch(h=e,f=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Ct({},d,h);break e;case 2:fo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ol|=o,t.lanes=o,t.memoizedState=d}}function BE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(X(191,i));i.call(n)}}}var Wf={},Ki=Qo(Wf),jh=Qo(Wf),Ah=Qo(Wf);function Ma(t){if(t===Wf)throw Error(X(174));return t}function oC(t,e){switch(ct(Ah,e),ct(jh,t),ct(Ki,Wf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dw(e,t)}gt(Ki),ct(Ki,e)}function Yc(){gt(Ki),gt(jh),gt(Ah)}function S$(t){Ma(Ah.current);var e=Ma(Ki.current),r=dw(e,t.type);e!==r&&(ct(jh,t),ct(Ki,r))}function aC(t){jh.current===t&&(gt(Ki),gt(jh))}var _t=Qo(0);function Tm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mb=[];function lC(){for(var t=0;t<Mb.length;t++)Mb[t]._workInProgressVersionPrimary=null;Mb.length=0}var Hg=Ks.ReactCurrentDispatcher,$b=Ks.ReactCurrentBatchConfig,sl=0,St=null,Vt=null,er=null,Em=!1,th=!1,Nh=0,I8=0;function fr(){throw Error(X(321))}function cC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Oi(t[r],e[r]))return!1;return!0}function uC(t,e,r,n,i,s){if(sl=s,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hg.current=t===null||t.memoizedState===null?z8:U8,t=r(n,i),th){s=0;do{if(th=!1,Nh=0,25<=s)throw Error(X(301));s+=1,er=Vt=null,e.updateQueue=null,Hg.current=W8,t=r(n,i)}while(th)}if(Hg.current=km,e=Vt!==null&&Vt.next!==null,sl=0,er=Vt=St=null,Em=!1,e)throw Error(X(300));return t}function dC(){var t=Nh!==0;return Nh=0,t}function $i(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?St.memoizedState=er=t:er=er.next=t,er}function In(){if(Vt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=er===null?St.memoizedState:er.next;if(e!==null)er=e,Vt=t;else{if(t===null)throw Error(X(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},er===null?St.memoizedState=er=t:er=er.next=t}return er}function Rh(t,e){return typeof e=="function"?e(t):e}function Db(t){var e=In(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=Vt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((sl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,St.lanes|=u,ol|=u}c=c.next}while(c!==null&&c!==s);l===null?o=n:l.next=a,Oi(n,e.memoizedState)||(Lr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,St.lanes|=s,ol|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ib(t){var e=In(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Oi(s,e.memoizedState)||(Lr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function C$(){}function O$(t,e){var r=St,n=In(),i=e(),s=!Oi(n.memoizedState,i);if(s&&(n.memoizedState=i,Lr=!0),n=n.queue,hC(k$.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||er!==null&&er.memoizedState.tag&1){if(r.flags|=2048,Mh(9,E$.bind(null,r,n,i,e),void 0,null),ir===null)throw Error(X(349));sl&30||T$(r,e,i)}return i}function T$(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function E$(t,e,r,n){e.value=r,e.getSnapshot=n,P$(e)&&j$(t)}function k$(t,e,r){return r(function(){P$(e)&&j$(t)})}function P$(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Oi(t,r)}catch{return!0}}function j$(t){var e=Ds(t,1);e!==null&&wi(e,t,1,-1)}function zE(t){var e=$i();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rh,lastRenderedState:t},e.queue=t,t=t.dispatch=B8.bind(null,St,t),[e.memoizedState,t]}function Mh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function A$(){return In().memoizedState}function Gg(t,e,r,n){var i=$i();St.flags|=t,i.memoizedState=Mh(1|e,r,void 0,n===void 0?null:n)}function _y(t,e,r,n){var i=In();n=n===void 0?null:n;var s=void 0;if(Vt!==null){var o=Vt.memoizedState;if(s=o.destroy,n!==null&&cC(n,o.deps)){i.memoizedState=Mh(e,r,s,n);return}}St.flags|=t,i.memoizedState=Mh(1|e,r,s,n)}function UE(t,e){return Gg(8390656,8,t,e)}function hC(t,e){return _y(2048,8,t,e)}function N$(t,e){return _y(4,2,t,e)}function R$(t,e){return _y(4,4,t,e)}function M$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $$(t,e,r){return r=r!=null?r.concat([t]):null,_y(4,4,M$.bind(null,e,t),r)}function fC(){}function D$(t,e){var r=In();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&cC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function I$(t,e){var r=In();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&cC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function L$(t,e,r){return sl&21?(Oi(r,e)||(r=WM(),St.lanes|=r,ol|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Lr=!0),t.memoizedState=r)}function L8(t,e){var r=Ze;Ze=r!==0&&4>r?r:4,t(!0);var n=$b.transition;$b.transition={};try{t(!1),e()}finally{Ze=r,$b.transition=n}}function F$(){return In().memoizedState}function F8(t,e,r){var n=Lo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},B$(t))z$(e,r);else if(r=w$(t,e,r,n),r!==null){var i=jr();wi(r,t,n,i),U$(r,e,n)}}function B8(t,e,r){var n=Lo(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(B$(t))z$(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Oi(a,o)){var l=e.interleaved;l===null?(i.next=i,iC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=w$(t,e,i,n),r!==null&&(i=jr(),wi(r,t,n,i),U$(r,e,n))}}function B$(t){var e=t.alternate;return t===St||e!==null&&e===St}function z$(t,e){th=Em=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function U$(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,V1(t,r)}}var km={readContext:Dn,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},z8={readContext:Dn,useCallback:function(t,e){return $i().memoizedState=[t,e===void 0?null:e],t},useContext:Dn,useEffect:UE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Gg(4194308,4,M$.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Gg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gg(4,2,t,e)},useMemo:function(t,e){var r=$i();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=$i();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=F8.bind(null,St,t),[n.memoizedState,t]},useRef:function(t){var e=$i();return t={current:t},e.memoizedState=t},useState:zE,useDebugValue:fC,useDeferredValue:function(t){return $i().memoizedState=t},useTransition:function(){var t=zE(!1),e=t[0];return t=L8.bind(null,t[1]),$i().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=St,i=$i();if(yt){if(r===void 0)throw Error(X(407));r=r()}else{if(r=e(),ir===null)throw Error(X(349));sl&30||T$(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,UE(k$.bind(null,n,s,t),[t]),n.flags|=2048,Mh(9,E$.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=$i(),e=ir.identifierPrefix;if(yt){var r=_s,n=ws;r=(n&~(1<<32-xi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Nh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=I8++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},U8={readContext:Dn,useCallback:D$,useContext:Dn,useEffect:hC,useImperativeHandle:$$,useInsertionEffect:N$,useLayoutEffect:R$,useMemo:I$,useReducer:Db,useRef:A$,useState:function(){return Db(Rh)},useDebugValue:fC,useDeferredValue:function(t){var e=In();return L$(e,Vt.memoizedState,t)},useTransition:function(){var t=Db(Rh)[0],e=In().memoizedState;return[t,e]},useMutableSource:C$,useSyncExternalStore:O$,useId:F$,unstable_isNewReconciler:!1},W8={readContext:Dn,useCallback:D$,useContext:Dn,useEffect:hC,useImperativeHandle:$$,useInsertionEffect:N$,useLayoutEffect:R$,useMemo:I$,useReducer:Ib,useRef:A$,useState:function(){return Ib(Rh)},useDebugValue:fC,useDeferredValue:function(t){var e=In();return Vt===null?e.memoizedState=t:L$(e,Vt.memoizedState,t)},useTransition:function(){var t=Ib(Rh)[0],e=In().memoizedState;return[t,e]},useMutableSource:C$,useSyncExternalStore:O$,useId:F$,unstable_isNewReconciler:!1};function ni(t,e){if(t&&t.defaultProps){e=Ct({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Nw(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ct({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Sy={isMounted:function(t){return(t=t._reactInternals)?_l(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=jr(),i=Lo(t),s=ks(n,i);s.payload=e,r!=null&&(s.callback=r),e=Do(t,s,i),e!==null&&(wi(e,t,i,n),Vg(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=jr(),i=Lo(t),s=ks(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Do(t,s,i),e!==null&&(wi(e,t,i,n),Vg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=jr(),n=Lo(t),i=ks(r,n);i.tag=2,e!=null&&(i.callback=e),e=Do(t,i,n),e!==null&&(wi(e,t,n,r),Vg(e,t,n))}};function WE(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Th(r,n)||!Th(i,s):!0}function W$(t,e,r){var n=!1,i=Ho,s=e.contextType;return typeof s=="object"&&s!==null?s=Dn(s):(i=zr(e)?nl:xr.current,n=e.contextTypes,s=(n=n!=null)?Gc(t,i):Ho),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sy,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function VE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Sy.enqueueReplaceState(e,e.state,null)}function Rw(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},sC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dn(s):(s=zr(e)?nl:xr.current,i.context=Gc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Nw(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sy.enqueueReplaceState(i,i.state,null),Om(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xc(t,e){try{var r="",n=e;do r+=vV(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Lb(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Mw(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var V8=typeof WeakMap=="function"?WeakMap:Map;function V$(t,e,r){r=ks(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){jm||(jm=!0,Vw=n),Mw(t,e)},r}function H$(t,e,r){r=ks(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Mw(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Mw(t,e),typeof n!="function"&&(Io===null?Io=new Set([this]):Io.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function HE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new V8;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=i6.bind(null,t,e,r),e.then(t,t))}function GE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function KE(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ks(-1,1),e.tag=2,Do(r,e,1))),r.lanes|=1),t)}var H8=Ks.ReactCurrentOwner,Lr=!1;function _r(t,e,r,n){e.child=t===null?x$(e,null,r,n):qc(e,t.child,r,n)}function qE(t,e,r,n,i){r=r.render;var s=e.ref;return Cc(e,i),n=uC(t,e,r,n,s,i),r=dC(),t!==null&&!Lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Is(t,e,i)):(yt&&r&&J1(e),e.flags|=1,_r(t,e,n,i),e.child)}function YE(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!wC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,G$(t,e,s,n,i)):(t=Xg(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Th,r(o,n)&&t.ref===e.ref)return Is(t,e,i)}return e.flags|=1,t=Fo(s,n),t.ref=e.ref,t.return=e,e.child=t}function G$(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Th(s,n)&&t.ref===e.ref)if(Lr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Lr=!0);else return e.lanes=t.lanes,Is(t,e,i)}return $w(t,e,r,n,i)}function K$(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(dc,tn),tn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(dc,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ct(dc,tn),tn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ct(dc,tn),tn|=n;return _r(t,e,i,r),e.child}function q$(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function $w(t,e,r,n,i){var s=zr(r)?nl:xr.current;return s=Gc(e,s),Cc(e,i),r=uC(t,e,r,n,s,i),n=dC(),t!==null&&!Lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Is(t,e,i)):(yt&&n&&J1(e),e.flags|=1,_r(t,e,r,i),e.child)}function XE(t,e,r,n,i){if(zr(r)){var s=!0;xm(e)}else s=!1;if(Cc(e,i),e.stateNode===null)Kg(t,e),W$(e,r,n),Rw(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Dn(c):(c=zr(r)?nl:xr.current,c=Gc(e,c));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&VE(e,o,n,c),fo=!1;var h=e.memoizedState;o.state=h,Om(e,n,o,i),l=e.memoizedState,a!==n||h!==l||Br.current||fo?(typeof u=="function"&&(Nw(e,r,u,n),l=e.memoizedState),(a=fo||WE(e,r,a,n,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,_$(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ni(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Dn(l):(l=zr(r)?nl:xr.current,l=Gc(e,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&VE(e,o,n,l),fo=!1,h=e.memoizedState,o.state=h,Om(e,n,o,i);var m=e.memoizedState;a!==d||h!==m||Br.current||fo?(typeof f=="function"&&(Nw(e,r,f,n),m=e.memoizedState),(c=fo||WE(e,r,c,n,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Dw(t,e,r,n,s,i)}function Dw(t,e,r,n,i,s){q$(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&$E(e,r,!1),Is(t,e,s);n=e.stateNode,H8.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=qc(e,t.child,null,s),e.child=qc(e,null,a,s)):_r(t,e,a,s),e.memoizedState=n.state,i&&$E(e,r,!0),e.child}function Y$(t){var e=t.stateNode;e.pendingContext?ME(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ME(t,e.context,!1),oC(t,e.containerInfo)}function ZE(t,e,r,n,i){return Kc(),eC(i),e.flags|=256,_r(t,e,r,n),e.child}var Iw={dehydrated:null,treeContext:null,retryLane:0};function Lw(t){return{baseLanes:t,cachePool:null,transitions:null}}function X$(t,e,r){var n=e.pendingProps,i=_t.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ct(_t,i&1),t===null)return jw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ty(o,n,0,null),t=Xa(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Lw(r),e.memoizedState=Iw,t):pC(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return G8(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Fo(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Fo(a,s):(s=Xa(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Lw(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Iw,n}return s=t.child,t=s.sibling,n=Fo(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function pC(t,e){return e=Ty({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jp(t,e,r,n){return n!==null&&eC(n),qc(e,t.child,null,r),t=pC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function G8(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Lb(Error(X(422))),jp(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Ty({mode:"visible",children:n.children},i,0,null),s=Xa(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&qc(e,t.child,null,o),e.child.memoizedState=Lw(o),e.memoizedState=Iw,s);if(!(e.mode&1))return jp(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(X(419)),n=Lb(s,n,void 0),jp(t,e,o,n)}if(a=(o&t.childLanes)!==0,Lr||a){if(n=ir,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ds(t,i),wi(n,t,i,-1))}return xC(),n=Lb(Error(X(421))),jp(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=s6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cn=$o(i.nextSibling),un=e,yt=!0,fi=null,t!==null&&(Tn[En++]=ws,Tn[En++]=_s,Tn[En++]=il,ws=t.id,_s=t.overflow,il=e),e=pC(e,n.children),e.flags|=4096,e)}function JE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Aw(t.return,e,r)}function Fb(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Z$(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(_r(t,e,n.children,r),n=_t.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&JE(t,r,e);else if(t.tag===19)JE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ct(_t,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Tm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Fb(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Fb(e,!0,r,null,s);break;case"together":Fb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Is(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ol|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,r=Fo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Fo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function K8(t,e,r){switch(e.tag){case 3:Y$(e),Kc();break;case 5:S$(e);break;case 1:zr(e.type)&&xm(e);break;case 4:oC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ct(Sm,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ct(_t,_t.current&1),e.flags|=128,null):r&e.child.childLanes?X$(t,e,r):(ct(_t,_t.current&1),t=Is(t,e,r),t!==null?t.sibling:null);ct(_t,_t.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Z$(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(_t,_t.current),n)break;return null;case 22:case 23:return e.lanes=0,K$(t,e,r)}return Is(t,e,r)}var J$,Fw,Q$,eD;J$=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fw=function(){};Q$=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ma(Ki.current);var s=null;switch(r){case"input":i=aw(t,i),n=aw(t,n),s=[];break;case"select":i=Ct({},i,{value:void 0}),n=Ct({},n,{value:void 0}),s=[];break;case"textarea":i=uw(t,i),n=uw(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ym)}hw(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ht("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};eD=function(t,e,r,n){r!==n&&(e.flags|=4)};function bd(t,e){if(!yt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function pr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function q8(t,e,r){var n=e.pendingProps;switch(Q1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(e),null;case 1:return zr(e.type)&&bm(),pr(e),null;case 3:return n=e.stateNode,Yc(),gt(Br),gt(xr),lC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(kp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fi!==null&&(Kw(fi),fi=null))),Fw(t,e),pr(e),null;case 5:aC(e);var i=Ma(Ah.current);if(r=e.type,t!==null&&e.stateNode!=null)Q$(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(X(166));return pr(e),null}if(t=Ma(Ki.current),kp(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[zi]=e,n[Ph]=s,t=(e.mode&1)!==0,r){case"dialog":ht("cancel",n),ht("close",n);break;case"iframe":case"object":case"embed":ht("load",n);break;case"video":case"audio":for(i=0;i<Ld.length;i++)ht(Ld[i],n);break;case"source":ht("error",n);break;case"img":case"image":case"link":ht("error",n),ht("load",n);break;case"details":ht("toggle",n);break;case"input":aE(n,s),ht("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ht("invalid",n);break;case"textarea":cE(n,s),ht("invalid",n)}hw(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ep(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ep(n.textContent,a,t),i=["children",""+a]):bh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ht("scroll",n)}switch(r){case"input":bp(n),lE(n,s,!0);break;case"textarea":bp(n),uE(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ym)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kM(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[zi]=e,t[Ph]=n,J$(t,e,!1,!1),e.stateNode=t;e:{switch(o=fw(r,n),r){case"dialog":ht("cancel",t),ht("close",t),i=n;break;case"iframe":case"object":case"embed":ht("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ld.length;i++)ht(Ld[i],t);i=n;break;case"source":ht("error",t),i=n;break;case"img":case"image":case"link":ht("error",t),ht("load",t),i=n;break;case"details":ht("toggle",t),i=n;break;case"input":aE(t,n),i=aw(t,n),ht("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ct({},n,{value:void 0}),ht("invalid",t);break;case"textarea":cE(t,n),i=uw(t,n),ht("invalid",t);break;default:i=n}hw(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?AM(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PM(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&xh(t,l):typeof l=="number"&&xh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ht("scroll",t):l!=null&&L1(t,s,l,o))}switch(r){case"input":bp(t),lE(t,n,!1);break;case"textarea":bp(t),uE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Vo(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?xc(t,!!n.multiple,s,!1):n.defaultValue!=null&&xc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ym)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pr(e),null;case 6:if(t&&e.stateNode!=null)eD(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(X(166));if(r=Ma(Ah.current),Ma(Ki.current),kp(e)){if(n=e.stateNode,r=e.memoizedProps,n[zi]=e,(s=n.nodeValue!==r)&&(t=un,t!==null))switch(t.tag){case 3:Ep(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ep(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zi]=e,e.stateNode=n}return pr(e),null;case 13:if(gt(_t),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&cn!==null&&e.mode&1&&!(e.flags&128))y$(),Kc(),e.flags|=98560,s=!1;else if(s=kp(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[zi]=e}else Kc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pr(e),s=!1}else fi!==null&&(Kw(fi),fi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?Kt===0&&(Kt=3):xC())),e.updateQueue!==null&&(e.flags|=4),pr(e),null);case 4:return Yc(),Fw(t,e),t===null&&Eh(e.stateNode.containerInfo),pr(e),null;case 10:return nC(e.type._context),pr(e),null;case 17:return zr(e.type)&&bm(),pr(e),null;case 19:if(gt(_t),s=e.memoizedState,s===null)return pr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)bd(s,!1);else{if(Kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tm(t),o!==null){for(e.flags|=128,bd(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ct(_t,_t.current&1|2),e.child}t=t.sibling}s.tail!==null&&jt()>Zc&&(e.flags|=128,n=!0,bd(s,!1),e.lanes=4194304)}else{if(!n)if(t=Tm(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),bd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yt)return pr(e),null}else 2*jt()-s.renderingStartTime>Zc&&r!==1073741824&&(e.flags|=128,n=!0,bd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jt(),e.sibling=null,r=_t.current,ct(_t,n?r&1|2:r&1),e):(pr(e),null);case 22:case 23:return bC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?tn&1073741824&&(pr(e),e.subtreeFlags&6&&(e.flags|=8192)):pr(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function Y8(t,e){switch(Q1(e),e.tag){case 1:return zr(e.type)&&bm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yc(),gt(Br),gt(xr),lC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return aC(e),null;case 13:if(gt(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Kc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(_t),null;case 4:return Yc(),null;case 10:return nC(e.type._context),null;case 22:case 23:return bC(),null;case 24:return null;default:return null}}var Ap=!1,mr=!1,X8=typeof WeakSet=="function"?WeakSet:Set,se=null;function uc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Et(t,e,n)}else r.current=null}function Bw(t,e,r){try{r()}catch(n){Et(t,e,n)}}var QE=!1;function Z8(t,e){if(Sw=gm,t=s$(),Z1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===r&&++c===i&&(a=o),h===s&&++u===n&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cw={focusedElem:t,selectionRange:r},gm=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,v=m.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:ni(e.type,p),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(_){Et(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return m=QE,QE=!1,m}function rh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Bw(e,r,s)}i=i.next}while(i!==n)}}function Cy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function zw(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function tD(t){var e=t.alternate;e!==null&&(t.alternate=null,tD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zi],delete e[Ph],delete e[Ew],delete e[R8],delete e[M8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rD(t){return t.tag===5||t.tag===3||t.tag===4}function ek(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uw(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ym));else if(n!==4&&(t=t.child,t!==null))for(Uw(t,e,r),t=t.sibling;t!==null;)Uw(t,e,r),t=t.sibling}function Ww(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ww(t,e,r),t=t.sibling;t!==null;)Ww(t,e,r),t=t.sibling}var lr=null,li=!1;function no(t,e,r){for(r=r.child;r!==null;)nD(t,e,r),r=r.sibling}function nD(t,e,r){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(my,r)}catch{}switch(r.tag){case 5:mr||uc(r,e);case 6:var n=lr,i=li;lr=null,no(t,e,r),lr=n,li=i,lr!==null&&(li?(t=lr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):lr.removeChild(r.stateNode));break;case 18:lr!==null&&(li?(t=lr,r=r.stateNode,t.nodeType===8?Nb(t.parentNode,r):t.nodeType===1&&Nb(t,r),Ch(t)):Nb(lr,r.stateNode));break;case 4:n=lr,i=li,lr=r.stateNode.containerInfo,li=!0,no(t,e,r),lr=n,li=i;break;case 0:case 11:case 14:case 15:if(!mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Bw(r,e,o),i=i.next}while(i!==n)}no(t,e,r);break;case 1:if(!mr&&(uc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Et(r,e,a)}no(t,e,r);break;case 21:no(t,e,r);break;case 22:r.mode&1?(mr=(n=mr)||r.memoizedState!==null,no(t,e,r),mr=n):no(t,e,r);break;default:no(t,e,r)}}function tk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new X8),e.forEach(function(n){var i=o6.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Yn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:lr=a.stateNode,li=!1;break e;case 3:lr=a.stateNode.containerInfo,li=!0;break e;case 4:lr=a.stateNode.containerInfo,li=!0;break e}a=a.return}if(lr===null)throw Error(X(160));nD(s,o,i),lr=null,li=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Et(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iD(e,t),e=e.sibling}function iD(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yn(e,t),Ri(t),n&4){try{rh(3,t,t.return),Cy(3,t)}catch(p){Et(t,t.return,p)}try{rh(5,t,t.return)}catch(p){Et(t,t.return,p)}}break;case 1:Yn(e,t),Ri(t),n&512&&r!==null&&uc(r,r.return);break;case 5:if(Yn(e,t),Ri(t),n&512&&r!==null&&uc(r,r.return),t.flags&32){var i=t.stateNode;try{xh(i,"")}catch(p){Et(t,t.return,p)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&TM(i,s),fw(a,o);var c=fw(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?AM(i,d):u==="dangerouslySetInnerHTML"?PM(i,d):u==="children"?xh(i,d):L1(i,u,d,c)}switch(a){case"input":lw(i,s);break;case"textarea":EM(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?xc(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?xc(i,!!s.multiple,s.defaultValue,!0):xc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ph]=s}catch(p){Et(t,t.return,p)}}break;case 6:if(Yn(e,t),Ri(t),n&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){Et(t,t.return,p)}}break;case 3:if(Yn(e,t),Ri(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ch(e.containerInfo)}catch(p){Et(t,t.return,p)}break;case 4:Yn(e,t),Ri(t);break;case 13:Yn(e,t),Ri(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vC=jt())),n&4&&tk(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(mr=(c=mr)||u,Yn(e,t),mr=c):Yn(e,t),Ri(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(se=t,u=t.child;u!==null;){for(d=se=u;se!==null;){switch(h=se,f=h.child,h.tag){case 0:case 11:case 14:case 15:rh(4,h,h.return);break;case 1:uc(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Et(n,r,p)}}break;case 5:uc(h,h.return);break;case 22:if(h.memoizedState!==null){nk(d);continue}}f!==null?(f.return=h,se=f):nk(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jM("display",o))}catch(p){Et(t,t.return,p)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(p){Et(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Yn(e,t),Ri(t),n&4&&tk(t);break;case 21:break;default:Yn(e,t),Ri(t)}}function Ri(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(rD(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(xh(i,""),n.flags&=-33);var s=ek(t);Ww(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ek(t);Uw(t,a,o);break;default:throw Error(X(161))}}catch(l){Et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function J8(t,e,r){se=t,sD(t)}function sD(t,e,r){for(var n=(t.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ap;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||mr;a=Ap;var c=mr;if(Ap=o,(mr=l)&&!c)for(se=i;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?ik(i):l!==null?(l.return=o,se=l):ik(i);for(;s!==null;)se=s,sD(s),s=s.sibling;se=i,Ap=a,mr=c}rk(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):rk(t)}}function rk(t){for(;se!==null;){var e=se;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mr||Cy(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!mr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ni(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&BE(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}BE(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ch(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}mr||e.flags&512&&zw(e)}catch(h){Et(e,e.return,h)}}if(e===t){se=null;break}if(r=e.sibling,r!==null){r.return=e.return,se=r;break}se=e.return}}function nk(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var r=e.sibling;if(r!==null){r.return=e.return,se=r;break}se=e.return}}function ik(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Cy(4,e)}catch(l){Et(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Et(e,i,l)}}var s=e.return;try{zw(e)}catch(l){Et(e,s,l)}break;case 5:var o=e.return;try{zw(e)}catch(l){Et(e,o,l)}}}catch(l){Et(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var Q8=Math.ceil,Pm=Ks.ReactCurrentDispatcher,gC=Ks.ReactCurrentOwner,$n=Ks.ReactCurrentBatchConfig,Fe=0,ir=null,It=null,ur=0,tn=0,dc=Qo(0),Kt=0,$h=null,ol=0,Oy=0,mC=0,nh=null,Ir=null,vC=0,Zc=1/0,fs=null,jm=!1,Vw=null,Io=null,Np=!1,ko=null,Am=0,ih=0,Hw=null,qg=-1,Yg=0;function jr(){return Fe&6?jt():qg!==-1?qg:qg=jt()}function Lo(t){return t.mode&1?Fe&2&&ur!==0?ur&-ur:D8.transition!==null?(Yg===0&&(Yg=WM()),Yg):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:XM(t.type)),t):1}function wi(t,e,r,n){if(50<ih)throw ih=0,Hw=null,Error(X(185));Bf(t,r,n),(!(Fe&2)||t!==ir)&&(t===ir&&(!(Fe&2)&&(Oy|=r),Kt===4&&vo(t,ur)),Ur(t,n),r===1&&Fe===0&&!(e.mode&1)&&(Zc=jt()+500,wy&&ea()))}function Ur(t,e){var r=t.callbackNode;DV(t,e);var n=pm(t,t===ir?ur:0);if(n===0)r!==null&&fE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&fE(r),e===1)t.tag===0?$8(sk.bind(null,t)):g$(sk.bind(null,t)),A8(function(){!(Fe&6)&&ea()}),r=null;else{switch(VM(n)){case 1:r=W1;break;case 4:r=zM;break;case 16:r=fm;break;case 536870912:r=UM;break;default:r=fm}r=fD(r,oD.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function oD(t,e){if(qg=-1,Yg=0,Fe&6)throw Error(X(327));var r=t.callbackNode;if(Oc()&&t.callbackNode!==r)return null;var n=pm(t,t===ir?ur:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Nm(t,n);else{e=n;var i=Fe;Fe|=2;var s=lD();(ir!==t||ur!==e)&&(fs=null,Zc=jt()+500,Ya(t,e));do try{r6();break}catch(a){aD(t,a)}while(!0);rC(),Pm.current=s,Fe=i,It!==null?e=0:(ir=null,ur=0,e=Kt)}if(e!==0){if(e===2&&(i=yw(t),i!==0&&(n=i,e=Gw(t,i))),e===1)throw r=$h,Ya(t,0),vo(t,n),Ur(t,jt()),r;if(e===6)vo(t,n);else{if(i=t.current.alternate,!(n&30)&&!e6(i)&&(e=Nm(t,n),e===2&&(s=yw(t),s!==0&&(n=s,e=Gw(t,s))),e===1))throw r=$h,Ya(t,0),vo(t,n),Ur(t,jt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(X(345));case 2:ya(t,Ir,fs);break;case 3:if(vo(t,n),(n&130023424)===n&&(e=vC+500-jt(),10<e)){if(pm(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){jr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Tw(ya.bind(null,t,Ir,fs),e);break}ya(t,Ir,fs);break;case 4:if(vo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-xi(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=jt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Q8(n/1960))-n,10<n){t.timeoutHandle=Tw(ya.bind(null,t,Ir,fs),n);break}ya(t,Ir,fs);break;case 5:ya(t,Ir,fs);break;default:throw Error(X(329))}}}return Ur(t,jt()),t.callbackNode===r?oD.bind(null,t):null}function Gw(t,e){var r=nh;return t.current.memoizedState.isDehydrated&&(Ya(t,e).flags|=256),t=Nm(t,e),t!==2&&(e=Ir,Ir=r,e!==null&&Kw(e)),t}function Kw(t){Ir===null?Ir=t:Ir.push.apply(Ir,t)}function e6(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Oi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vo(t,e){for(e&=~mC,e&=~Oy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-xi(e),n=1<<r;t[r]=-1,e&=~n}}function sk(t){if(Fe&6)throw Error(X(327));Oc();var e=pm(t,0);if(!(e&1))return Ur(t,jt()),null;var r=Nm(t,e);if(t.tag!==0&&r===2){var n=yw(t);n!==0&&(e=n,r=Gw(t,n))}if(r===1)throw r=$h,Ya(t,0),vo(t,e),Ur(t,jt()),r;if(r===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ya(t,Ir,fs),Ur(t,jt()),null}function yC(t,e){var r=Fe;Fe|=1;try{return t(e)}finally{Fe=r,Fe===0&&(Zc=jt()+500,wy&&ea())}}function al(t){ko!==null&&ko.tag===0&&!(Fe&6)&&Oc();var e=Fe;Fe|=1;var r=$n.transition,n=Ze;try{if($n.transition=null,Ze=1,t)return t()}finally{Ze=n,$n.transition=r,Fe=e,!(Fe&6)&&ea()}}function bC(){tn=dc.current,gt(dc)}function Ya(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,j8(r)),It!==null)for(r=It.return;r!==null;){var n=r;switch(Q1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bm();break;case 3:Yc(),gt(Br),gt(xr),lC();break;case 5:aC(n);break;case 4:Yc();break;case 13:gt(_t);break;case 19:gt(_t);break;case 10:nC(n.type._context);break;case 22:case 23:bC()}r=r.return}if(ir=t,It=t=Fo(t.current,null),ur=tn=e,Kt=0,$h=null,mC=Oy=ol=0,Ir=nh=null,Ra!==null){for(e=0;e<Ra.length;e++)if(r=Ra[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Ra=null}return t}function aD(t,e){do{var r=It;try{if(rC(),Hg.current=km,Em){for(var n=St.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Em=!1}if(sl=0,er=Vt=St=null,th=!1,Nh=0,gC.current=null,r===null||r.return===null){Kt=1,$h=e,It=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=ur,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=GE(o);if(f!==null){f.flags&=-257,KE(f,o,a,s,e),f.mode&1&&HE(s,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){HE(s,c,e),xC();break e}l=Error(X(426))}}else if(yt&&a.mode&1){var v=GE(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),KE(v,o,a,s,e),eC(Xc(l,a));break e}}s=l=Xc(l,a),Kt!==4&&(Kt=2),nh===null?nh=[s]:nh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=V$(s,l,e);FE(s,y);break e;case 1:a=l;var b=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Io===null||!Io.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=H$(s,a,e);FE(s,_);break e}}s=s.return}while(s!==null)}uD(r)}catch(S){e=S,It===r&&r!==null&&(It=r=r.return);continue}break}while(!0)}function lD(){var t=Pm.current;return Pm.current=km,t===null?km:t}function xC(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),ir===null||!(ol&268435455)&&!(Oy&268435455)||vo(ir,ur)}function Nm(t,e){var r=Fe;Fe|=2;var n=lD();(ir!==t||ur!==e)&&(fs=null,Ya(t,e));do try{t6();break}catch(i){aD(t,i)}while(!0);if(rC(),Fe=r,Pm.current=n,It!==null)throw Error(X(261));return ir=null,ur=0,Kt}function t6(){for(;It!==null;)cD(It)}function r6(){for(;It!==null&&!EV();)cD(It)}function cD(t){var e=hD(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?uD(t):It=e,gC.current=null}function uD(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Y8(r,e),r!==null){r.flags&=32767,It=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kt=6,It=null;return}}else if(r=q8(r,e,tn),r!==null){It=r;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Kt===0&&(Kt=5)}function ya(t,e,r){var n=Ze,i=$n.transition;try{$n.transition=null,Ze=1,n6(t,e,r,n)}finally{$n.transition=i,Ze=n}return null}function n6(t,e,r,n){do Oc();while(ko!==null);if(Fe&6)throw Error(X(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(IV(t,s),t===ir&&(It=ir=null,ur=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Np||(Np=!0,fD(fm,function(){return Oc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=$n.transition,$n.transition=null;var o=Ze;Ze=1;var a=Fe;Fe|=4,gC.current=null,Z8(t,r),iD(r,t),S8(Cw),gm=!!Sw,Cw=Sw=null,t.current=r,J8(r),kV(),Fe=a,Ze=o,$n.transition=s}else t.current=r;if(Np&&(Np=!1,ko=t,Am=i),s=t.pendingLanes,s===0&&(Io=null),AV(r.stateNode),Ur(t,jt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(jm)throw jm=!1,t=Vw,Vw=null,t;return Am&1&&t.tag!==0&&Oc(),s=t.pendingLanes,s&1?t===Hw?ih++:(ih=0,Hw=t):ih=0,ea(),null}function Oc(){if(ko!==null){var t=VM(Am),e=$n.transition,r=Ze;try{if($n.transition=null,Ze=16>t?16:t,ko===null)var n=!1;else{if(t=ko,ko=null,Am=0,Fe&6)throw Error(X(331));var i=Fe;for(Fe|=4,se=t.current;se!==null;){var s=se,o=s.child;if(se.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(se=c;se!==null;){var u=se;switch(u.tag){case 0:case 11:case 15:rh(8,u,s)}var d=u.child;if(d!==null)d.return=u,se=d;else for(;se!==null;){u=se;var h=u.sibling,f=u.return;if(tD(u),u===c){se=null;break}if(h!==null){h.return=f,se=h;break}se=f}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}se=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,se=o;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:rh(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,se=y;break e}se=s.return}}var b=t.current;for(se=b;se!==null;){o=se;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,se=x;else e:for(o=b;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cy(9,a)}}catch(S){Et(a,a.return,S)}if(a===o){se=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,se=_;break e}se=a.return}}if(Fe=i,ea(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(my,t)}catch{}n=!0}return n}finally{Ze=r,$n.transition=e}}return!1}function ok(t,e,r){e=Xc(r,e),e=V$(t,e,1),t=Do(t,e,1),e=jr(),t!==null&&(Bf(t,1,e),Ur(t,e))}function Et(t,e,r){if(t.tag===3)ok(t,t,r);else for(;e!==null;){if(e.tag===3){ok(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Io===null||!Io.has(n))){t=Xc(r,t),t=H$(e,t,1),e=Do(e,t,1),t=jr(),e!==null&&(Bf(e,1,t),Ur(e,t));break}}e=e.return}}function i6(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=jr(),t.pingedLanes|=t.suspendedLanes&r,ir===t&&(ur&r)===r&&(Kt===4||Kt===3&&(ur&130023424)===ur&&500>jt()-vC?Ya(t,0):mC|=r),Ur(t,e)}function dD(t,e){e===0&&(t.mode&1?(e=_p,_p<<=1,!(_p&130023424)&&(_p=4194304)):e=1);var r=jr();t=Ds(t,e),t!==null&&(Bf(t,e,r),Ur(t,r))}function s6(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),dD(t,r)}function o6(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(e),dD(t,r)}var hD;hD=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Br.current)Lr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Lr=!1,K8(t,e,r);Lr=!!(t.flags&131072)}else Lr=!1,yt&&e.flags&1048576&&m$(e,_m,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Kg(t,e),t=e.pendingProps;var i=Gc(e,xr.current);Cc(e,r),i=uC(null,e,n,t,i,r);var s=dC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zr(n)?(s=!0,xm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sC(e),i.updater=Sy,e.stateNode=i,i._reactInternals=e,Rw(e,n,t,r),e=Dw(null,e,n,!0,s,r)):(e.tag=0,yt&&s&&J1(e),_r(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Kg(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=l6(n),t=ni(n,t),i){case 0:e=$w(null,e,n,t,r);break e;case 1:e=XE(null,e,n,t,r);break e;case 11:e=qE(null,e,n,t,r);break e;case 14:e=YE(null,e,n,ni(n.type,t),r);break e}throw Error(X(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ni(n,i),$w(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ni(n,i),XE(t,e,n,i,r);case 3:e:{if(Y$(e),t===null)throw Error(X(387));n=e.pendingProps,s=e.memoizedState,i=s.element,_$(t,e),Om(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xc(Error(X(423)),e),e=ZE(t,e,n,r,i);break e}else if(n!==i){i=Xc(Error(X(424)),e),e=ZE(t,e,n,r,i);break e}else for(cn=$o(e.stateNode.containerInfo.firstChild),un=e,yt=!0,fi=null,r=x$(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kc(),n===i){e=Is(t,e,r);break e}_r(t,e,n,r)}e=e.child}return e;case 5:return S$(e),t===null&&jw(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ow(n,i)?o=null:s!==null&&Ow(n,s)&&(e.flags|=32),q$(t,e),_r(t,e,o,r),e.child;case 6:return t===null&&jw(e),null;case 13:return X$(t,e,r);case 4:return oC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=qc(e,null,n,r):_r(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ni(n,i),qE(t,e,n,i,r);case 7:return _r(t,e,e.pendingProps,r),e.child;case 8:return _r(t,e,e.pendingProps.children,r),e.child;case 12:return _r(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ct(Sm,n._currentValue),n._currentValue=o,s!==null)if(Oi(s.value,o)){if(s.children===i.children&&!Br.current){e=Is(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ks(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Aw(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Aw(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_r(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Cc(e,r),i=Dn(i),n=n(i),e.flags|=1,_r(t,e,n,r),e.child;case 14:return n=e.type,i=ni(n,e.pendingProps),i=ni(n.type,i),YE(t,e,n,i,r);case 15:return G$(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ni(n,i),Kg(t,e),e.tag=1,zr(n)?(t=!0,xm(e)):t=!1,Cc(e,r),W$(e,n,i),Rw(e,n,i,r),Dw(null,e,n,!0,t,r);case 19:return Z$(t,e,r);case 22:return K$(t,e,r)}throw Error(X(156,e.tag))};function fD(t,e){return BM(t,e)}function a6(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,r,n){return new a6(t,e,r,n)}function wC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function l6(t){if(typeof t=="function")return wC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===B1)return 11;if(t===z1)return 14}return 2}function Fo(t,e){var r=t.alternate;return r===null?(r=An(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Xg(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")wC(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case tc:return Xa(r.children,i,s,e);case F1:o=8,i|=8;break;case nw:return t=An(12,r,e,i|2),t.elementType=nw,t.lanes=s,t;case iw:return t=An(13,r,e,i),t.elementType=iw,t.lanes=s,t;case sw:return t=An(19,r,e,i),t.elementType=sw,t.lanes=s,t;case SM:return Ty(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wM:o=10;break e;case _M:o=9;break e;case B1:o=11;break e;case z1:o=14;break e;case ho:o=16,n=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=An(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Xa(t,e,r,n){return t=An(7,t,n,e),t.lanes=r,t}function Ty(t,e,r,n){return t=An(22,t,n,e),t.elementType=SM,t.lanes=r,t.stateNode={isHidden:!1},t}function Bb(t,e,r){return t=An(6,t,null,e),t.lanes=r,t}function zb(t,e,r){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function c6(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wb(0),this.expirationTimes=wb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wb(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _C(t,e,r,n,i,s,o,a,l){return t=new c6(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=An(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sC(s),t}function u6(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ec,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function pD(t){if(!t)return Ho;t=t._reactInternals;e:{if(_l(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var r=t.type;if(zr(r))return p$(t,r,e)}return e}function gD(t,e,r,n,i,s,o,a,l){return t=_C(r,n,!0,t,i,s,o,a,l),t.context=pD(null),r=t.current,n=jr(),i=Lo(r),s=ks(n,i),s.callback=e??null,Do(r,s,i),t.current.lanes=i,Bf(t,i,n),Ur(t,n),t}function Ey(t,e,r,n){var i=e.current,s=jr(),o=Lo(i);return r=pD(r),e.context===null?e.context=r:e.pendingContext=r,e=ks(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Do(i,e,o),t!==null&&(wi(t,i,o,s),Vg(t,i,o)),o}function Rm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ak(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function SC(t,e){ak(t,e),(t=t.alternate)&&ak(t,e)}function d6(){return null}var mD=typeof reportError=="function"?reportError:function(t){console.error(t)};function CC(t){this._internalRoot=t}ky.prototype.render=CC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Ey(t,e,null,null)};ky.prototype.unmount=CC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;al(function(){Ey(null,t,null,null)}),e[$s]=null}};function ky(t){this._internalRoot=t}ky.prototype.unstable_scheduleHydration=function(t){if(t){var e=KM();t={blockedOn:null,target:t,priority:e};for(var r=0;r<mo.length&&e!==0&&e<mo[r].priority;r++);mo.splice(r,0,t),r===0&&YM(t)}};function OC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Py(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lk(){}function h6(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Rm(o);s.call(c)}}var o=gD(e,n,t,0,null,!1,!1,"",lk);return t._reactRootContainer=o,t[$s]=o.current,Eh(t.nodeType===8?t.parentNode:t),al(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=Rm(l);a.call(c)}}var l=_C(t,0,!1,null,null,!1,!1,"",lk);return t._reactRootContainer=l,t[$s]=l.current,Eh(t.nodeType===8?t.parentNode:t),al(function(){Ey(e,l,r,n)}),l}function jy(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Rm(o);a.call(l)}}Ey(e,o,t,i)}else o=h6(r,e,t,i,n);return Rm(o)}HM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Id(e.pendingLanes);r!==0&&(V1(e,r|1),Ur(e,jt()),!(Fe&6)&&(Zc=jt()+500,ea()))}break;case 13:al(function(){var n=Ds(t,1);if(n!==null){var i=jr();wi(n,t,1,i)}}),SC(t,1)}};H1=function(t){if(t.tag===13){var e=Ds(t,134217728);if(e!==null){var r=jr();wi(e,t,134217728,r)}SC(t,134217728)}};GM=function(t){if(t.tag===13){var e=Lo(t),r=Ds(t,e);if(r!==null){var n=jr();wi(r,t,e,n)}SC(t,e)}};KM=function(){return Ze};qM=function(t,e){var r=Ze;try{return Ze=t,e()}finally{Ze=r}};gw=function(t,e,r){switch(e){case"input":if(lw(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=xy(n);if(!i)throw Error(X(90));OM(n),lw(n,i)}}}break;case"textarea":EM(t,r);break;case"select":e=r.value,e!=null&&xc(t,!!r.multiple,e,!1)}};MM=yC;$M=al;var f6={usingClientEntryPoint:!1,Events:[Uf,sc,xy,NM,RM,yC]},xd={findFiberByHostInstance:Na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p6={bundleType:xd.bundleType,version:xd.version,rendererPackageName:xd.rendererPackageName,rendererConfig:xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LM(t),t===null?null:t.stateNode},findFiberByHostInstance:xd.findFiberByHostInstance||d6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rp.isDisabled&&Rp.supportsFiber)try{my=Rp.inject(p6),Gi=Rp}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f6;mn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OC(e))throw Error(X(200));return u6(t,e,null,r)};mn.createRoot=function(t,e){if(!OC(t))throw Error(X(299));var r=!1,n="",i=mD;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_C(t,1,!1,null,null,r,!1,n,i),t[$s]=e.current,Eh(t.nodeType===8?t.parentNode:t),new CC(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=LM(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return al(t)};mn.hydrate=function(t,e,r){if(!Py(e))throw Error(X(200));return jy(null,t,e,!0,r)};mn.hydrateRoot=function(t,e,r){if(!OC(t))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=mD;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=gD(e,null,t,1,r??null,i,!1,s,o),t[$s]=e.current,Eh(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new ky(e)};mn.render=function(t,e,r){if(!Py(e))throw Error(X(200));return jy(null,t,e,!1,r)};mn.unmountComponentAtNode=function(t){if(!Py(t))throw Error(X(40));return t._reactRootContainer?(al(function(){jy(null,null,t,!1,function(){t._reactRootContainer=null,t[$s]=null})}),!0):!1};mn.unstable_batchedUpdates=yC;mn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Py(r))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return jy(t,e,r,!1,n)};mn.version="18.3.1-next-f1338f8080-20240426";function vD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vD)}catch(t){console.error(t)}}vD(),vM.exports=mn;var Sl=vM.exports;const yD=Xe(Sl);var bD,ck=Sl;bD=ck.createRoot,ck.hydrateRoot;const g6=1,m6=1e6;let Ub=0;function v6(){return Ub=(Ub+1)%Number.MAX_SAFE_INTEGER,Ub.toString()}const Wb=new Map,uk=t=>{if(Wb.has(t))return;const e=setTimeout(()=>{Wb.delete(t),sh({type:"REMOVE_TOAST",toastId:t})},m6);Wb.set(t,e)},y6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,g6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?uk(r):t.toasts.forEach(n=>{uk(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Zg=[];let Jg={toasts:[]};function sh(t){Jg=y6(Jg,t),Zg.forEach(e=>{e(Jg)})}function b6({...t}){const e=v6(),r=i=>sh({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>sh({type:"DISMISS_TOAST",toastId:e});return sh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function x6(){const[t,e]=w.useState(Jg);return w.useEffect(()=>(Zg.push(e),()=>{const r=Zg.indexOf(e);r>-1&&Zg.splice(r,1)}),[t]),{...t,toast:b6,dismiss:r=>sh({type:"DISMISS_TOAST",toastId:r})}}function he(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function dk(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Lu(...t){return e=>{let r=!1;const n=t.map(i=>{const s=dk(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():dk(t[i],null)}}}}function Le(...t){return w.useCallback(Lu(...t),t)}function w6(t,e){const r=w.createContext(e),n=s=>{const{children:o,...a}=s,l=w.useMemo(()=>a,Object.values(a));return g.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function i(s){const o=w.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function ns(t,e=[]){let r=[];function n(s,o){const a=w.createContext(o),l=r.length;r=[...r,o];const c=d=>{var y;const{scope:h,children:f,...m}=d,p=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,v=w.useMemo(()=>m,Object.values(m));return g.jsx(p.Provider,{value:v,children:f})};c.displayName=s+"Provider";function u(d,h){var p;const f=((p=h==null?void 0:h[t])==null?void 0:p[l])||a,m=w.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=r.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[n,_6(i,...e)]}function _6(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function hk(t){const e=S6(t),r=w.forwardRef((n,i)=>{const{children:s,...o}=n,a=w.Children.toArray(s),l=a.find(O6);if(l){const c=l.props.children,u=a.map(d=>d===l?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:d);return g.jsx(e,{...o,ref:i,children:w.isValidElement(c)?w.cloneElement(c,void 0,u):null})}return g.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function S6(t){const e=w.forwardRef((r,n)=>{const{children:i,...s}=r;if(w.isValidElement(i)){const o=E6(i),a=T6(s,i.props);return i.type!==w.Fragment&&(a.ref=n?Lu(n,o):o),w.cloneElement(i,a)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var C6=Symbol("radix.slottable");function O6(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===C6}function T6(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function E6(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function TC(t){const e=t+"CollectionProvider",[r,n]=ns(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:y}=p,b=k.useRef(null),x=k.useRef(new Map).current;return g.jsx(i,{scope:v,itemMap:x,collectionRef:b,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=hk(a),c=k.forwardRef((p,v)=>{const{scope:y,children:b}=p,x=s(a,y),_=Le(v,x.collectionRef);return g.jsx(l,{ref:_,children:b})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=hk(u),f=k.forwardRef((p,v)=>{const{scope:y,children:b,...x}=p,_=k.useRef(null),S=Le(v,_),C=s(u,y);return k.useEffect(()=>(C.itemMap.set(_,{ref:_,...x}),()=>void C.itemMap.delete(_))),g.jsx(h,{[d]:"",ref:S,children:b})});f.displayName=u;function m(p){const v=s(t+"CollectionConsumer",p);return k.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((C,O)=>x.indexOf(C.ref.current)-x.indexOf(O.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,n]}function k6(t){const e=P6(t),r=w.forwardRef((n,i)=>{const{children:s,...o}=n,a=w.Children.toArray(s),l=a.find(A6);if(l){const c=l.props.children,u=a.map(d=>d===l?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:d);return g.jsx(e,{...o,ref:i,children:w.isValidElement(c)?w.cloneElement(c,void 0,u):null})}return g.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function P6(t){const e=w.forwardRef((r,n)=>{const{children:i,...s}=r;if(w.isValidElement(i)){const o=R6(i),a=N6(s,i.props);return i.type!==w.Fragment&&(a.ref=n?Lu(n,o):o),w.cloneElement(i,a)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var j6=Symbol("radix.slottable");function A6(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===j6}function N6(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function R6(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var M6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ce=M6.reduce((t,e)=>{const r=k6(`Primitive.${e}`),n=w.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function xD(t,e){t&&Sl.flushSync(()=>t.dispatchEvent(e))}function Lt(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function $6(t,e=globalThis==null?void 0:globalThis.document){const r=Lt(t);w.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var D6="DismissableLayer",qw="dismissableLayer.update",I6="dismissableLayer.pointerDownOutside",L6="dismissableLayer.focusOutside",fk,wD=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vf=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=w.useContext(wD),[u,d]=w.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=w.useState({}),m=Le(e,O=>d(O)),p=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(v),b=u?p.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,_=b>=y,S=B6(O=>{const T=O.target,E=[...c.branches].some(j=>j.contains(T));!_||E||(i==null||i(O),o==null||o(O),O.defaultPrevented||a==null||a())},h),C=z6(O=>{const T=O.target;[...c.branches].some(j=>j.contains(T))||(s==null||s(O),o==null||o(O),O.defaultPrevented||a==null||a())},h);return $6(O=>{b===c.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},h),w.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(fk=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),pk(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=fk)}},[u,h,r,c]),w.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),pk())},[u,c]),w.useEffect(()=>{const O=()=>f({});return document.addEventListener(qw,O),()=>document.removeEventListener(qw,O)},[]),g.jsx(Ce.div,{...l,ref:m,style:{pointerEvents:x?_?"auto":"none":void 0,...t.style},onFocusCapture:he(t.onFocusCapture,C.onFocusCapture),onBlurCapture:he(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:he(t.onPointerDownCapture,S.onPointerDownCapture)})});Vf.displayName=D6;var F6="DismissableLayerBranch",_D=w.forwardRef((t,e)=>{const r=w.useContext(wD),n=w.useRef(null),i=Le(e,n);return w.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),g.jsx(Ce.div,{...t,ref:i})});_D.displayName=F6;function B6(t,e=globalThis==null?void 0:globalThis.document){const r=Lt(t),n=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let l=function(){SD(I6,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function z6(t,e=globalThis==null?void 0:globalThis.document){const r=Lt(t),n=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!n.current&&SD(L6,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function pk(){const t=new CustomEvent(qw);document.dispatchEvent(t)}function SD(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?xD(i,s):i.dispatchEvent(s)}var U6=Vf,W6=_D,Nt=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},V6="Portal",Ay=w.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[i,s]=w.useState(!1);Nt(()=>s(!0),[]);const o=r||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?yD.createPortal(g.jsx(Ce.div,{...n,ref:e}),o):null});Ay.displayName=V6;function H6(t,e){return w.useReducer((r,n)=>e[r][n]??r,t)}var Pi=t=>{const{present:e,children:r}=t,n=G6(e),i=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),s=Le(n.ref,K6(i));return typeof r=="function"||n.isPresent?w.cloneElement(i,{ref:s}):null};Pi.displayName="Presence";function G6(t){const[e,r]=w.useState(),n=w.useRef(null),i=w.useRef(t),s=w.useRef("none"),o=t?"mounted":"unmounted",[a,l]=H6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=Mp(n.current);s.current=a==="mounted"?c:"none"},[a]),Nt(()=>{const c=n.current,u=i.current;if(u!==t){const h=s.current,f=Mp(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Nt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const p=Mp(n.current).includes(CSS.escape(f.animationName));if(f.target===e&&p&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=f=>{f.target===e&&(s.current=Mp(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Mp(t){return(t==null?void 0:t.animationName)||"none"}function K6(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var q6=gy[" useInsertionEffect ".trim().toString()]||Nt;function ll({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,o]=Y6({defaultProp:e,onChange:r}),a=t!==void 0,l=a?t:i;{const u=w.useRef(t!==void 0);w.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,n])}const c=w.useCallback(u=>{var d;if(a){const h=X6(u)?u(t):u;h!==t&&((d=o.current)==null||d.call(o,h))}else s(u)},[a,t,s,o]);return[l,c]}function Y6({defaultProp:t,onChange:e}){const[r,n]=w.useState(t),i=w.useRef(r),s=w.useRef(e);return q6(()=>{s.current=e},[e]),w.useEffect(()=>{var o;i.current!==r&&((o=s.current)==null||o.call(s,r),i.current=r)},[r,i]),[r,n,s]}function X6(t){return typeof t=="function"}var CD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Z6="VisuallyHidden",Ny=w.forwardRef((t,e)=>g.jsx(Ce.span,{...t,ref:e,style:{...CD,...t.style}}));Ny.displayName=Z6;var J6=Ny,EC="ToastProvider",[kC,Q6,eH]=TC("Toast"),[OD]=ns("Toast",[eH]),[tH,Ry]=OD(EC),TD=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=w.useState(null),[c,u]=w.useState(0),d=w.useRef(!1),h=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${EC}\`. Expected non-empty \`string\`.`),g.jsx(kC.Provider,{scope:e,children:g.jsx(tH,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:w.useCallback(()=>u(f=>f+1),[]),onToastRemove:w.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};TD.displayName=EC;var ED="ToastViewport",rH=["F8"],Yw="toast.viewportPause",Xw="toast.viewportResume",kD=w.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=rH,label:i="Notifications ({hotkey})",...s}=t,o=Ry(ED,r),a=Q6(r),l=w.useRef(null),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),h=Le(e,d,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;w.useEffect(()=>{const v=y=>{var x;n.length!==0&&n.every(_=>y[_]||y.code===_)&&((x=d.current)==null||x.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),w.useEffect(()=>{const v=l.current,y=d.current;if(m&&v&&y){const b=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Yw);y.dispatchEvent(C),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Xw);y.dispatchEvent(C),o.isClosePausedRef.current=!1}},_=C=>{!v.contains(C.relatedTarget)&&x()},S=()=>{v.contains(document.activeElement)||x()};return v.addEventListener("focusin",b),v.addEventListener("focusout",_),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[m,o.isClosePausedRef]);const p=w.useCallback(({tabbingDirection:v})=>{const b=a().map(x=>{const _=x.ref.current,S=[_,...gH(_)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?b.reverse():b).flat()},[a]);return w.useEffect(()=>{const v=d.current;if(v){const y=b=>{var S,C,O;const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const T=document.activeElement,E=b.shiftKey;if(b.target===v&&E){(S=c.current)==null||S.focus();return}const A=p({tabbingDirection:E?"backwards":"forwards"}),I=A.findIndex(R=>R===T);Vb(A.slice(I+1))?b.preventDefault():E?(C=c.current)==null||C.focus():(O=u.current)==null||O.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[a,p]),g.jsxs(W6,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&g.jsx(Zw,{ref:c,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});Vb(v)}}),g.jsx(kC.Slot,{scope:r,children:g.jsx(Ce.ol,{tabIndex:-1,...s,ref:h})}),m&&g.jsx(Zw,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});Vb(v)}})]})});kD.displayName=ED;var PD="ToastFocusProxy",Zw=w.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=Ry(PD,r);return g.jsx(Ny,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&n()}})});Zw.displayName=PD;var Hf="Toast",nH="toast.swipeStart",iH="toast.swipeMove",sH="toast.swipeCancel",oH="toast.swipeEnd",jD=w.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=ll({prop:n,defaultProp:i??!0,onChange:s,caller:Hf});return g.jsx(Pi,{present:r||a,children:g.jsx(cH,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Lt(t.onPause),onResume:Lt(t.onResume),onSwipeStart:he(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:he(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});jD.displayName=Hf;var[aH,lH]=OD(Hf,{onClose(){}}),cH=w.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...m}=t,p=Ry(Hf,r),[v,y]=w.useState(null),b=Le(e,R=>y(R)),x=w.useRef(null),_=w.useRef(null),S=i||p.duration,C=w.useRef(0),O=w.useRef(S),T=w.useRef(0),{onToastAdd:E,onToastRemove:j}=p,P=Lt(()=>{var L;(v==null?void 0:v.contains(document.activeElement))&&((L=p.viewport)==null||L.focus()),o()}),A=w.useCallback(R=>{!R||R===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(P,R))},[P]);w.useEffect(()=>{const R=p.viewport;if(R){const L=()=>{A(O.current),c==null||c()},$=()=>{const B=new Date().getTime()-C.current;O.current=O.current-B,window.clearTimeout(T.current),l==null||l()};return R.addEventListener(Yw,$),R.addEventListener(Xw,L),()=>{R.removeEventListener(Yw,$),R.removeEventListener(Xw,L)}}},[p.viewport,S,l,c,A]),w.useEffect(()=>{s&&!p.isClosePausedRef.current&&A(S)},[s,S,p.isClosePausedRef,A]),w.useEffect(()=>(E(),()=>j()),[E,j]);const I=w.useMemo(()=>v?ID(v):null,[v]);return p.viewport?g.jsxs(g.Fragment,{children:[I&&g.jsx(uH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:I}),g.jsx(aH,{scope:r,onClose:P,children:Sl.createPortal(g.jsx(kC.ItemSlot,{scope:r,children:g.jsx(U6,{asChild:!0,onEscapeKeyDown:he(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||P(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(Ce.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":p.swipeDirection,...m,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:he(t.onKeyDown,R=>{R.key==="Escape"&&(a==null||a(R.nativeEvent),R.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:he(t.onPointerDown,R=>{R.button===0&&(x.current={x:R.clientX,y:R.clientY})}),onPointerMove:he(t.onPointerMove,R=>{if(!x.current)return;const L=R.clientX-x.current.x,$=R.clientY-x.current.y,B=!!_.current,N=["left","right"].includes(p.swipeDirection),M=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,z=N?M(0,L):0,H=N?0:M(0,$),U=R.pointerType==="touch"?10:2,q={x:z,y:H},ee={originalEvent:R,delta:q};B?(_.current=q,$p(iH,d,ee,{discrete:!1})):gk(q,p.swipeDirection,U)?(_.current=q,$p(nH,u,ee,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(L)>U||Math.abs($)>U)&&(x.current=null)}),onPointerUp:he(t.onPointerUp,R=>{const L=_.current,$=R.target;if($.hasPointerCapture(R.pointerId)&&$.releasePointerCapture(R.pointerId),_.current=null,x.current=null,L){const B=R.currentTarget,N={originalEvent:R,delta:L};gk(L,p.swipeDirection,p.swipeThreshold)?$p(oH,f,N,{discrete:!0}):$p(sH,h,N,{discrete:!0}),B.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),uH=t=>{const{__scopeToast:e,children:r,...n}=t,i=Ry(Hf,e),[s,o]=w.useState(!1),[a,l]=w.useState(!1);return fH(()=>o(!0)),w.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:g.jsx(Ay,{asChild:!0,children:g.jsx(Ny,{...n,children:s&&g.jsxs(g.Fragment,{children:[i.label," ",r]})})})},dH="ToastTitle",AD=w.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return g.jsx(Ce.div,{...n,ref:e})});AD.displayName=dH;var hH="ToastDescription",ND=w.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return g.jsx(Ce.div,{...n,ref:e})});ND.displayName=hH;var RD="ToastAction",MD=w.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?g.jsx(DD,{altText:r,asChild:!0,children:g.jsx(PC,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${RD}\`. Expected non-empty \`string\`.`),null)});MD.displayName=RD;var $D="ToastClose",PC=w.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=lH($D,r);return g.jsx(DD,{asChild:!0,children:g.jsx(Ce.button,{type:"button",...n,ref:e,onClick:he(t.onClick,i.onClose)})})});PC.displayName=$D;var DD=w.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return g.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function ID(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),pH(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...ID(n))}}),e}function $p(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?xD(i,s):i.dispatchEvent(s)}var gk=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function fH(t=()=>{}){const e=Lt(t);Nt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function pH(t){return t.nodeType===t.ELEMENT_NODE}function gH(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Vb(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var mH=TD,LD=kD,FD=jD,BD=AD,zD=ND,UD=MD,WD=PC;function VD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=VD(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function je(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=VD(t))&&(n&&(n+=" "),n+=e);return n}const mk=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,vk=je,Gf=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return vk(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=r==null?void 0:r[c],d=s==null?void 0:s[c];if(u===null)return null;const h=mk(u)||mk(d);return i[c][h]}),a=r&&Object.entries(r).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(m=>{let[p,v]=m;return Array.isArray(v)?v.includes({...s,...a}[p]):{...s,...a}[p]===v})?[...c,d,h]:c},[]);return vk(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HD=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...yH,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:HD("lucide",i),...a},[...o.map(([c,u])=>w.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const r=w.forwardRef(({className:n,...i},s)=>w.createElement(bH,{ref:s,iconNode:e,className:HD(`lucide-${vH(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=De("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=De("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=De("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=De("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=De("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=De("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=De("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=De("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=De("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=De("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=De("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=De("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=De("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=De("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=De("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=De("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=De("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=De("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=De("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=De("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=De("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),RC="-",NH=t=>{const e=MH(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(RC);return a[0]===""&&a.length!==1&&a.shift(),QD(a,e)||RH(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},QD=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?QD(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(RC);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Sk=/^\[(.+)\]$/,RH=t=>{if(Sk.test(t)){const e=Sk.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},MH=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return DH(Object.entries(t.classGroups),r).forEach(([s,o])=>{r_(o,n,s,e)}),n},r_=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Ck(e,i);s.classGroupId=r;return}if(typeof i=="function"){if($H(i)){r_(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{r_(o,Ck(e,s),r,n)})})},Ck=(t,e)=>{let r=t;return e.split(RC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},$H=t=>t.isThemeGetter,DH=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[r,i]}):t,IH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},eI="!",LH=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let v=0;v<a.length;v++){let y=a[v];if(c===0){if(y===i&&(n||a.slice(v,v+s)===e)){l.push(a.slice(u,v)),u=v+s;continue}if(y==="/"){d=v;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?a:a.substring(u),f=h.startsWith(eI),m=f?h.substring(1):h,p=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}};return r?a=>r({className:a,parseClassName:o}):o},FH=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},BH=t=>({cache:IH(t.cacheSize),parseClassName:LH(t),...NH(t)}),zH=/\s+/,UH=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(zH);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=r(c);let m=!!f,p=n(m?h.substring(0,f):h);if(!p){if(!m){a=c+(a.length>0?" "+a:a);continue}if(p=n(h),!p){a=c+(a.length>0?" "+a:a);continue}m=!1}const v=FH(u).join(":"),y=d?v+eI:v,b=y+p;if(s.includes(b))continue;s.push(b);const x=i(p,m);for(let _=0;_<x.length;++_){const S=x[_];s.push(y+S)}a=c+(a.length>0?" "+a:a)}return a};function WH(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=tI(e))&&(n&&(n+=" "),n+=r);return n}const tI=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=tI(t[n]))&&(r&&(r+=" "),r+=e);return r};function VH(t,...e){let r,n,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return r=BH(c),n=r.cache.get,i=r.cache.set,s=a,a(l)}function a(l){const c=n(l);if(c)return c;const u=UH(l,r);return i(l,u),u}return function(){return s(WH.apply(null,arguments))}}const dt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},rI=/^\[(?:([a-z-]+):)?(.+)\]$/i,HH=/^\d+\/\d+$/,GH=new Set(["px","full","screen"]),KH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,XH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cs=t=>Tc(t)||GH.has(t)||HH.test(t),io=t=>Fu(t,"length",s9),Tc=t=>!!t&&!Number.isNaN(Number(t)),Hb=t=>Fu(t,"number",Tc),wd=t=>!!t&&Number.isInteger(Number(t)),JH=t=>t.endsWith("%")&&Tc(t.slice(0,-1)),Ae=t=>rI.test(t),so=t=>KH.test(t),QH=new Set(["length","size","percentage"]),e9=t=>Fu(t,QH,nI),t9=t=>Fu(t,"position",nI),r9=new Set(["image","url"]),n9=t=>Fu(t,r9,a9),i9=t=>Fu(t,"",o9),_d=()=>!0,Fu=(t,e,r)=>{const n=rI.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},s9=t=>qH.test(t)&&!YH.test(t),nI=()=>!1,o9=t=>XH.test(t),a9=t=>ZH.test(t),l9=()=>{const t=dt("colors"),e=dt("spacing"),r=dt("blur"),n=dt("brightness"),i=dt("borderColor"),s=dt("borderRadius"),o=dt("borderSpacing"),a=dt("borderWidth"),l=dt("contrast"),c=dt("grayscale"),u=dt("hueRotate"),d=dt("invert"),h=dt("gap"),f=dt("gradientColorStops"),m=dt("gradientColorStopPositions"),p=dt("inset"),v=dt("margin"),y=dt("opacity"),b=dt("padding"),x=dt("saturate"),_=dt("scale"),S=dt("sepia"),C=dt("skew"),O=dt("space"),T=dt("translate"),E=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Ae,e],A=()=>[Ae,e],I=()=>["",cs,io],R=()=>["auto",Tc,Ae],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Ae],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Tc,Ae];return{cacheSize:500,separator:":",theme:{colors:[_d],spacing:[cs,io],blur:["none","",so,Ae],brightness:H(),borderColor:[t],borderRadius:["none","","full",so,Ae],borderSpacing:A(),borderWidth:I(),contrast:H(),grayscale:M(),hueRotate:H(),invert:M(),gap:A(),gradientColorStops:[t],gradientColorStopPositions:[JH,io],inset:P(),margin:P(),opacity:H(),padding:A(),saturate:H(),scale:H(),sepia:M(),skew:H(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[so]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Ae]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wd,Ae]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",wd,Ae]}],"grid-cols":[{"grid-cols":[_d]}],"col-start-end":[{col:["auto",{span:["full",wd,Ae]},Ae]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[_d]}],"row-start-end":[{row:["auto",{span:[wd,Ae]},Ae]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,e]}],"min-w":[{"min-w":[Ae,e,"min","max","fit"]}],"max-w":[{"max-w":[Ae,e,"none","full","min","max","fit","prose",{screen:[so]},so]}],h:[{h:[Ae,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,e,"auto","min","max","fit"]}],"font-size":[{text:["base",so,io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hb]}],"font-family":[{font:[_d]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",Tc,Hb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cs,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cs,io]}],"underline-offset":[{"underline-offset":["auto",cs,Ae]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),t9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",e9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},n9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[cs,Ae]}],"outline-w":[{outline:[cs,io]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[cs,io]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",so,i9]}],"shadow-color":[{shadow:[_d]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",so,Ae]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[wd,Ae]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[cs,io,Hb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},c9=VH(l9);function ae(...t){return c9(je(t))}const u9=mH,iI=w.forwardRef(({className:t,...e},r)=>g.jsx(LD,{ref:r,className:ae("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));iI.displayName=LD.displayName;const d9=Gf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sI=w.forwardRef(({className:t,variant:e,...r},n)=>g.jsx(FD,{ref:n,className:ae(d9({variant:e}),t),...r}));sI.displayName=FD.displayName;const h9=w.forwardRef(({className:t,...e},r)=>g.jsx(UD,{ref:r,className:ae("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));h9.displayName=UD.displayName;const oI=w.forwardRef(({className:t,...e},r)=>g.jsx(WD,{ref:r,className:ae("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(NC,{className:"h-4 w-4"})}));oI.displayName=WD.displayName;const aI=w.forwardRef(({className:t,...e},r)=>g.jsx(BD,{ref:r,className:ae("text-sm font-semibold",t),...e}));aI.displayName=BD.displayName;const lI=w.forwardRef(({className:t,...e},r)=>g.jsx(zD,{ref:r,className:ae("text-sm opacity-90",t),...e}));lI.displayName=zD.displayName;function f9(){const{toasts:t}=x6();return g.jsxs(u9,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return g.jsxs(sI,{...s,children:[g.jsxs("div",{className:"grid gap-1",children:[r&&g.jsx(aI,{children:r}),n&&g.jsx(lI,{children:n})]}),i,g.jsx(oI,{})]},e)}),g.jsx(iI,{})]})}var Ok=["light","dark"],p9="(prefers-color-scheme: dark)",g9=w.createContext(void 0),m9={setTheme:t=>{},themes:[]},v9=()=>{var t;return(t=w.useContext(g9))!=null?t:m9};w.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=i?Ok.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(m,p=!1,v=!0)=>{let y=o?o[m]:m,b=p?m+"|| ''":`'${y}'`,x="";return i&&v&&!p&&Ok.includes(m)&&(x+=`d.style.colorScheme = '${m}';`),r==="class"?p||y?x+=`c.add(${b})`:x+="null":y&&(x+=`d[s](n,${b})`),x},f=t?`!function(){${u}${h(t)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${p9}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${d}}catch(t){}}();`;return w.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var y9=t=>{switch(t){case"success":return w9;case"info":return S9;case"warning":return _9;case"error":return C9;default:return null}},b9=Array(12).fill(0),x9=({visible:t,className:e})=>k.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},k.createElement("div",{className:"sonner-spinner"},b9.map((r,n)=>k.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),w9=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_9=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),S9=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),C9=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),O9=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},k.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),k.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),T9=()=>{let[t,e]=k.useState(document.hidden);return k.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},n_=1,E9=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:n_++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:a,title:n}):l):this.addToast({title:n,...i,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=e instanceof Promise?e:e(),s=n!==void 0,o,a=i.then(async c=>{if(o=["resolve",c],k.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(P9(c)&&!c.ok){s=!1;let u=typeof r.error=="function"?await r.error(`HTTP error! status: ${c.status}`):r.error,d=typeof r.description=="function"?await r.description(`HTTP error! status: ${c.status}`):r.description;this.create({id:n,type:"error",message:u,description:d})}else if(r.success!==void 0){s=!1;let u=typeof r.success=="function"?await r.success(c):r.success,d=typeof r.description=="function"?await r.description(c):r.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],r.error!==void 0){s=!1;let u=typeof r.error=="function"?await r.error(c):r.error,d=typeof r.description=="function"?await r.description(c):r.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=r.finally)==null||c.call(r)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||n_++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},$r=new E9,k9=(t,e)=>{let r=(e==null?void 0:e.id)||n_++;return $r.addToast({title:t,...e,id:r}),r},P9=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",j9=k9,A9=()=>$r.toasts,N9=()=>$r.getActiveToasts(),ge=Object.assign(j9,{success:$r.success,info:$r.info,warning:$r.warning,error:$r.error,custom:$r.custom,message:$r.message,promise:$r.promise,dismiss:$r.dismiss,loading:$r.loading},{getHistory:A9,getToasts:N9});function R9(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}R9(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Dp(t){return t.label!==void 0}var M9=3,$9="32px",D9="16px",Tk=4e3,I9=356,L9=14,F9=20,B9=200;function Xn(...t){return t.filter(Boolean).join(" ")}function z9(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var U9=t=>{var e,r,n,i,s,o,a,l,c,u,d;let{invert:h,toast:f,unstyled:m,interacting:p,setHeights:v,visibleToasts:y,heights:b,index:x,toasts:_,expanded:S,removeToast:C,defaultRichColors:O,closeButton:T,style:E,cancelButtonStyle:j,actionButtonStyle:P,className:A="",descriptionClassName:I="",duration:R,position:L,gap:$,loadingIcon:B,expandByDefault:N,classNames:M,icons:z,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:U}=t,[q,ee]=k.useState(null),[pe,Oe]=k.useState(null),[Q,we]=k.useState(!1),[Y,te]=k.useState(!1),[re,V]=k.useState(!1),[Ne,_e]=k.useState(!1),[rt,Qe]=k.useState(!1),[Ot,Mr]=k.useState(0),[qr,ua]=k.useState(0),Yr=k.useRef(f.duration||R||Tk),Ni=k.useRef(null),Hn=k.useRef(null),hp=x===0,fp=x+1<=y,bn=f.type,Nl=f.dismissible!==!1,DW=f.className||"",IW=f.descriptionClassName||"",pp=k.useMemo(()=>b.findIndex(Pe=>Pe.toastId===f.id)||0,[b,f.id]),LW=k.useMemo(()=>{var Pe;return(Pe=f.closeButton)!=null?Pe:T},[f.closeButton,T]),XT=k.useMemo(()=>f.duration||R||Tk,[f.duration,R]),fb=k.useRef(0),Rl=k.useRef(0),ZT=k.useRef(0),Ml=k.useRef(null),[FW,BW]=L.split("-"),JT=k.useMemo(()=>b.reduce((Pe,et,vt)=>vt>=pp?Pe:Pe+et.height,0),[b,pp]),QT=T9(),zW=f.invert||h,pb=bn==="loading";Rl.current=k.useMemo(()=>pp*$+JT,[pp,JT]),k.useEffect(()=>{Yr.current=XT},[XT]),k.useEffect(()=>{we(!0)},[]),k.useEffect(()=>{let Pe=Hn.current;if(Pe){let et=Pe.getBoundingClientRect().height;return ua(et),v(vt=>[{toastId:f.id,height:et,position:f.position},...vt]),()=>v(vt=>vt.filter(Gn=>Gn.toastId!==f.id))}},[v,f.id]),k.useLayoutEffect(()=>{if(!Q)return;let Pe=Hn.current,et=Pe.style.height;Pe.style.height="auto";let vt=Pe.getBoundingClientRect().height;Pe.style.height=et,ua(vt),v(Gn=>Gn.find(Kn=>Kn.toastId===f.id)?Gn.map(Kn=>Kn.toastId===f.id?{...Kn,height:vt}:Kn):[{toastId:f.id,height:vt,position:f.position},...Gn])},[Q,f.title,f.description,v,f.id]);let eo=k.useCallback(()=>{te(!0),Mr(Rl.current),v(Pe=>Pe.filter(et=>et.toastId!==f.id)),setTimeout(()=>{C(f)},B9)},[f,C,v,Rl]);k.useEffect(()=>{if(f.promise&&bn==="loading"||f.duration===1/0||f.type==="loading")return;let Pe;return S||p||U&&QT?(()=>{if(ZT.current<fb.current){let et=new Date().getTime()-fb.current;Yr.current=Yr.current-et}ZT.current=new Date().getTime()})():Yr.current!==1/0&&(fb.current=new Date().getTime(),Pe=setTimeout(()=>{var et;(et=f.onAutoClose)==null||et.call(f,f),eo()},Yr.current)),()=>clearTimeout(Pe)},[S,p,f,bn,U,QT,eo]),k.useEffect(()=>{f.delete&&eo()},[eo,f.delete]);function UW(){var Pe,et,vt;return z!=null&&z.loading?k.createElement("div",{className:Xn(M==null?void 0:M.loader,(Pe=f==null?void 0:f.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":bn==="loading"},z.loading):B?k.createElement("div",{className:Xn(M==null?void 0:M.loader,(et=f==null?void 0:f.classNames)==null?void 0:et.loader,"sonner-loader"),"data-visible":bn==="loading"},B):k.createElement(x9,{className:Xn(M==null?void 0:M.loader,(vt=f==null?void 0:f.classNames)==null?void 0:vt.loader),visible:bn==="loading"})}return k.createElement("li",{tabIndex:0,ref:Hn,className:Xn(A,DW,M==null?void 0:M.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[bn],(r=f==null?void 0:f.classNames)==null?void 0:r[bn]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:O,"data-styled":!(f.jsx||f.unstyled||m),"data-mounted":Q,"data-promise":!!f.promise,"data-swiped":rt,"data-removed":Y,"data-visible":fp,"data-y-position":FW,"data-x-position":BW,"data-index":x,"data-front":hp,"data-swiping":re,"data-dismissible":Nl,"data-type":bn,"data-invert":zW,"data-swipe-out":Ne,"data-swipe-direction":pe,"data-expanded":!!(S||N&&Q),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${Y?Ot:Rl.current}px`,"--initial-height":N?"auto":`${qr}px`,...E,...f.style},onDragEnd:()=>{V(!1),ee(null),Ml.current=null},onPointerDown:Pe=>{pb||!Nl||(Ni.current=new Date,Mr(Rl.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(V(!0),Ml.current={x:Pe.clientX,y:Pe.clientY}))},onPointerUp:()=>{var Pe,et,vt,Gn;if(Ne||!Nl)return;Ml.current=null;let Kn=Number(((Pe=Hn.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),to=Number(((et=Hn.current)==null?void 0:et.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),da=new Date().getTime()-((vt=Ni.current)==null?void 0:vt.getTime()),qn=q==="x"?Kn:to,ro=Math.abs(qn)/da;if(Math.abs(qn)>=F9||ro>.11){Mr(Rl.current),(Gn=f.onDismiss)==null||Gn.call(f,f),Oe(q==="x"?Kn>0?"right":"left":to>0?"down":"up"),eo(),_e(!0),Qe(!1);return}V(!1),ee(null)},onPointerMove:Pe=>{var et,vt,Gn,Kn;if(!Ml.current||!Nl||((et=window.getSelection())==null?void 0:et.toString().length)>0)return;let to=Pe.clientY-Ml.current.y,da=Pe.clientX-Ml.current.x,qn=(vt=t.swipeDirections)!=null?vt:z9(L);!q&&(Math.abs(da)>1||Math.abs(to)>1)&&ee(Math.abs(da)>Math.abs(to)?"x":"y");let ro={x:0,y:0};q==="y"?(qn.includes("top")||qn.includes("bottom"))&&(qn.includes("top")&&to<0||qn.includes("bottom")&&to>0)&&(ro.y=to):q==="x"&&(qn.includes("left")||qn.includes("right"))&&(qn.includes("left")&&da<0||qn.includes("right")&&da>0)&&(ro.x=da),(Math.abs(ro.x)>0||Math.abs(ro.y)>0)&&Qe(!0),(Gn=Hn.current)==null||Gn.style.setProperty("--swipe-amount-x",`${ro.x}px`),(Kn=Hn.current)==null||Kn.style.setProperty("--swipe-amount-y",`${ro.y}px`)}},LW&&!f.jsx?k.createElement("button",{"aria-label":H,"data-disabled":pb,"data-close-button":!0,onClick:pb||!Nl?()=>{}:()=>{var Pe;eo(),(Pe=f.onDismiss)==null||Pe.call(f,f)},className:Xn(M==null?void 0:M.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},(s=z==null?void 0:z.close)!=null?s:O9):null,f.jsx||w.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:k.createElement(k.Fragment,null,bn||f.icon||f.promise?k.createElement("div",{"data-icon":"",className:Xn(M==null?void 0:M.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||UW():null,f.type!=="loading"?f.icon||(z==null?void 0:z[bn])||y9(bn):null):null,k.createElement("div",{"data-content":"",className:Xn(M==null?void 0:M.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},k.createElement("div",{"data-title":"",className:Xn(M==null?void 0:M.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?k.createElement("div",{"data-description":"",className:Xn(I,IW,M==null?void 0:M.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),w.isValidElement(f.cancel)?f.cancel:f.cancel&&Dp(f.cancel)?k.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||j,onClick:Pe=>{var et,vt;Dp(f.cancel)&&Nl&&((vt=(et=f.cancel).onClick)==null||vt.call(et,Pe),eo())},className:Xn(M==null?void 0:M.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,w.isValidElement(f.action)?f.action:f.action&&Dp(f.action)?k.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:Pe=>{var et,vt;Dp(f.action)&&((vt=(et=f.action).onClick)==null||vt.call(et,Pe),!Pe.defaultPrevented&&eo())},className:Xn(M==null?void 0:M.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function Ek(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function W9(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?D9:$9;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${o}-${c}`]=a:r[`${o}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(a)}),r}var V9=w.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:h,style:f,visibleToasts:m=M9,toastOptions:p,dir:v=Ek(),gap:y=L9,loadingIcon:b,icons:x,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=t,[C,O]=k.useState([]),T=k.useMemo(()=>Array.from(new Set([n].concat(C.filter(U=>U.position).map(U=>U.position)))),[C,n]),[E,j]=k.useState([]),[P,A]=k.useState(!1),[I,R]=k.useState(!1),[L,$]=k.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=k.useRef(null),N=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=k.useRef(null),z=k.useRef(!1),H=k.useCallback(U=>{O(q=>{var ee;return(ee=q.find(pe=>pe.id===U.id))!=null&&ee.delete||$r.dismiss(U.id),q.filter(({id:pe})=>pe!==U.id)})},[]);return k.useEffect(()=>$r.subscribe(U=>{if(U.dismiss){O(q=>q.map(ee=>ee.id===U.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{yD.flushSync(()=>{O(q=>{let ee=q.findIndex(pe=>pe.id===U.id);return ee!==-1?[...q.slice(0,ee),{...q[ee],...U},...q.slice(ee+1)]:[U,...q]})})})}),[]),k.useEffect(()=>{if(u!=="system"){$(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:q})=>{$(q?"dark":"light")})}catch{U.addListener(({matches:ee})=>{try{$(ee?"dark":"light")}catch(pe){console.error(pe)}})}},[u]),k.useEffect(()=>{C.length<=1&&A(!1)},[C]),k.useEffect(()=>{let U=q=>{var ee,pe;i.every(Oe=>q[Oe]||q.code===Oe)&&(A(!0),(ee=B.current)==null||ee.focus()),q.code==="Escape"&&(document.activeElement===B.current||(pe=B.current)!=null&&pe.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[i]),k.useEffect(()=>{if(B.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,z.current=!1)}},[B.current]),k.createElement("section",{ref:e,"aria-label":`${_} ${N}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((U,q)=>{var ee;let[pe,Oe]=U.split("-");return C.length?k.createElement("ol",{key:U,dir:v==="auto"?Ek():v,tabIndex:-1,ref:B,className:a,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":pe,"data-lifted":P&&C.length>1&&!s,"data-x-position":Oe,style:{"--front-toast-height":`${((ee=E[0])==null?void 0:ee.height)||0}px`,"--width":`${I9}px`,"--gap":`${y}px`,...f,...W9(l,c)},onBlur:Q=>{z.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(z.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||z.current||(z.current=!0,M.current=Q.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{I||A(!1)},onDragEnd:()=>A(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},C.filter(Q=>!Q.position&&q===0||Q.position===U).map((Q,we)=>{var Y,te;return k.createElement(U9,{key:Q.id,icons:x,index:we,toast:Q,defaultRichColors:d,duration:(Y=p==null?void 0:p.duration)!=null?Y:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:m,closeButton:(te=p==null?void 0:p.closeButton)!=null?te:o,interacting:I,position:U,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:H,toasts:C.filter(re=>re.position==Q.position),heights:E.filter(re=>re.position==Q.position),setHeights:j,expandByDefault:s,gap:y,loadingIcon:b,expanded:P,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const H9=({...t})=>{const{theme:e="system"}=v9();return g.jsx(V9,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var G9=gy[" useId ".trim().toString()]||(()=>{}),K9=0;function Bo(t){const[e,r]=w.useState(G9());return Nt(()=>{r(n=>n??String(K9++))},[t]),e?`radix-${e}`:""}const q9=["top","right","bottom","left"],Go=Math.min,nn=Math.max,$m=Math.round,Ip=Math.floor,qi=t=>({x:t,y:t}),Y9={left:"right",right:"left",bottom:"top",top:"bottom"},X9={start:"end",end:"start"};function i_(t,e,r){return nn(t,Go(e,r))}function Ls(t,e){return typeof t=="function"?t(e):t}function Fs(t){return t.split("-")[0]}function Bu(t){return t.split("-")[1]}function MC(t){return t==="x"?"y":"x"}function $C(t){return t==="y"?"height":"width"}const Z9=new Set(["top","bottom"]);function Wi(t){return Z9.has(Fs(t))?"y":"x"}function DC(t){return MC(Wi(t))}function J9(t,e,r){r===void 0&&(r=!1);const n=Bu(t),i=DC(t),s=$C(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Dm(o)),[o,Dm(o)]}function Q9(t){const e=Dm(t);return[s_(t),e,s_(e)]}function s_(t){return t.replace(/start|end/g,e=>X9[e])}const kk=["left","right"],Pk=["right","left"],eG=["top","bottom"],tG=["bottom","top"];function rG(t,e,r){switch(t){case"top":case"bottom":return r?e?Pk:kk:e?kk:Pk;case"left":case"right":return e?eG:tG;default:return[]}}function nG(t,e,r,n){const i=Bu(t);let s=rG(Fs(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(s_)))),s}function Dm(t){return t.replace(/left|right|bottom|top/g,e=>Y9[e])}function iG(t){return{top:0,right:0,bottom:0,left:0,...t}}function cI(t){return typeof t!="number"?iG(t):{top:t,right:t,bottom:t,left:t}}function Im(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function jk(t,e,r){let{reference:n,floating:i}=t;const s=Wi(e),o=DC(e),a=$C(o),l=Fs(e),c=s==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,h=n[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:n.y-i.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-i.width,y:d};break;default:f={x:n.x,y:n.y}}switch(Bu(e)){case"start":f[o]-=h*(r&&c?-1:1);break;case"end":f[o]+=h*(r&&c?-1:1);break}return f}const sG=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=jk(c,n,l),h=n,f={},m=0;for(let p=0;p<a.length;p++){const{name:v,fn:y}=a[p],{x:b,y:x,data:_,reset:S}=await y({x:u,y:d,initialPlacement:n,placement:h,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=b??u,d=x??d,f={...f,[v]:{...f[v],..._}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:u,y:d}=jk(c,h,l)),p=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:f}};async function Dh(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Ls(e,t),m=cI(f),v=a[h?d==="floating"?"reference":"floating":d],y=Im(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),_=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Im(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:x,strategy:l}):b);return{top:(y.top-S.top+m.top)/_.y,bottom:(S.bottom-y.bottom+m.bottom)/_.y,left:(y.left-S.left+m.left)/_.x,right:(S.right-y.right+m.right)/_.x}}const oG=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ls(t,e)||{};if(c==null)return{};const d=cI(u),h={x:r,y:n},f=DC(i),m=$C(f),p=await o.getDimensions(c),v=f==="y",y=v?"top":"left",b=v?"bottom":"right",x=v?"clientHeight":"clientWidth",_=s.reference[m]+s.reference[f]-h[f]-s.floating[m],S=h[f]-s.reference[f],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let O=C?C[x]:0;(!O||!await(o.isElement==null?void 0:o.isElement(C)))&&(O=a.floating[x]||s.floating[m]);const T=_/2-S/2,E=O/2-p[m]/2-1,j=Go(d[y],E),P=Go(d[b],E),A=j,I=O-p[m]-P,R=O/2-p[m]/2+T,L=i_(A,R,I),$=!l.arrow&&Bu(i)!=null&&R!==L&&s.reference[m]/2-(R<A?j:P)-p[m]/2<0,B=$?R<A?R-A:R-I:0;return{[f]:h[f]+B,data:{[f]:L,centerOffset:R-L-B,...$&&{alignmentOffset:B}},reset:$}}}),aG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...v}=Ls(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=Fs(i),b=Wi(a),x=Fs(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(x||!p?[Dm(a)]:Q9(a)),C=m!=="none";!h&&C&&S.push(...nG(a,p,m,_));const O=[a,...S],T=await Dh(e,v),E=[];let j=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&E.push(T[y]),d){const R=J9(i,o,_);E.push(T[R[0]],T[R[1]])}if(j=[...j,{placement:i,overflows:E}],!E.every(R=>R<=0)){var P,A;const R=(((P=s.flip)==null?void 0:P.index)||0)+1,L=O[R];if(L&&(!(d==="alignment"?b!==Wi(L):!1)||j.every(N=>Wi(N.placement)===b?N.overflows[0]>0:!0)))return{data:{index:R,overflows:j},reset:{placement:L}};let $=(A=j.filter(B=>B.overflows[0]<=0).sort((B,N)=>B.overflows[1]-N.overflows[1])[0])==null?void 0:A.placement;if(!$)switch(f){case"bestFit":{var I;const B=(I=j.filter(N=>{if(C){const M=Wi(N.placement);return M===b||M==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(M=>M>0).reduce((M,z)=>M+z,0)]).sort((N,M)=>N[1]-M[1])[0])==null?void 0:I[0];B&&($=B);break}case"initialPlacement":$=a;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function Ak(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Nk(t){return q9.some(e=>t[e]>=0)}const lG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Ls(t,e);switch(n){case"referenceHidden":{const s=await Dh(e,{...i,elementContext:"reference"}),o=Ak(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Nk(o)}}}case"escaped":{const s=await Dh(e,{...i,altBoundary:!0}),o=Ak(s,r.floating);return{data:{escapedOffsets:o,escaped:Nk(o)}}}default:return{}}}}},uI=new Set(["left","top"]);async function cG(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Fs(r),a=Bu(r),l=Wi(r)==="y",c=uI.has(o)?-1:1,u=s&&l?-1:1,d=Ls(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(f=a==="end"?m*-1:m),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const uG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await cG(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},dG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...l}=Ls(t,e),c={x:r,y:n},u=await Dh(e,l),d=Wi(Fs(i)),h=MC(d);let f=c[h],m=c[d];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=f+u[v],x=f-u[y];f=i_(b,f,x)}if(o){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=m+u[v],x=m-u[y];m=i_(b,m,x)}const p=a.fn({...e,[h]:f,[d]:m});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:s,[d]:o}}}}}},hG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ls(t,e),u={x:r,y:n},d=Wi(i),h=MC(d);let f=u[h],m=u[d];const p=Ls(a,e),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const x=h==="y"?"height":"width",_=s.reference[h]-s.floating[x]+v.mainAxis,S=s.reference[h]+s.reference[x]-v.mainAxis;f<_?f=_:f>S&&(f=S)}if(c){var y,b;const x=h==="y"?"width":"height",_=uI.has(Fs(i)),S=s.reference[d]-s.floating[x]+(_&&((y=o.offset)==null?void 0:y[d])||0)+(_?0:v.crossAxis),C=s.reference[d]+s.reference[x]+(_?0:((b=o.offset)==null?void 0:b[d])||0)-(_?v.crossAxis:0);m<S?m=S:m>C&&(m=C)}return{[h]:f,[d]:m}}}},fG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ls(t,e),u=await Dh(e,c),d=Fs(i),h=Bu(i),f=Wi(i)==="y",{width:m,height:p}=s.floating;let v,y;d==="top"||d==="bottom"?(v=d,y=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,v=h==="end"?"top":"bottom");const b=p-u.top-u.bottom,x=m-u.left-u.right,_=Go(p-u[v],b),S=Go(m-u[y],x),C=!e.middlewareData.shift;let O=_,T=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=x),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(O=b),C&&!h){const j=nn(u.left,0),P=nn(u.right,0),A=nn(u.top,0),I=nn(u.bottom,0);f?T=m-2*(j!==0||P!==0?j+P:nn(u.left,u.right)):O=p-2*(A!==0||I!==0?A+I:nn(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:O});const E=await o.getDimensions(a.floating);return m!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function $y(){return typeof window<"u"}function zu(t){return dI(t)?(t.nodeName||"").toLowerCase():"#document"}function dn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function is(t){var e;return(e=(dI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dI(t){return $y()?t instanceof Node||t instanceof dn(t).Node:!1}function Ti(t){return $y()?t instanceof Element||t instanceof dn(t).Element:!1}function Qi(t){return $y()?t instanceof HTMLElement||t instanceof dn(t).HTMLElement:!1}function Rk(t){return!$y()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof dn(t).ShadowRoot}const pG=new Set(["inline","contents"]);function qf(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Ei(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!pG.has(i)}const gG=new Set(["table","td","th"]);function mG(t){return gG.has(zu(t))}const vG=[":popover-open",":modal"];function Dy(t){return vG.some(e=>{try{return t.matches(e)}catch{return!1}})}const yG=["transform","translate","scale","rotate","perspective"],bG=["transform","translate","scale","rotate","perspective","filter"],xG=["paint","layout","strict","content"];function IC(t){const e=LC(),r=Ti(t)?Ei(t):t;return yG.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||bG.some(n=>(r.willChange||"").includes(n))||xG.some(n=>(r.contain||"").includes(n))}function wG(t){let e=Ko(t);for(;Qi(e)&&!Qc(e);){if(IC(e))return e;if(Dy(e))return null;e=Ko(e)}return null}function LC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _G=new Set(["html","body","#document"]);function Qc(t){return _G.has(zu(t))}function Ei(t){return dn(t).getComputedStyle(t)}function Iy(t){return Ti(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ko(t){if(zu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Rk(t)&&t.host||is(t);return Rk(e)?e.host:e}function hI(t){const e=Ko(t);return Qc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qi(e)&&qf(e)?e:hI(e)}function Ih(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=hI(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=dn(i);if(s){const a=o_(o);return e.concat(o,o.visualViewport||[],qf(i)?i:[],a&&r?Ih(a):[])}return e.concat(i,Ih(i,[],r))}function o_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fI(t){const e=Ei(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Qi(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=$m(r)!==s||$m(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function FC(t){return Ti(t)?t:t.contextElement}function Ec(t){const e=FC(t);if(!Qi(e))return qi(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=fI(e);let o=(s?$m(r.width):r.width)/n,a=(s?$m(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const SG=qi(0);function pI(t){const e=dn(t);return!LC()||!e.visualViewport?SG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function CG(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==dn(t)?!1:e}function cl(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=FC(t);let o=qi(1);e&&(n?Ti(n)&&(o=Ec(n)):o=Ec(t));const a=CG(s,r,n)?pI(s):qi(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const h=dn(s),f=n&&Ti(n)?dn(n):n;let m=h,p=o_(m);for(;p&&n&&f!==m;){const v=Ec(p),y=p.getBoundingClientRect(),b=Ei(p),x=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*v.x,_=y.top+(p.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=x,c+=_,m=dn(p),p=o_(m)}}return Im({width:u,height:d,x:l,y:c})}function Ly(t,e){const r=Iy(t).scrollLeft;return e?e.left+r:cl(is(t)).left+r}function gI(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Ly(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function OG(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=is(n),a=e?Dy(e.floating):!1;if(n===o||a&&s)return r;let l={scrollLeft:0,scrollTop:0},c=qi(1);const u=qi(0),d=Qi(n);if((d||!d&&!s)&&((zu(n)!=="body"||qf(o))&&(l=Iy(n)),Qi(n))){const f=cl(n);c=Ec(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const h=o&&!d&&!s?gI(o,l):qi(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:r.y*c.y-l.scrollTop*c.y+u.y+h.y}}function TG(t){return Array.from(t.getClientRects())}function EG(t){const e=is(t),r=Iy(t),n=t.ownerDocument.body,i=nn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=nn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Ly(t);const a=-r.scrollTop;return Ei(n).direction==="rtl"&&(o+=nn(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}const Mk=25;function kG(t,e){const r=dn(t),n=is(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=LC();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=Ly(n);if(c<=0){const u=n.ownerDocument,d=u.body,h=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,m=Math.abs(n.clientWidth-d.clientWidth-f);m<=Mk&&(s-=m)}else c<=Mk&&(s+=c);return{width:s,height:o,x:a,y:l}}const PG=new Set(["absolute","fixed"]);function jG(t,e){const r=cl(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Qi(t)?Ec(t):qi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:o,height:a,x:l,y:c}}function $k(t,e,r){let n;if(e==="viewport")n=kG(t,r);else if(e==="document")n=EG(is(t));else if(Ti(e))n=jG(e,r);else{const i=pI(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Im(n)}function mI(t,e){const r=Ko(t);return r===e||!Ti(r)||Qc(r)?!1:Ei(r).position==="fixed"||mI(r,e)}function AG(t,e){const r=e.get(t);if(r)return r;let n=Ih(t,[],!1).filter(a=>Ti(a)&&zu(a)!=="body"),i=null;const s=Ei(t).position==="fixed";let o=s?Ko(t):t;for(;Ti(o)&&!Qc(o);){const a=Ei(o),l=IC(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&PG.has(i.position)||qf(o)&&!l&&mI(t,o))?n=n.filter(u=>u!==o):i=a,o=Ko(o)}return e.set(t,n),n}function NG(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?Dy(e)?[]:AG(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,u)=>{const d=$k(e,u,i);return c.top=nn(d.top,c.top),c.right=Go(d.right,c.right),c.bottom=Go(d.bottom,c.bottom),c.left=nn(d.left,c.left),c},$k(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function RG(t){const{width:e,height:r}=fI(t);return{width:e,height:r}}function MG(t,e,r){const n=Qi(e),i=is(e),s=r==="fixed",o=cl(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=qi(0);function c(){l.x=Ly(i)}if(n||!n&&!s)if((zu(e)!=="body"||qf(i))&&(a=Iy(e)),n){const f=cl(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&c();s&&!n&&i&&c();const u=i&&!n&&!s?gI(i,a):qi(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function Gb(t){return Ei(t).position==="static"}function Dk(t,e){if(!Qi(t)||Ei(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return is(t)===r&&(r=r.ownerDocument.body),r}function vI(t,e){const r=dn(t);if(Dy(t))return r;if(!Qi(t)){let i=Ko(t);for(;i&&!Qc(i);){if(Ti(i)&&!Gb(i))return i;i=Ko(i)}return r}let n=Dk(t,e);for(;n&&mG(n)&&Gb(n);)n=Dk(n,e);return n&&Qc(n)&&Gb(n)&&!IC(n)?r:n||wG(t)||r}const $G=async function(t){const e=this.getOffsetParent||vI,r=this.getDimensions,n=await r(t.floating);return{reference:MG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function DG(t){return Ei(t).direction==="rtl"}const IG={convertOffsetParentRelativeRectToViewportRelativeRect:OG,getDocumentElement:is,getClippingRect:NG,getOffsetParent:vI,getElementRects:$G,getClientRects:TG,getDimensions:RG,getScale:Ec,isElement:Ti,isRTL:DG};function yI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function LG(t,e){let r=null,n;const i=is(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const m=Ip(d),p=Ip(i.clientWidth-(u+h)),v=Ip(i.clientHeight-(d+f)),y=Ip(u),x={rootMargin:-m+"px "+-p+"px "+-v+"px "+-y+"px",threshold:nn(0,Go(1,l))||1};let _=!0;function S(C){const O=C[0].intersectionRatio;if(O!==l){if(!_)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!yI(c,t.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(t)}return o(!0),s}function FG(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=FC(t),u=i||s?[...c?Ih(c):[],...Ih(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const d=c&&a?LG(c,r):null;let h=-1,f=null;o&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(e)})),r()}),c&&!l&&f.observe(c),f.observe(e));let m,p=l?cl(t):null;l&&v();function v(){const y=cl(t);p&&!yI(p,y)&&r(),p=y,m=requestAnimationFrame(v)}return r(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(m)}}const BG=uG,zG=dG,UG=aG,WG=fG,VG=lG,Ik=oG,HG=hG,GG=(t,e,r)=>{const n=new Map,i={platform:IG,...r},s={...i.platform,_c:n};return sG(t,e,{...i,platform:s})};var KG=typeof document<"u",qG=function(){},Qg=KG?w.useLayoutEffect:qG;function Lm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Lm(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!Lm(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function bI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Lk(t,e){const r=bI(t);return Math.round(e*r)/r}function Kb(t){const e=w.useRef(t);return Qg(()=>{e.current=t}),e}function YG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=w.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=w.useState(n);Lm(h,n)||f(n);const[m,p]=w.useState(null),[v,y]=w.useState(null),b=w.useCallback(N=>{N!==C.current&&(C.current=N,p(N))},[]),x=w.useCallback(N=>{N!==O.current&&(O.current=N,y(N))},[]),_=s||m,S=o||v,C=w.useRef(null),O=w.useRef(null),T=w.useRef(u),E=l!=null,j=Kb(l),P=Kb(i),A=Kb(c),I=w.useCallback(()=>{if(!C.current||!O.current)return;const N={placement:e,strategy:r,middleware:h};P.current&&(N.platform=P.current),GG(C.current,O.current,N).then(M=>{const z={...M,isPositioned:A.current!==!1};R.current&&!Lm(T.current,z)&&(T.current=z,Sl.flushSync(()=>{d(z)}))})},[h,e,r,P,A]);Qg(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(N=>({...N,isPositioned:!1})))},[c]);const R=w.useRef(!1);Qg(()=>(R.current=!0,()=>{R.current=!1}),[]),Qg(()=>{if(_&&(C.current=_),S&&(O.current=S),_&&S){if(j.current)return j.current(_,S,I);I()}},[_,S,I,j,E]);const L=w.useMemo(()=>({reference:C,floating:O,setReference:b,setFloating:x}),[b,x]),$=w.useMemo(()=>({reference:_,floating:S}),[_,S]),B=w.useMemo(()=>{const N={position:r,left:0,top:0};if(!$.floating)return N;const M=Lk($.floating,u.x),z=Lk($.floating,u.y);return a?{...N,transform:"translate("+M+"px, "+z+"px)",...bI($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:z}},[r,a,$.floating,u.x,u.y]);return w.useMemo(()=>({...u,update:I,refs:L,elements:$,floatingStyles:B}),[u,I,L,$,B])}const XG=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Ik({element:n.current,padding:i}).fn(r):{}:n?Ik({element:n,padding:i}).fn(r):{}}}},ZG=(t,e)=>({...BG(t),options:[t,e]}),JG=(t,e)=>({...zG(t),options:[t,e]}),QG=(t,e)=>({...HG(t),options:[t,e]}),eK=(t,e)=>({...UG(t),options:[t,e]}),tK=(t,e)=>({...WG(t),options:[t,e]}),rK=(t,e)=>({...VG(t),options:[t,e]}),nK=(t,e)=>({...XG(t),options:[t,e]});var iK="Arrow",xI=w.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return g.jsx(Ce.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});xI.displayName=iK;var sK=xI;function wI(t){const[e,r]=w.useState(void 0);return Nt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var BC="Popper",[_I,Fy]=ns(BC),[oK,SI]=_I(BC),CI=t=>{const{__scopePopper:e,children:r}=t,[n,i]=w.useState(null);return g.jsx(oK,{scope:e,anchor:n,onAnchorChange:i,children:r})};CI.displayName=BC;var OI="PopperAnchor",TI=w.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=SI(OI,r),o=w.useRef(null),a=Le(e,o),l=w.useRef(null);return w.useEffect(()=>{const c=l.current;l.current=(n==null?void 0:n.current)||o.current,c!==l.current&&s.onAnchorChange(l.current)}),n?null:g.jsx(Ce.div,{...i,ref:a})});TI.displayName=OI;var zC="PopperContent",[aK,lK]=_I(zC),EI=w.forwardRef((t,e)=>{var Q,we,Y,te,re,V;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:m,...p}=t,v=SI(zC,r),[y,b]=w.useState(null),x=Le(e,Ne=>b(Ne)),[_,S]=w.useState(null),C=wI(_),O=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,E=n+(s!=="center"?"-"+s:""),j=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(c)?c:[c],A=P.length>0,I={padding:j,boundary:P.filter(uK),altBoundary:A},{refs:R,floatingStyles:L,placement:$,isPositioned:B,middlewareData:N}=YG({strategy:"fixed",placement:E,whileElementsMounted:(...Ne)=>FG(...Ne,{animationFrame:f==="always"}),elements:{reference:v.anchor},middleware:[ZG({mainAxis:i+T,alignmentAxis:o}),l&&JG({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?QG():void 0,...I}),l&&eK({...I}),tK({...I,apply:({elements:Ne,rects:_e,availableWidth:rt,availableHeight:Qe})=>{const{width:Ot,height:Mr}=_e.reference,qr=Ne.floating.style;qr.setProperty("--radix-popper-available-width",`${rt}px`),qr.setProperty("--radix-popper-available-height",`${Qe}px`),qr.setProperty("--radix-popper-anchor-width",`${Ot}px`),qr.setProperty("--radix-popper-anchor-height",`${Mr}px`)}}),_&&nK({element:_,padding:a}),dK({arrowWidth:O,arrowHeight:T}),h&&rK({strategy:"referenceHidden",...I})]}),[M,z]=jI($),H=Lt(m);Nt(()=>{B&&(H==null||H())},[B,H]);const U=(Q=N.arrow)==null?void 0:Q.x,q=(we=N.arrow)==null?void 0:we.y,ee=((Y=N.arrow)==null?void 0:Y.centerOffset)!==0,[pe,Oe]=w.useState();return Nt(()=>{y&&Oe(window.getComputedStyle(y).zIndex)},[y]),g.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:B?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(te=N.transformOrigin)==null?void 0:te.x,(re=N.transformOrigin)==null?void 0:re.y].join(" "),...((V=N.hide)==null?void 0:V.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(aK,{scope:r,placedSide:M,onArrowChange:S,arrowX:U,arrowY:q,shouldHideArrow:ee,children:g.jsx(Ce.div,{"data-side":M,"data-align":z,...p,ref:x,style:{...p.style,animation:B?void 0:"none"}})})})});EI.displayName=zC;var kI="PopperArrow",cK={top:"bottom",right:"left",bottom:"top",left:"right"},PI=w.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=lK(kI,n),o=cK[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(sK,{...i,ref:r,style:{...i.style,display:"block"}})})});PI.displayName=kI;function uK(t){return t!==null}var dK=t=>({name:"transformOrigin",options:t,fn(e){var v,y,b;const{placement:r,rects:n,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=jI(r),d={start:"0%",center:"50%",end:"100%"}[u],h=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,f=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let m="",p="";return c==="bottom"?(m=o?d:`${h}px`,p=`${-l}px`):c==="top"?(m=o?d:`${h}px`,p=`${n.floating.height+l}px`):c==="right"?(m=`${-l}px`,p=o?d:`${f}px`):c==="left"&&(m=`${n.floating.width+l}px`,p=o?d:`${f}px`),{data:{x:m,y:p}}}});function jI(t){const[e,r="center"]=t.split("-");return[e,r]}var hK=CI,AI=TI,NI=EI,RI=PI,fK=Symbol("radix.slottable");function pK(t){const e=({children:r})=>g.jsx(g.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=fK,e}var[By]=ns("Tooltip",[Fy]),UC=Fy(),MI="TooltipProvider",gK=700,Fk="tooltip.open",[mK,$I]=By(MI),DI=t=>{const{__scopeTooltip:e,delayDuration:r=gK,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=w.useRef(!0),a=w.useRef(!1),l=w.useRef(0);return w.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),g.jsx(mK,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:w.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};DI.displayName=MI;var II="Tooltip",[wje,zy]=By(II),a_="TooltipTrigger",vK=w.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=zy(a_,r),s=$I(a_,r),o=UC(r),a=w.useRef(null),l=Le(e,a,i.onTriggerChange),c=w.useRef(!1),u=w.useRef(!1),d=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),g.jsx(AI,{asChild:!0,...o,children:g.jsx(Ce.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:he(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:he(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:he(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:he(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:he(t.onBlur,i.onClose),onClick:he(t.onClick,i.onClose)})})});vK.displayName=a_;var yK="TooltipPortal",[_je,bK]=By(yK,{forceMount:void 0}),eu="TooltipContent",LI=w.forwardRef((t,e)=>{const r=bK(eu,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=zy(eu,t.__scopeTooltip);return g.jsx(Pi,{present:n||o.open,children:o.disableHoverableContent?g.jsx(FI,{side:i,...s,ref:e}):g.jsx(xK,{side:i,...s,ref:e})})}),xK=w.forwardRef((t,e)=>{const r=zy(eu,t.__scopeTooltip),n=$I(eu,t.__scopeTooltip),i=w.useRef(null),s=Le(e,i),[o,a]=w.useState(null),{trigger:l,onClose:c}=r,u=i.current,{onPointerInTransitChange:d}=n,h=w.useCallback(()=>{a(null),d(!1)},[d]),f=w.useCallback((m,p)=>{const v=m.currentTarget,y={x:m.clientX,y:m.clientY},b=OK(y,v.getBoundingClientRect()),x=TK(y,b),_=EK(p.getBoundingClientRect()),S=PK([...x,..._]);a(S),d(!0)},[d]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(l&&u){const m=v=>f(v,u),p=v=>f(v,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",p)}}},[l,u,f,h]),w.useEffect(()=>{if(o){const m=p=>{const v=p.target,y={x:p.clientX,y:p.clientY},b=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),x=!kK(y,o);b?h():x&&(h(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,h]),g.jsx(FI,{...t,ref:s})}),[wK,_K]=By(II,{isInside:!1}),SK=pK("TooltipContent"),FI=w.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=zy(eu,r),c=UC(r),{onClose:u}=l;return w.useEffect(()=>(document.addEventListener(Fk,u),()=>document.removeEventListener(Fk,u)),[u]),w.useEffect(()=>{if(l.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),g.jsx(Vf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:g.jsxs(NI,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(SK,{children:n}),g.jsx(wK,{scope:r,isInside:!0,children:g.jsx(J6,{id:l.contentId,role:"tooltip",children:i||n})})]})})});LI.displayName=eu;var BI="TooltipArrow",CK=w.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=UC(r);return _K(BI,r).isInside?null:g.jsx(RI,{...i,...n,ref:e})});CK.displayName=BI;function OK(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function TK(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function EK(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function kK(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,d=l.x,h=l.y;u>n!=h>n&&r<(d-c)*(n-u)/(h-u)+c&&(i=!i)}return i}function PK(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),jK(e)}function jK(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var AK=DI,zI=LI;const NK=AK,RK=w.forwardRef(({className:t,sideOffset:e=4,...r},n)=>g.jsx(zI,{ref:n,sideOffset:e,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));RK.displayName=zI.displayName;var Uy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},MK={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},wo,A1,XR,$K=(XR=class{constructor(){Ie(this,wo,MK);Ie(this,A1,!1)}setTimeoutProvider(t){Se(this,wo,t)}setTimeout(t,e){return K(this,wo).setTimeout(t,e)}clearTimeout(t){K(this,wo).clearTimeout(t)}setInterval(t,e){return K(this,wo).setInterval(t,e)}clearInterval(t){K(this,wo).clearInterval(t)}},wo=new WeakMap,A1=new WeakMap,XR),l_=new $K;function DK(t){setTimeout(t,0)}var Wy=typeof window>"u"||"Deno"in globalThis;function ii(){}function IK(t,e){return typeof t=="function"?t(e):t}function LK(t){return typeof t=="number"&&t>=0&&t!==1/0}function FK(t,e){return Math.max(t+(e||0)-Date.now(),0)}function c_(t,e){return typeof t=="function"?t(e):t}function BK(t,e){return typeof t=="function"?t(e):t}function Bk(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==WC(o,e.options))return!1}else if(!Fh(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function zk(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Lh(e.options.mutationKey)!==Lh(s))return!1}else if(!Fh(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function WC(t,e){return((e==null?void 0:e.queryKeyHashFn)||Lh)(t)}function Lh(t){return JSON.stringify(t,(e,r)=>u_(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Fh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Fh(t[r],e[r])):!1}var zK=Object.prototype.hasOwnProperty;function UI(t,e){if(t===e)return t;const r=Uk(t)&&Uk(e);if(!r&&!(u_(t)&&u_(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),o=s.length,a=r?new Array(o):{};let l=0;for(let c=0;c<o;c++){const u=r?c:s[c],d=t[u],h=e[u];if(d===h){a[u]=d,(r?c<i:zK.call(t,u))&&l++;continue}if(d===null||h===null||typeof d!="object"||typeof h!="object"){a[u]=h;continue}const f=UI(d,h);a[u]=f,f===d&&l++}return i===o&&l===i?t:a}function Uk(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function u_(t){if(!Wk(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Wk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Wk(t){return Object.prototype.toString.call(t)==="[object Object]"}function UK(t){return new Promise(e=>{l_.setTimeout(e,t)})}function WK(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?UI(t,e):e}function VK(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function HK(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var VC=Symbol();function WI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===VC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Wa,_o,Ic,ZR,GK=(ZR=class extends Uy{constructor(){super();Ie(this,Wa);Ie(this,_o);Ie(this,Ic);Se(this,Ic,e=>{if(!Wy&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){K(this,_o)||this.setEventListener(K(this,Ic))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,_o))==null||e.call(this),Se(this,_o,void 0))}setEventListener(e){var r;Se(this,Ic,e),(r=K(this,_o))==null||r.call(this),Se(this,_o,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){K(this,Wa)!==e&&(Se(this,Wa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof K(this,Wa)=="boolean"?K(this,Wa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Wa=new WeakMap,_o=new WeakMap,Ic=new WeakMap,ZR),VI=new GK;function KK(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var qK=DK;function YK(){let t=[],e=0,r=a=>{a()},n=a=>{a()},i=qK;const s=a=>{e?t.push(a):i(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var Cr=YK(),Lc,So,Fc,JR,XK=(JR=class extends Uy{constructor(){super();Ie(this,Lc,!0);Ie(this,So);Ie(this,Fc);Se(this,Fc,e=>{if(!Wy&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){K(this,So)||this.setEventListener(K(this,Fc))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,So))==null||e.call(this),Se(this,So,void 0))}setEventListener(e){var r;Se(this,Fc,e),(r=K(this,So))==null||r.call(this),Se(this,So,e(this.setOnline.bind(this)))}setOnline(e){K(this,Lc)!==e&&(Se(this,Lc,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return K(this,Lc)}},Lc=new WeakMap,So=new WeakMap,Fc=new WeakMap,JR),Fm=new XK;function ZK(t){return Math.min(1e3*2**t,3e4)}function HI(t){return(t??"online")==="online"?Fm.isOnline():!0}var d_=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function GI(t){let e=!1,r=0,n;const i=KK(),s=()=>i.status!=="pending",o=p=>{var v;if(!s()){const y=new d_(p);h(y),(v=t.onCancel)==null||v.call(t,y)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>VI.isFocused()&&(t.networkMode==="always"||Fm.isOnline())&&t.canRun(),u=()=>HI(t.networkMode)&&t.canRun(),d=p=>{s()||(n==null||n(),i.resolve(p))},h=p=>{s()||(n==null||n(),i.reject(p))},f=()=>new Promise(p=>{var v;n=y=>{(s()||c())&&p(y)},(v=t.onPause)==null||v.call(t)}).then(()=>{var p;n=void 0,s()||(p=t.onContinue)==null||p.call(t)}),m=()=>{if(s())return;let p;const v=r===0?t.initialPromise:void 0;try{p=v??t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(d).catch(y=>{var C;if(s())return;const b=t.retry??(Wy?0:3),x=t.retryDelay??ZK,_=typeof x=="function"?x(r,y):x,S=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(e||!S){h(y);return}r++,(C=t.onFail)==null||C.call(t,r,y),UK(_).then(()=>c()?void 0:f()).then(()=>{e?h(y):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():f().then(m),i)}}var Va,QR,KI=(QR=class{constructor(){Ie(this,Va)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LK(this.gcTime)&&Se(this,Va,l_.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wy?1/0:5*60*1e3))}clearGcTimeout(){K(this,Va)&&(l_.clearTimeout(K(this,Va)),Se(this,Va,void 0))}},Va=new WeakMap,QR),Ha,Bc,Cn,Ga,Jt,Df,Ka,oi,ds,eM,JK=(eM=class extends KI{constructor(e){super();Ie(this,oi);Ie(this,Ha);Ie(this,Bc);Ie(this,Cn);Ie(this,Ga);Ie(this,Jt);Ie(this,Df);Ie(this,Ka);Se(this,Ka,!1),Se(this,Df,e.defaultOptions),this.setOptions(e.options),this.observers=[],Se(this,Ga,e.client),Se(this,Cn,K(this,Ga).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Se(this,Ha,Hk(this.options)),this.state=e.state??K(this,Ha),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=K(this,Jt))==null?void 0:e.promise}setOptions(e){if(this.options={...K(this,Df),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Hk(this.options);r.data!==void 0&&(this.setState(Vk(r.data,r.dataUpdatedAt)),Se(this,Ha,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,Cn).remove(this)}setData(e,r){const n=WK(this.state.data,e,this.options);return hr(this,oi,ds).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){hr(this,oi,ds).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=K(this,Jt))==null?void 0:n.promise;return(i=K(this,Jt))==null||i.cancel(e),r?r.then(ii).catch(ii):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,Ha))}isActive(){return this.observers.some(e=>BK(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===VC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>c_(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!FK(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=K(this,Jt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=K(this,Jt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),K(this,Cn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(K(this,Jt)&&(K(this,Ka)?K(this,Jt).cancel({revert:!0}):K(this,Jt).cancelRetry()),this.scheduleGc()),K(this,Cn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||hr(this,oi,ds).call(this,{type:"invalidate"})}async fetch(e,r){var l,c,u,d,h,f,m,p,v,y,b,x;if(this.state.fetchStatus!=="idle"&&((l=K(this,Jt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(K(this,Jt))return K(this,Jt).continueRetry(),K(this,Jt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,i=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Se(this,Ka,!0),n.signal)})},s=()=>{const _=WI(this.options,r),C=(()=>{const O={client:K(this,Ga),queryKey:this.queryKey,meta:this.meta};return i(O),O})();return Se(this,Ka,!1),this.options.persister?this.options.persister(_,C,this):_(C)},a=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:K(this,Ga),state:this.state,fetchFn:s};return i(_),_})();(c=this.options.behavior)==null||c.onFetch(a,this),Se(this,Bc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&hr(this,oi,ds).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),Se(this,Jt,GI({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:_=>{_ instanceof d_&&_.revert&&this.setState({...K(this,Bc),fetchStatus:"idle"}),n.abort()},onFail:(_,S)=>{hr(this,oi,ds).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{hr(this,oi,ds).call(this,{type:"pause"})},onContinue:()=>{hr(this,oi,ds).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const _=await K(this,Jt).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(f=(h=K(this,Cn).config).onSuccess)==null||f.call(h,_,this),(p=(m=K(this,Cn).config).onSettled)==null||p.call(m,_,this.state.error,this),_}catch(_){if(_ instanceof d_){if(_.silent)return K(this,Jt).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw hr(this,oi,ds).call(this,{type:"error",error:_}),(y=(v=K(this,Cn).config).onError)==null||y.call(v,_,this),(x=(b=K(this,Cn).config).onSettled)==null||x.call(b,this.state.data,_,this),_}finally{this.scheduleGc()}}},Ha=new WeakMap,Bc=new WeakMap,Cn=new WeakMap,Ga=new WeakMap,Jt=new WeakMap,Df=new WeakMap,Ka=new WeakMap,oi=new WeakSet,ds=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...QK(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...Vk(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Se(this,Bc,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Cr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),K(this,Cn).notify({query:this,type:"updated",action:e})})},eM);function QK(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:HI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Vk(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Hk(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Gk(t){return{onFetch:(e,r)=>{var u,d,h,f,m;const n=e.options,i=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let p=!1;const v=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=WI(e.options,e.fetchOptions),b=async(x,_,S)=>{if(p)return Promise.reject();if(_==null&&x.pages.length)return Promise.resolve(x);const O=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};return v(P),P})(),T=await y(O),{maxPages:E}=e.options,j=S?HK:VK;return{pages:j(x.pages,T,E),pageParams:j(x.pageParams,_,E)}};if(i&&s.length){const x=i==="backward",_=x?eq:Kk,S={pages:s,pageParams:o},C=_(n,S);a=await b(S,C,x)}else{const x=t??s.length;do{const _=l===0?o[0]??n.initialPageParam:Kk(n,a);if(l>0&&_==null)break;a=await b(a,_),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var p,v;return(v=(p=e.options).persister)==null?void 0:v.call(p,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function Kk(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function eq(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var If,Ii,wr,qa,Li,co,tM,tq=(tM=class extends KI{constructor(e){super();Ie(this,Li);Ie(this,If);Ie(this,Ii);Ie(this,wr);Ie(this,qa);Se(this,If,e.client),this.mutationId=e.mutationId,Se(this,wr,e.mutationCache),Se(this,Ii,[]),this.state=e.state||rq(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){K(this,Ii).includes(e)||(K(this,Ii).push(e),this.clearGcTimeout(),K(this,wr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Se(this,Ii,K(this,Ii).filter(r=>r!==e)),this.scheduleGc(),K(this,wr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){K(this,Ii).length||(this.state.status==="pending"?this.scheduleGc():K(this,wr).remove(this))}continue(){var e;return((e=K(this,qa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,c,u,d,h,f,m,p,v,y,b,x,_,S,C,O,T,E;const r=()=>{hr(this,Li,co).call(this,{type:"continue"})},n={client:K(this,If),meta:this.options.meta,mutationKey:this.options.mutationKey};Se(this,qa,GI({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(j,P)=>{hr(this,Li,co).call(this,{type:"failed",failureCount:j,error:P})},onPause:()=>{hr(this,Li,co).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,wr).canRun(this)}));const i=this.state.status==="pending",s=!K(this,qa).canStart();try{if(i)r();else{hr(this,Li,co).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=K(this,wr).config).onMutate)==null?void 0:a.call(o,e,this,n));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,n));P!==this.state.context&&hr(this,Li,co).call(this,{type:"pending",context:P,variables:e,isPaused:s})}const j=await K(this,qa).start();return await((d=(u=K(this,wr).config).onSuccess)==null?void 0:d.call(u,j,e,this.state.context,this,n)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,j,e,this.state.context,n)),await((p=(m=K(this,wr).config).onSettled)==null?void 0:p.call(m,j,null,this.state.variables,this.state.context,this,n)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,j,null,e,this.state.context,n)),hr(this,Li,co).call(this,{type:"success",data:j}),j}catch(j){try{throw await((x=(b=K(this,wr).config).onError)==null?void 0:x.call(b,j,e,this.state.context,this,n)),await((S=(_=this.options).onError)==null?void 0:S.call(_,j,e,this.state.context,n)),await((O=(C=K(this,wr).config).onSettled)==null?void 0:O.call(C,void 0,j,this.state.variables,this.state.context,this,n)),await((E=(T=this.options).onSettled)==null?void 0:E.call(T,void 0,j,e,this.state.context,n)),j}finally{hr(this,Li,co).call(this,{type:"error",error:j})}}finally{K(this,wr).runNext(this)}}},If=new WeakMap,Ii=new WeakMap,wr=new WeakMap,qa=new WeakMap,Li=new WeakSet,co=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Cr.batch(()=>{K(this,Ii).forEach(n=>{n.onMutationUpdate(e)}),K(this,wr).notify({mutation:this,type:"updated",action:e})})},tM);function rq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bs,ai,Lf,rM,nq=(rM=class extends Uy{constructor(e={}){super();Ie(this,bs);Ie(this,ai);Ie(this,Lf);this.config=e,Se(this,bs,new Set),Se(this,ai,new Map),Se(this,Lf,0)}build(e,r,n){const i=new tq({client:e,mutationCache:this,mutationId:++gp(this,Lf)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){K(this,bs).add(e);const r=Lp(e);if(typeof r=="string"){const n=K(this,ai).get(r);n?n.push(e):K(this,ai).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(K(this,bs).delete(e)){const r=Lp(e);if(typeof r=="string"){const n=K(this,ai).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&K(this,ai).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Lp(e);if(typeof r=="string"){const n=K(this,ai).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Lp(e);if(typeof r=="string"){const i=(n=K(this,ai).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Cr.batch(()=>{K(this,bs).forEach(e=>{this.notify({type:"removed",mutation:e})}),K(this,bs).clear(),K(this,ai).clear()})}getAll(){return Array.from(K(this,bs))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>zk(r,n))}findAll(e={}){return this.getAll().filter(r=>zk(e,r))}notify(e){Cr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Cr.batch(()=>Promise.all(e.map(r=>r.continue().catch(ii))))}},bs=new WeakMap,ai=new WeakMap,Lf=new WeakMap,rM);function Lp(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Fi,nM,iq=(nM=class extends Uy{constructor(e={}){super();Ie(this,Fi);this.config=e,Se(this,Fi,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??WC(i,r);let o=this.get(s);return o||(o=new JK({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){K(this,Fi).has(e.queryHash)||(K(this,Fi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=K(this,Fi).get(e.queryHash);r&&(e.destroy(),r===e&&K(this,Fi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return K(this,Fi).get(e)}getAll(){return[...K(this,Fi).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Bk(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Bk(e,n)):r}notify(e){Cr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Cr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Cr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Fi=new WeakMap,nM),Tt,Co,Oo,zc,Uc,To,Wc,Vc,iM,sq=(iM=class{constructor(t={}){Ie(this,Tt);Ie(this,Co);Ie(this,Oo);Ie(this,zc);Ie(this,Uc);Ie(this,To);Ie(this,Wc);Ie(this,Vc);Se(this,Tt,t.queryCache||new iq),Se(this,Co,t.mutationCache||new nq),Se(this,Oo,t.defaultOptions||{}),Se(this,zc,new Map),Se(this,Uc,new Map),Se(this,To,0)}mount(){gp(this,To)._++,K(this,To)===1&&(Se(this,Wc,VI.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Tt).onFocus())})),Se(this,Vc,Fm.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Tt).onOnline())})))}unmount(){var t,e;gp(this,To)._--,K(this,To)===0&&((t=K(this,Wc))==null||t.call(this),Se(this,Wc,void 0),(e=K(this,Vc))==null||e.call(this),Se(this,Vc,void 0))}isFetching(t){return K(this,Tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return K(this,Co).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=K(this,Tt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=K(this,Tt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(c_(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return K(this,Tt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=K(this,Tt).get(n.queryHash),s=i==null?void 0:i.state.data,o=IK(e,s);if(o!==void 0)return K(this,Tt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Cr.batch(()=>K(this,Tt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=K(this,Tt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=K(this,Tt);Cr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=K(this,Tt);return Cr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Cr.batch(()=>K(this,Tt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(ii).catch(ii)}invalidateQueries(t,e={}){return Cr.batch(()=>(K(this,Tt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Cr.batch(()=>K(this,Tt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(ii)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(ii)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=K(this,Tt).build(this,e);return r.isStaleByTime(c_(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ii).catch(ii)}fetchInfiniteQuery(t){return t.behavior=Gk(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ii).catch(ii)}ensureInfiniteQueryData(t){return t.behavior=Gk(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fm.isOnline()?K(this,Co).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,Tt)}getMutationCache(){return K(this,Co)}getDefaultOptions(){return K(this,Oo)}setDefaultOptions(t){Se(this,Oo,t)}setQueryDefaults(t,e){K(this,zc).set(Lh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...K(this,zc).values()],r={};return e.forEach(n=>{Fh(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){K(this,Uc).set(Lh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...K(this,Uc).values()],r={};return e.forEach(n=>{Fh(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...K(this,Oo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=WC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===VC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...K(this,Oo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){K(this,Tt).clear(),K(this,Co).clear()}},Tt=new WeakMap,Co=new WeakMap,Oo=new WeakMap,zc=new WeakMap,Uc=new WeakMap,To=new WeakMap,Wc=new WeakMap,Vc=new WeakMap,iM),oq=w.createContext(void 0),aq=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(oq.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bh.apply(this,arguments)}var Po;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Po||(Po={}));const qk="popstate";function lq(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return h_("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:qI(i)}return uq(e,r,null,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cq(){return Math.random().toString(36).substr(2,8)}function Yk(t,e){return{usr:t.state,key:t.key,idx:e}}function h_(t,e,r,n){return r===void 0&&(r=null),Bh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Uu(e):e,{state:r,key:e&&e.key||n||cq()})}function qI(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Uu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function uq(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Po.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Bh({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Po.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:a,location:p.location,delta:y})}function h(v,y){a=Po.Push;let b=h_(p.location,v,y);c=u()+1;let x=Yk(b,c),_=p.createHref(b);try{o.pushState(x,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(_)}s&&l&&l({action:a,location:p.location,delta:1})}function f(v,y){a=Po.Replace;let b=h_(p.location,v,y);c=u();let x=Yk(b,c),_=p.createHref(b);o.replaceState(x,"",_),s&&l&&l({action:a,location:p.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:qI(v);return b=b.replace(/ $/,"%20"),Ft(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let p={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qk,d),l=v,()=>{i.removeEventListener(qk,d),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(v){return o.go(v)}};return p}var Xk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xk||(Xk={}));function dq(t,e,r){return r===void 0&&(r="/"),hq(t,e,r)}function hq(t,e,r,n){let i=typeof e=="string"?Uu(e):e,s=ZI(i.pathname||"/",r);if(s==null)return null;let o=YI(t);fq(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Oq(s);a=_q(o[l],c)}return a}function YI(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ft(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Za([n,l.relativePath]),u=r.concat(l);s.children&&s.children.length>0&&(Ft(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),YI(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:xq(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of XI(s.path))i(s,o,l)}),e}function XI(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=XI(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fq(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:wq(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const pq=/^:[\w-]+$/,gq=3,mq=2,vq=1,yq=10,bq=-2,Zk=t=>t==="*";function xq(t,e){let r=t.split("/"),n=r.length;return r.some(Zk)&&(n+=bq),e&&(n+=mq),r.filter(i=>!Zk(i)).reduce((i,s)=>i+(pq.test(s)?gq:s===""?vq:yq),n)}function wq(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function _q(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Sq({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Za([s,d.pathname]),pathnameBase:jq(Za([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Za([s,d.pathnameBase]))}return o}function Sq(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Cq(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Cq(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),HC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Oq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return HC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ZI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Tq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eq=t=>Tq.test(t);function kq(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Uu(t):t,s;if(r)if(Eq(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),HC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=Jk(r.substring(1),"/"):s=Jk(r,e)}else s=e;return{pathname:s,search:Aq(n),hash:Nq(i)}}function Jk(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function qb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pq(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function JI(t,e){let r=Pq(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function QI(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Uu(t):(i=Bh({},t),Ft(!i.pathname||!i.pathname.includes("?"),qb("?","pathname","search",i)),Ft(!i.pathname||!i.pathname.includes("#"),qb("#","pathname","hash",i)),Ft(!i.search||!i.search.includes("#"),qb("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=kq(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Za=t=>t.join("/").replace(/\/\/+/g,"/"),jq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Aq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Nq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Rq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eL=["post","put","patch","delete"];new Set(eL);const Mq=["get",...eL];new Set(Mq);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zh(){return zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zh.apply(this,arguments)}const GC=w.createContext(null),$q=w.createContext(null),Yf=w.createContext(null),Vy=w.createContext(null),Cl=w.createContext({outlet:null,matches:[],isDataRoute:!1}),tL=w.createContext(null);function Xf(){return w.useContext(Vy)!=null}function Zf(){return Xf()||Ft(!1),w.useContext(Vy).location}function rL(t){w.useContext(Yf).static||w.useLayoutEffect(t)}function yn(){let{isDataRoute:t}=w.useContext(Cl);return t?qq():Dq()}function Dq(){Xf()||Ft(!1);let t=w.useContext(GC),{basename:e,future:r,navigator:n}=w.useContext(Yf),{matches:i}=w.useContext(Cl),{pathname:s}=Zf(),o=JSON.stringify(JI(i,r.v7_relativeSplatPath)),a=w.useRef(!1);return rL(()=>{a.current=!0}),w.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=QI(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Za([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,o,s,t])}function Iq(t,e){return Lq(t,e)}function Lq(t,e,r,n){Xf()||Ft(!1);let{navigator:i}=w.useContext(Yf),{matches:s}=w.useContext(Cl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Zf(),u;if(e){var d;let v=typeof e=="string"?Uu(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Ft(!1),u=v}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=dq(t,{pathname:f}),p=Wq(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Za([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Za([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return e&&p?w.createElement(Vy.Provider,{value:{location:zh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Po.Pop}},p):p}function Fq(){let t=Kq(),e=Rq(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:i},r):null,null)}const Bq=w.createElement(Fq,null);class zq extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(Cl.Provider,{value:this.props.routeContext},w.createElement(tL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Uq(t){let{routeContext:e,match:r,children:n}=t,i=w.useContext(GC);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Cl.Provider,{value:e},n)}function Wq(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ft(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=r,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,m=!1,p=null,v=null;r&&(f=a&&d.route.id?a[d.route.id]:void 0,p=d.route.errorElement||Bq,l&&(c<0&&h===0?(Yq("route-fallback"),m=!0,v=null):c===h&&(m=!0,v=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),b=()=>{let x;return f?x=p:m?x=v:d.route.Component?x=w.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,w.createElement(Uq,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:x})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement(zq,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var nL=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nL||{}),iL=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(iL||{});function Vq(t){let e=w.useContext(GC);return e||Ft(!1),e}function Hq(t){let e=w.useContext($q);return e||Ft(!1),e}function Gq(t){let e=w.useContext(Cl);return e||Ft(!1),e}function sL(t){let e=Gq(),r=e.matches[e.matches.length-1];return r.route.id||Ft(!1),r.route.id}function Kq(){var t;let e=w.useContext(tL),r=Hq(),n=sL();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function qq(){let{router:t}=Vq(nL.UseNavigateStable),e=sL(iL.UseNavigateStable),r=w.useRef(!1);return rL(()=>{r.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,zh({fromRouteId:e},s)))},[t,e])}const Qk={};function Yq(t,e,r){Qk[t]||(Qk[t]=!0)}function Xq(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Zq(t){let{to:e,replace:r,state:n,relative:i}=t;Xf()||Ft(!1);let{future:s,static:o}=w.useContext(Yf),{matches:a}=w.useContext(Cl),{pathname:l}=Zf(),c=yn(),u=QI(e,JI(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return w.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:i}),[c,d,i,r,n]),null}function Zr(t){Ft(!1)}function Jq(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Po.Pop,navigator:s,static:o=!1,future:a}=t;Xf()&&Ft(!1);let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:s,static:o,future:zh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=Uu(n));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=n,p=w.useMemo(()=>{let v=ZI(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:m},navigationType:i}},[l,u,d,h,f,m,i]);return p==null?null:w.createElement(Yf.Provider,{value:c},w.createElement(Vy.Provider,{children:r,value:p}))}function Qq(t){let{children:e,location:r}=t;return Iq(f_(e),r)}new Promise(()=>{});function f_(t,e){e===void 0&&(e=[]);let r=[];return w.Children.forEach(t,(n,i)=>{if(!w.isValidElement(n))return;let s=[...e,i];if(n.type===w.Fragment){r.push.apply(r,f_(n.props.children,s));return}n.type!==Zr&&Ft(!1),!n.props.index||!n.props.children||Ft(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=f_(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const e7="6";try{window.__reactRouterVersion=e7}catch{}const t7="startTransition",eP=gy[t7];function r7(t){let{basename:e,children:r,future:n,window:i}=t,s=w.useRef();s.current==null&&(s.current=lq({window:i,v5Compat:!0}));let o=s.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},u=w.useCallback(d=>{c&&eP?eP(()=>l(d)):l(d)},[l,c]);return w.useLayoutEffect(()=>o.listen(u),[o,u]),w.useEffect(()=>Xq(n),[n]),w.createElement(Jq,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}var tP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(tP||(tP={}));var rP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(rP||(rP={}));var p_=function(t,e){return p_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},p_(t,e)};function oL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var kn=function(){return kn=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kn.apply(this,arguments)};function ta(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function aL(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function lL(t,e){return function(r,n){e(r,n,t)}}function cL(t,e,r,n,i,s){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,h=!1,f=r.length-1;f>=0;f--){var m={};for(var p in n)m[p]=p==="access"?{}:n[p];for(var p in n.access)m.access[p]=n.access[p];m.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(y||null))};var v=(0,r[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],m);if(a==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=o(v.get))&&(u.get=d),(d=o(v.set))&&(u.set=d),(d=o(v.init))&&i.unshift(d)}else(d=o(v))&&(a==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,n.name,u),h=!0}function uL(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function dL(t){return typeof t=="symbol"?t:"".concat(t)}function hL(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function fL(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ue(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function pL(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Hy=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function gL(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Hy(e,t,r)}function Bm(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function KC(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function mL(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(KC(arguments[e]));return t}function vL(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function qC(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function tu(t){return this instanceof tu?(this.v=t,this):new tu(t)}function yL(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(f){return function(m){return Promise.resolve(m).then(f,d)}}function a(f,m){n[f]&&(i[f]=function(p){return new Promise(function(v,y){s.push([f,p,v,y])>1||l(f,p)})},m&&(i[f]=m(i[f])))}function l(f,m){try{c(n[f](m))}catch(p){h(s[0][3],p)}}function c(f){f.value instanceof tu?Promise.resolve(f.value.v).then(u,d):h(s[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,m){f(m),s.shift(),s.length&&l(s[0][0],s[0][1])}}function bL(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:tu(t[i](o)),done:!1}:s?s(o):o}:s}}function xL(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Bm=="function"?Bm(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function wL(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var n7=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},g_=function(t){return g_=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},g_(t)};function _L(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=g_(t),n=0;n<r.length;n++)r[n]!=="default"&&Hy(e,t,r[n]);return n7(e,t),e}function SL(t){return t&&t.__esModule?t:{default:t}}function CL(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function OL(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function TL(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function EL(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var i7=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function kL(t){function e(s){t.error=t.hasError?new i7(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function PL(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,o){return n?e?".jsx":".js":i&&(!s||!o)?r:i+s+"."+o.toLowerCase()+"js"}):t}const s7={__extends:oL,__assign:kn,__rest:ta,__decorate:aL,__param:lL,__esDecorate:cL,__runInitializers:uL,__propKey:dL,__setFunctionName:hL,__metadata:fL,__awaiter:ue,__generator:pL,__createBinding:Hy,__exportStar:gL,__values:Bm,__read:KC,__spread:mL,__spreadArrays:vL,__spreadArray:qC,__await:tu,__asyncGenerator:yL,__asyncDelegator:bL,__asyncValues:xL,__makeTemplateObject:wL,__importStar:_L,__importDefault:SL,__classPrivateFieldGet:CL,__classPrivateFieldSet:OL,__classPrivateFieldIn:TL,__addDisposableResource:EL,__disposeResources:kL,__rewriteRelativeImportExtension:PL},o7=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:EL,get __assign(){return kn},__asyncDelegator:bL,__asyncGenerator:yL,__asyncValues:xL,__await:tu,__awaiter:ue,__classPrivateFieldGet:CL,__classPrivateFieldIn:TL,__classPrivateFieldSet:OL,__createBinding:Hy,__decorate:aL,__disposeResources:kL,__esDecorate:cL,__exportStar:gL,__extends:oL,__generator:pL,__importDefault:SL,__importStar:_L,__makeTemplateObject:wL,__metadata:fL,__param:lL,__propKey:dL,__read:KC,__rest:ta,__rewriteRelativeImportExtension:PL,__runInitializers:uL,__setFunctionName:hL,__spread:mL,__spreadArray:qC,__spreadArrays:vL,__values:Bm,default:s7},Symbol.toStringTag,{value:"Module"})),a7=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class YC extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class l7 extends YC{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class nP extends YC{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class iP extends YC{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var m_;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(m_||(m_={}));class c7{constructor(e,{headers:r={},customFetch:n,region:i=m_.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=a7(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ue(this,arguments,void 0,function*(r,n={}){var i;let s,o;try{const{headers:a,method:l,body:c,signal:u,timeout:d}=n;let h={},{region:f}=n;f||(f=this.region);const m=new URL(`${this.url}/${r}`);f&&f!=="any"&&(h["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let p;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=c):typeof c=="string"?(h["Content-Type"]="text/plain",p=c):typeof FormData<"u"&&c instanceof FormData?p=c:(h["Content-Type"]="application/json",p=JSON.stringify(c)):p=c;let v=u;d&&(o=new AbortController,s=setTimeout(()=>o.abort(),d),u?(v=o.signal,u.addEventListener("abort",()=>o.abort())):v=o.signal);const y=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:p,signal:v}).catch(S=>{throw new l7(S)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new nP(y);if(!y.ok)throw new iP(y);let x=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return x==="application/json"?_=yield y.json():x==="application/octet-stream"||x==="application/pdf"?_=yield y.blob():x==="text/event-stream"?_=y:x==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof iP||a instanceof nP?a.context:void 0}}finally{s&&clearTimeout(s)}})}}var Or={};const Wu=WW(o7);var Fp={},Bp={},zp={},Up={},Wp={},Vp={},sP;function jL(){if(sP)return Vp;sP=1,Object.defineProperty(Vp,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Vp.default=t,Vp}var oP;function AL(){if(oP)return Wp;oP=1,Object.defineProperty(Wp,"__esModule",{value:!0});const e=Wu.__importDefault(jL());class r{constructor(i){var s,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,d,h;let f=null,m=null,p=null,v=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?m=S:m=JSON.parse(S))}const x=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),_=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");x&&_&&_.length>1&&(p=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,v=406,y="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const x=await l.text();try{f=JSON.parse(x),Array.isArray(f)&&l.status===404&&(m=[],f=null,v=200,y="OK")}catch{l.status===404&&x===""?(v=204,y="No Content"):f={message:x}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,v=200,y="OK"),f&&this.shouldThrowOnError)throw new e.default(f)}return{error:f,data:m,count:p,status:v,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,u,d,h,f,m;let p="";const v=l==null?void 0:l.cause;if(v){const y=(c=v==null?void 0:v.message)!==null&&c!==void 0?c:"",b=(u=v==null?void 0:v.code)!==null&&u!==void 0?u:"";p=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,p+=`

Caused by: ${(h=v==null?void 0:v.name)!==null&&h!==void 0?h:"Error"}: ${y}`,b&&(p+=` (${b})`),v!=null&&v.stack&&(p+=`
${v.stack}`)}else p=(f=l==null?void 0:l.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"FetchError"}: ${l==null?void 0:l.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(i,s)}returns(){return this}overrideTypes(){return this}}return Wp.default=r,Wp}var aP;function NL(){if(aP)return Up;aP=1,Object.defineProperty(Up,"__esModule",{value:!0});const e=Wu.__importDefault(AL());class r extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,s?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Up.default=r,Up}var lP;function XC(){if(lP)return zp;lP=1,Object.defineProperty(zp,"__esModule",{value:!0});const e=Wu.__importDefault(NL()),r=new RegExp("[,()]");class n extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}regexMatch(s,o){return this.url.searchParams.append(s,`match.${o}`),this}regexIMatch(s,o){return this.url.searchParams.append(s,`imatch.${o}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}isDistinct(s,o){return this.url.searchParams.append(s,`isdistinct.${o}`),this}in(s,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${c}fts${u}.${o}`),this}match(s){return Object.entries(s).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(s,o,a){return this.url.searchParams.append(s,`not.${o}.${a}`),this}or(s,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,o,a){return this.url.searchParams.append(s,`${o}.${a}`),this}}return zp.default=n,zp}var cP;function RL(){if(cP)return Bp;cP=1,Object.defineProperty(Bp,"__esModule",{value:!0});const e=Wu.__importDefault(XC());class r{constructor(i,{headers:s={},schema:o,fetch:a}){this.url=i,this.headers=new Headers(s),this.schema=o,this.fetch=a}select(i,s){const{head:o=!1,count:a}=s??{},l=o?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:o=!0}={}){var a;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:s}={}){var o;const a="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var s;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Bp.default=r,Bp}var uP;function u7(){if(uP)return Fp;uP=1,Object.defineProperty(Fp,"__esModule",{value:!0});const t=Wu,e=t.__importDefault(RL()),r=t.__importDefault(XC());class n{constructor(s,{headers:o={},schema:a,fetch:l}={}){this.url=s,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${s}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let d;const h=new URL(`${this.url}/rpc/${s}`);let f;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{h.searchParams.append(p,v)})):(d="POST",f=o);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new r.default({method:d,url:h,headers:m,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Fp.default=n,Fp}Object.defineProperty(Or,"__esModule",{value:!0});var ML=Or.PostgrestError=VL=Or.PostgrestBuilder=UL=Or.PostgrestTransformBuilder=BL=Or.PostgrestFilterBuilder=LL=Or.PostgrestQueryBuilder=DL=Or.PostgrestClient=void 0;const Vu=Wu,$L=Vu.__importDefault(u7());var DL=Or.PostgrestClient=$L.default;const IL=Vu.__importDefault(RL());var LL=Or.PostgrestQueryBuilder=IL.default;const FL=Vu.__importDefault(XC());var BL=Or.PostgrestFilterBuilder=FL.default;const zL=Vu.__importDefault(NL());var UL=Or.PostgrestTransformBuilder=zL.default;const WL=Vu.__importDefault(AL());var VL=Or.PostgrestBuilder=WL.default;const HL=Vu.__importDefault(jL());ML=Or.PostgrestError=HL.default;var GL=Or.default={PostgrestClient:$L.default,PostgrestQueryBuilder:IL.default,PostgrestFilterBuilder:FL.default,PostgrestTransformBuilder:zL.default,PostgrestBuilder:WL.default,PostgrestError:HL.default};const d7=sM({__proto__:null,get PostgrestBuilder(){return VL},get PostgrestClient(){return DL},get PostgrestError(){return ML},get PostgrestFilterBuilder(){return BL},get PostgrestQueryBuilder(){return LL},get PostgrestTransformBuilder(){return UL},default:GL},[Or]),{PostgrestClient:h7,PostgrestQueryBuilder:Sje,PostgrestFilterBuilder:Cje,PostgrestTransformBuilder:Oje,PostgrestBuilder:Tje,PostgrestError:Eje}=GL||d7;class f7{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const p7="2.84.0",g7=`realtime-js/${p7}`,KL="1.0.0",m7="2.0.0",dP=KL,v_=1e4,v7=1e3,y7=100;var Ta;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ta||(Ta={}));var Wt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Wt||(Wt={}));var ci;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ci||(ci={}));var y_;(function(t){t.websocket="websocket"})(y_||(y_={}));var Ea;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ea||(Ea={}));class b7{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n,i,s;const o=e.topic,a=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=e.payload.event,u=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),m=0;f.setUint8(m++,this.KINDS.userBroadcastPush),f.setUint8(m++,l.length),f.setUint8(m++,a.length),f.setUint8(m++,o.length),f.setUint8(m++,c.length),f.setUint8(m++,this.BINARY_ENCODING),Array.from(l,v=>f.setUint8(m++,v.charCodeAt(0))),Array.from(a,v=>f.setUint8(m++,v.charCodeAt(0))),Array.from(o,v=>f.setUint8(m++,v.charCodeAt(0))),Array.from(c,v=>f.setUint8(m++,v.charCodeAt(0)));var p=new Uint8Array(h.byteLength+u.byteLength);return p.set(new Uint8Array(h),0),p.set(new Uint8Array(u),h.byteLength),p.buffer}_encodeJsonUserBroadcastPush(e){var r,n,i,s;const o=e.topic,a=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",c=e.payload.event,u=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(m),v=0;p.setUint8(v++,this.KINDS.userBroadcastPush),p.setUint8(v++,l.length),p.setUint8(v++,a.length),p.setUint8(v++,o.length),p.setUint8(v++,c.length),p.setUint8(v++,this.JSON_ENCODING),Array.from(l,b=>p.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>p.setUint8(v++,b.charCodeAt(0))),Array.from(o,b=>p.setUint8(v++,b.charCodeAt(0))),Array.from(c,b=>p.setUint8(v++,b.charCodeAt(0)));var y=new Uint8Array(m.byteLength+h.byteLength);return y.set(new Uint8Array(m),0),y.set(new Uint8Array(h),m.byteLength),y.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,o,a,l]=n;return r({join_ref:i,ref:s,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const u=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,m={type:this.BROADCAST_EVENT,event:u,payload:f};return o>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class qL{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(st||(st={}));const hP=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=x7(o,t,e,i),s),{}):{}},x7=(t,e,r,n)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=r[t];return s&&!n.includes(s)?YL(s,o):b_(o)},YL=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return C7(e,r)}switch(t){case st.bool:return w7(e);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return _7(e);case st.json:case st.jsonb:return S7(e);case st.timestamp:return O7(e);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return b_(e);default:return b_(e)}},b_=t=>t,w7=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},_7=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},S7=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},C7=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>YL(e,a))}return t},O7=t=>typeof t=="string"?t.replace(" ","T"):t,XL=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Yb{constructor(e,r,n={},i=v_){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fP;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fP||(fP={}));class oh{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oh.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=oh.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=oh.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const h=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),m=u.filter(v=>f.indexOf(v.presence_ref)<0),p=d.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(a[c]=m),p.length>0&&(l[c]=p)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}n(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pP;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(pP||(pP={}));var ah;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ah||(ah={}));var ps;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ps||(ps={}));class ZC{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Yb(this,ci.join,this.params,this.timeout),this.rejoinTimer=new qL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ci.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new oh(this),this.broadcastEndpointURL=XL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Wt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[ah.PRESENCE]&&this.bindings[ah.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(ps.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(ps.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){e==null||e(ps.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(m=p==null?void 0:p.length)!==null&&m!==void 0?m:0,y=[];for(let b=0;b<v;b++){const x=p[b],{filter:{event:_,schema:S,table:C,filter:O}}=x,T=f&&f[b];if(T&&T.event===_&&T.schema===S&&T.table===C&&T.filter===O)y.push(Object.assign(Object.assign({},x),{id:T.id}));else{this.unsubscribe(),this.state=Wt.errored,e==null||e(ps.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(ps.SUBSCRIBED);return}}).receive("error",f=>{this.state=Wt.errored,e==null||e(ps.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ps.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Wt.joined&&e===ah.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Wt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ci.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Yb(this,ci.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Yb(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>y7){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=ci;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var m,p,v;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(p=f.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var m,p,v,y,b,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const _=f.id,S=(m=f.filter)===null||m===void 0?void 0:m.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(b=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:p,table:v,commit_timestamp:y,type:b,errors:x}=m;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:y,eventType:b,new:{},old:{},errors:x}),this._getPayloadRecords(m))}f.callback(h,n)})}_isClosed(){return this.state===Wt.closed}_isJoined(){return this.state===Wt.joined}_isJoining(){return this.state===Wt.joining}_isLeaving(){return this.state===Wt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&ZC.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ci.close,{},e)}_onError(e){this._on(ci.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=hP(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=hP(e.columns,e.old_record)),r}}const Xb=()=>{},Hp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},T7=[1e3,2e3,5e3,1e4],E7=1e4,k7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class P7{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=v_,this.transport=null,this.heartbeatIntervalMs=Hp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xb,this.ref=0,this.reconnectTimer=null,this.vsn=dP,this.logger=Xb,this.conn=null,this.sendBuffer=[],this.serializer=new b7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${y_.websocket}`,this.httpEndpoint=XL(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=f7.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ta.connecting:return Ea.Connecting;case Ta.open:return Ea.Open;case Ta.closing:return Ea.Closing;default:return Ea.Closed}}isConnected(){return this.connectionState()===Ea.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new ZC(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(v7,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Hp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:o}=r,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ta.open||this.conn.readyState===Ta.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ci.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([k7],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:g7};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ci.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new qL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,o,a,l,c,u,d,h,f;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:v_,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Hp.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Xb,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:dP,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:m=>T7[m-1]||E7,this.vsn){case KL:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(m,p)=>p(JSON.stringify(m)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(m,p)=>p(JSON.parse(m));break;case m7:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class JC extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function wt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class j7 extends JC{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class x_ extends JC{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const QC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),A7=()=>Response,w_=t=>{if(Array.isArray(t))return t.map(r=>w_(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=w_(n)}),e},N7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Zb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},R7=(t,e,r)=>ue(void 0,void 0,void 0,function*(){const n=yield A7();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,o=(i==null?void 0:i.statusCode)||s+"";e(new j7(Zb(i),s,o))}).catch(i=>{e(new x_(Zb(i),i))}):e(new x_(Zb(t),t))}),M7=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(N7(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Jf(t,e,r,n,i,s){return ue(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,M7(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>R7(l,a,n))})})}function Uh(t,e,r,n){return ue(this,void 0,void 0,function*(){return Jf(t,"GET",e,r,n)})}function si(t,e,r,n,i){return ue(this,void 0,void 0,function*(){return Jf(t,"POST",e,n,i,r)})}function __(t,e,r,n,i){return ue(this,void 0,void 0,function*(){return Jf(t,"PUT",e,n,i,r)})}function $7(t,e,r,n){return ue(this,void 0,void 0,function*(){return Jf(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function eO(t,e,r,n,i){return ue(this,void 0,void 0,function*(){return Jf(t,"DELETE",e,n,i,r)})}class D7{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(wt(e))return{data:null,error:e};throw e}})}}var ZL;class I7{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[ZL]="BlobDownloadBuilder",this.promise=null}asStream(){return new D7(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(wt(e))return{data:null,error:e};throw e}})}}ZL=Symbol.toStringTag;const L7={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class F7{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=QC(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return ue(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},gP),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(e=="PUT"?__:si)(this.fetch,`${this.url}/object/${u}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(wt(s))return{data:null,error:s};throw s}})}upload(e,r,n){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return ue(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:gP.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield __(this.fetch,a.toString(),l,{headers:u});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(wt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield si(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new JC("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}update(e,r,n){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ue(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}})}copy(e,r,n){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield si(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield si(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return ue(this,void 0,void 0,function*(){try{const i=yield si(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"",a=this._getFinalPath(e),l=()=>Uh(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new I7(l,this.shouldThrowOnError)}info(e){return ue(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Uh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:w_(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}exists(e){return ue(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield $7(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n)&&n instanceof x_){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return ue(this,void 0,void 0,function*(){try{return{data:yield eO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}list(e,r,n){return ue(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},L7),r),{prefix:e||""});return{data:yield si(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}})}listV2(e,r){return ue(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield si(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const JL="2.84.0",QL={"X-Client-Info":`storage-js/${JL}`};class B7{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QL),r),this.fetch=QC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ue(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Uh(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}getBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Uh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}createBucket(e){return ue(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield si(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return ue(this,void 0,void 0,function*(){try{return{data:yield __(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield eO(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class z7{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QL),r),this.fetch=QC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}listBuckets(e){return ue(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Uh(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield eO(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}}const tO={"X-Client-Info":`storage-js/${JL}`,"Content-Type":"application/json"};class eF extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function on(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Jb extends eF{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class U7 extends eF{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var mP;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(mP||(mP={}));const rO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),W7=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vP=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),V7=(t,e,r)=>ue(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new Jb(vP(o),i,a))}).catch(()=>{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new Jb(a,i,o))});else{const o=i+"",a=s.statusText||`HTTP ${i} error`;e(new Jb(a,i,o))}}else e(new U7(vP(t),t))}),H7=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(W7(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function G7(t,e,r,n,i,s){return ue(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,H7(e,n,i,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>V7(l,a,n))})})}function an(t,e,r,n,i){return ue(this,void 0,void 0,function*(){return G7(t,"POST",e,n,i,r)})}class K7{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tO),r),this.fetch=rO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield an(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}getIndex(e,r){return ue(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}listIndexes(e){return ue(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return ue(this,void 0,void 0,function*(){try{return{data:(yield an(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(on(n))return{data:null,error:n};throw n}})}}class q7{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tO),r),this.fetch=rO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield an(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}getVectors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}listVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield an(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}queryVectors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}deleteVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield an(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}}class Y7{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tO),r),this.fetch=rO(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield an(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}getBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}listBuckets(){return ue(this,arguments,void 0,function*(e={}){try{return{data:yield an(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield an(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(on(r))return{data:null,error:r};throw r}})}}class X7 extends Y7{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Z7(this.url,this.headers,e,this.fetch)}}class Z7 extends K7{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ue(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ue(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ue(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ue(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new J7(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class J7 extends q7{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ue(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ue(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ue(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ue(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ue(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Q7 extends B7{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new F7(this.url,this.headers,e,this.fetch)}get vectors(){return new X7(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new z7(this.url+"/iceberg",this.headers,this.fetch)}}const eY="2.84.0";let Fd="";typeof Deno<"u"?Fd="deno":typeof document<"u"?Fd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fd="react-native":Fd="node";const tY={"X-Client-Info":`supabase-js-${Fd}/${eY}`},rY={headers:tY},nY={schema:"public"},iY={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sY={},oY=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aY=()=>Headers,lY=(t,e,r)=>{const n=oY(r),i=aY();return async(s,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:c}))}};function cY(t){return t.endsWith("/")?t:t+"/"}function uY(t,e){var r,n;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function dY(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cY(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const tF="2.84.0",Xl=30*1e3,S_=3,Qb=S_*Xl,hY="http://localhost:9999",fY="supabase.auth.token",pY={"X-Client-Info":`gotrue-js/${tF}`},C_="X-Supabase-Api-Version",rF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gY=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mY=10*60*1e3;class Wh extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function de(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class vY extends Wh{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function yY(t){return de(t)&&t.name==="AuthApiError"}class ka extends Wh{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ra extends Wh{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Jr extends ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bY(t){return de(t)&&t.name==="AuthSessionMissingError"}class Dl extends ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gp extends ra{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Kp extends ra{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xY(t){return de(t)&&t.name==="AuthImplicitGrantRedirectError"}class yP extends ra{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class O_ extends ra{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ex(t){return de(t)&&t.name==="AuthRetryableFetchError"}class bP extends ra{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class T_ extends ra{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xP=` 	
\r=`.split(""),wY=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<xP.length;e+=1)t[xP[e].charCodeAt(0)]=-2;for(let e=0;e<zm.length;e+=1)t[zm[e].charCodeAt(0)]=e;return t})();function wP(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(zm[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(zm[n]),e.queuedBits-=6}}function nF(t,e,r){const n=wY[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function _P(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{CY(o,n,r)};for(let o=0;o<t.length;o+=1)nF(t.charCodeAt(o),i,s);return e.join("")}function _Y(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function SY(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}_Y(n,e)}}function CY(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function kc(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)nF(t.charCodeAt(i),r,n);return new Uint8Array(e)}function OY(t){const e=[];return SY(t,r=>e.push(r)),new Uint8Array(e)}function $a(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>wP(i,r,n)),wP(null,r,n),e.join("")}function TY(t){return Math.round(Date.now()/1e3)+t}function EY(){return Symbol("auth-callback")}const or=()=>typeof window<"u"&&typeof document<"u",ha={tested:!1,writable:!1},iF=()=>{if(!or())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ha.tested)return ha.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ha.tested=!0,ha.writable=!0}catch{ha.tested=!0,ha.writable=!1}return ha.writable};function kY(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const sF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),PY=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Zl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},fa=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},oo=async(t,e)=>{await t.removeItem(e)};class Gy{constructor(){this.promise=new Gy.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Gy.promiseConstructor=Promise;function tx(t){const e=t.split(".");if(e.length!==3)throw new T_("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!gY.test(e[n]))throw new T_("JWT not in base64url format");return{header:JSON.parse(_P(e[0])),payload:JSON.parse(_P(e[1])),signature:kc(e[2]),raw:{header:e[0],payload:e[1]}}}async function jY(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function AY(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function NY(t){return("0"+t.toString(16)).substr(-2)}function RY(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,NY).join("")}async function MY(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function $Y(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await MY(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Il(t,e,r=!1){const n=RY();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Zl(t,`${e}-code-verifier`,i);const s=await $Y(n);return[s,n===s?"plain":"s256"]}const DY=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IY(t){const e=t.headers.get(C_);if(!e||!e.match(DY))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function LY(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function FY(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BY=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ll(t){if(!BY.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rx(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zY(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function SP(t){return JSON.parse(JSON.stringify(t))}const xa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),UY=[502,503,504];async function CP(t){var e;if(!PY(t))throw new O_(xa(t),0);if(UY.includes(t.status))throw new O_(xa(t),t.status);let r;try{r=await t.json()}catch(s){throw new ka(xa(s),s)}let n;const i=IY(t);if(i&&i.getTime()>=rF["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bP(xa(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Jr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new bP(xa(r),t.status,r.weak_password.reasons);throw new vY(xa(r),t.status||500,n)}const WY=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ye(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[C_]||(s[C_]=rF["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await VY(t,e,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function VY(t,e,r,n,i,s){const o=WY(e,n,i,s);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new O_(xa(l),0)}if(a.ok||await CP(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await CP(l)}}function ei(t){var e;let r=null;KY(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=TY(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function OP(t){const e=ei(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function HY(t){return{data:t,error:null}}function GY(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=ta(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function TP(t){return t}function KY(t){return t.access_token&&t.refresh_token&&t.expires_in}const nx=["global","local","others"];class qY{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=sF(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=nx[0]){if(nx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nx.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:yo})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ta(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:GY,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(de(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yo})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:TP});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const p=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=p}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(de(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Ll(e);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yo})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ll(e);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:yo})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ll(e);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:yo})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ll(e.userId);try{const{data:r,error:n}=await ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ll(e.userId),Ll(e.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:TP});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const p=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=p}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(de(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}}function EP(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Fl={debug:!!(globalThis&&iF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oF extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class YY extends oF{}async function XY(t,e,r){Fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Fl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Fl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new YY(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Fl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function ZY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function aF(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function JY(t){return parseInt(t,16)}function QY(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function eX(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=aF(t.address),m=u?`${u}://${n}`:n,p=t.statement?`${t.statement}
`:"",v=`${m} wants you to sign in with your Ethereum account:
${f}

${p}`;let y=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const x of c){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);b+=`
- ${x}`}y+=b}return`${v}
${y}`}class Mt extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Um extends Mt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function tX({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(lF(o)){if(s.rp.id!==o)return new Mt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function rX({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(lF(n)){if(r.rpId!==n)return new Mt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class nX{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const iX=new nX;function sX(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=ta(t,["challenge","user","excludeCredentials"]),s=kc(e).buffer,o=Object.assign(Object.assign({},r),{id:kc(r.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:kc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function oX(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=ta(t,["challenge","allowCredentials"]),i=kc(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:kc(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function aX(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:$a(new Uint8Array(t.response.attestationObject)),clientDataJSON:$a(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function lX(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:$a(new Uint8Array(i.authenticatorData)),clientDataJSON:$a(new Uint8Array(i.clientDataJSON)),signature:$a(new Uint8Array(i.signature)),userHandle:i.userHandle?$a(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function lF(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function kP(){var t,e;return!!(or()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function cX(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Um("Browser returned unexpected credential type",e)}:{data:null,error:new Um("Empty credential response",e)}}catch(e){return{data:null,error:tX({error:e,options:t})}}}async function uX(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Um("Browser returned unexpected credential type",e)}:{data:null,error:new Um("Empty credential response",e)}}catch(e){return{data:null,error:rX({error:e,options:t})}}}const dX={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hX={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wm(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(e(o)){const a=n[s];e(a)?n[s]=Wm(a,o):n[s]=Wm(o)}else n[s]=o}return n}function fX(t,e){return Wm(dX,t,e||{})}function pX(t,e){return Wm(hX,t,e||{})}class gX{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=i??iX.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=fX(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:u,error:d}=await cX({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=pX(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:u,error:d}=await uX(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return de(o)?{data:null,error:o}:{data:null,error:new ka("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Wh("rpId is required for WebAuthn authentication")};try{if(!kP())return{data:null,error:new ka("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return de(o)?{data:null,error:o}:{data:null,error:new ka("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Wh("rpId is required for WebAuthn registration")};try{if(!kP())return{data:null,error:new ka("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return de(o)?{data:null,error:o}:{data:null,error:new ka("Unexpected error in register",o)}}}}ZY();const mX={url:hY,storageKey:fY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pY,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function PP(t,e,r){return await r()}const Bl={};class Vh{get jwks(){var e,r;return(r=(e=Bl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Bl[this.storageKey]=Object.assign(Object.assign({},Bl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Bl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Bl[this.storageKey]=Object.assign(Object.assign({},Bl[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},mX),e);if(this.storageKey=s.storageKey,this.instanceID=(r=Vh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Vh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&or()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new qY({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=sF(s.fetch),this.lock=s.lock||PP,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:or()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=XY:this.lock=PP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gX(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:iF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=EP(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=EP(this.memoryStorage)),or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${tF}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(or()&&(r=kY(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),or()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),xY(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return de(r)?this._returnResult({error:r}):this._returnResult({error:new ka("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ei}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(de(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Il(this.storage,this.storageKey)),s=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},xform:ei})}else if("phone"in e){const{phone:u,password:d,options:h}=e;s=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ei})}else throw new Gp("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(de(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:a}=e;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:OP})}else if("phone"in e){const{phone:s,password:o,options:a}=e;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:OP})}else throw new Gp("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Dl;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,o,a,l,c,u,d,h;let f,m;if("message"in e)f=e.message,m=e.signature;else{const{chain:p,wallet:v,statement:y,options:b}=e;let x;if(or())if(typeof v=="object")x=v;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")x=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=v}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=aF(S[0]);let O=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!O){const E=await x.request({method:"eth_chainId"});O=JY(E)}const T={domain:_.host,address:C,statement:y,uri:_.href,version:"1",chainId:O,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=eX(T),m=await x.request({method:"personal_sign",params:[QY(f),C]})}try{const{data:p,error:v}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ei});if(v)throw v;if(!p||!p.session||!p.user){const y=new Dl;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:v})}catch(p){if(de(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var r,n,i,s,o,a,l,c,u,d,h,f;let m,p;if("message"in e)m=e.message,p=e.signature;else{const{chain:v,wallet:y,statement:b,options:x}=e;let _;if(or())if(typeof y=="object")_=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let O;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")O=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)O=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)m=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),p=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=C}}try{const{data:v,error:y}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:$a(p)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ei});if(y)throw y;if(!v||!v.session||!v.user){const b=new Dl;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(de(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const r=await fa(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ei});if(await oo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new Dl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(de(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,a=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ei}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Dl;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Il(this.storage,this.storageKey));const{error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new Gp("You must provide either an email or phone number.")}catch(a){if(de(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ei});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Il(this.storage,this.storageKey));const c=await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:HY});return!((s=c.data)===null||s===void 0)&&s.url&&or()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(de(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Jr;const{error:i}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(de(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Gp("You must provide either an email or phone number and a type")}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await fa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Qb:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await fa(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=rx()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=zY(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yo}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jr}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:yo})})}catch(r){if(de(r))return bY(r)&&(await this._removeSession(),await oo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Jr;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Il(this.storage,this.storageKey));const{data:c,error:u}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:yo});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(de(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Jr;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=tx(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(de(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Jr;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(de(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!or())throw new Kp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Kp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yP("No code detected.");const{data:b,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new Kp("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=Xl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const m=h-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:p,error:v}=await this._getUser(s);if(v)throw v;const y={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(n){if(de(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await fa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(yY(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await oo(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=EY(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Il(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return or()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(de(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,d=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ei}),{data:h,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Dl}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(i){if(de(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await AY(async i=>(i>0&&await jY(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ei})),(i,s)=>{const o=200*Math.pow(2,i);return s&&ex(s)&&Date.now()+o-n<Xl})}catch(n){if(this._debug(r,"error",n),de(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),or()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await fa(this.storage,this.storageKey);if(i&&this.userStorage){let o=await fa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Zl(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:rx()}else if(i&&!i.user&&!i.user){const o=await fa(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await oo(this.storage,this.storageKey+"-user"),await Zl(this.storage,this.storageKey,i)):i.user=rx()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Qb;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Qb}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ex(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Jr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Gy;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Jr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),de(s)){const o={data:null,error:s};return ex(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Zl(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=SP(i);await Zl(this.storage,this.storageKey,s)}else{const i=SP(r);await Zl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await oo(this.storage,this.storageKey),await oo(this.storage,this.storageKey+"-code-verifier"),await oo(this.storage,this.storageKey+"-user"),this.userStorage&&await oo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&or()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Xl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Xl}ms, refresh threshold is ${S_} ticks`),i<=S_&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof oF)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!or()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Il(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?aX(e.webauthn.credential_response):lX(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:sX(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:oX(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=tx(n.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Jr})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Jr});const o=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&or()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Jr});const o=await ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&or()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Jr})})}catch(e){if(de(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Jr})})}catch(r){if(de(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+mY>i)return n;const{data:s,error:o}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:m}=await this.getSession();if(m||!f.session)return this._returnResult({data:null,error:m});n=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=tx(n);r!=null&&r.allowExpired||LY(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const u=FY(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,OY(`${a}.${l}`)))throw new T_("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(de(n))return this._returnResult({data:null,error:n});throw n}}}Vh.nextInstanceID={};const vX=Vh;class yX extends vX{constructor(e){super(e)}}class bX{constructor(e,r,n){var i,s,o;this.supabaseUrl=e,this.supabaseKey=r;const a=dY(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:nY,realtime:sY,auth:Object.assign(Object.assign({},iY),{storageKey:l}),global:rY},u=uY(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=lY(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new h7(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Q7(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new c7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:o,flowType:a,lock:l,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yX({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new P7(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xX=(t,e,r)=>new bX(t,e,r);function wX(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}wX()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _X="https://sfahelvbmlmyflbnicvc.supabase.co",SX="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNmYWhlbHZibWxteWZsYm5pY3ZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5NzYzMDUsImV4cCI6MjA3ODU1MjMwNX0.9i6jyWkHL0z1ib8MoxALl4BhuRJ2OiIKZm8wd6LoRpY",be=xX(_X,SX,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Mi=({children:t})=>{const[e,r]=w.useState(null),[n,i]=w.useState(!0);return w.useEffect(()=>{be.auth.getSession().then(({data:{session:o}})=>{r(o),i(!1)});const{data:{subscription:s}}=be.auth.onAuthStateChange((o,a)=>{r(a)});return()=>s.unsubscribe()},[]),n?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e?g.jsx(g.Fragment,{children:t}):g.jsx(Zq,{to:"/auth",replace:!0})},CX={theme:"system",setTheme:()=>null},cF=w.createContext(CX);function OX({children:t,defaultTheme:e="system",storageKey:r="vite-ui-theme",...n}){const[i,s]=w.useState(()=>localStorage.getItem(r)||e);w.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(i)},[i]);const o={theme:i,setTheme:a=>{localStorage.setItem(r,a),s(a)}};return g.jsx(cF.Provider,{...n,value:o,children:t})}const TX=()=>{const t=w.useContext(cF);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};var EX=Symbol.for("react.lazy"),Vm=gy[" use ".trim().toString()];function kX(t){return typeof t=="object"&&t!==null&&"then"in t}function uF(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===EX&&"_payload"in t&&kX(t._payload)}function Ky(t){const e=jX(t),r=w.forwardRef((n,i)=>{let{children:s,...o}=n;uF(s)&&typeof Vm=="function"&&(s=Vm(s._payload));const a=w.Children.toArray(s),l=a.find(NX);if(l){const c=l.props.children,u=a.map(d=>d===l?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:d);return g.jsx(e,{...o,ref:i,children:w.isValidElement(c)?w.cloneElement(c,void 0,u):null})}return g.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var PX=Ky("Slot");function jX(t){const e=w.forwardRef((r,n)=>{let{children:i,...s}=r;if(uF(i)&&typeof Vm=="function"&&(i=Vm(i._payload)),w.isValidElement(i)){const o=MX(i),a=RX(s,i.props);return i.type!==w.Fragment&&(a.ref=n?Lu(n,o):o),w.cloneElement(i,a)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AX=Symbol("radix.slottable");function NX(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AX}function RX(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function MX(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const $X=Gf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=w.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?PX:"button";return g.jsx(o,{className:ae($X({variant:e,size:r,className:t})),ref:s,...i})});fe.displayName="Button";var ix="focusScope.autoFocusOnMount",sx="focusScope.autoFocusOnUnmount",jP={bubbles:!1,cancelable:!0},DX="FocusScope",nO=w.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=w.useState(null),c=Lt(i),u=Lt(s),d=w.useRef(null),h=Le(e,p=>l(p)),f=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let p=function(x){if(f.paused||!a)return;const _=x.target;a.contains(_)?d.current=_:uo(d.current,{select:!0})},v=function(x){if(f.paused||!a)return;const _=x.relatedTarget;_!==null&&(a.contains(_)||uo(d.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&uo(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(y);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[n,a,f.paused]),w.useEffect(()=>{if(a){NP.add(f);const p=document.activeElement;if(!a.contains(p)){const y=new CustomEvent(ix,jP);a.addEventListener(ix,c),a.dispatchEvent(y),y.defaultPrevented||(IX(UX(dF(a)),{select:!0}),document.activeElement===p&&uo(a))}return()=>{a.removeEventListener(ix,c),setTimeout(()=>{const y=new CustomEvent(sx,jP);a.addEventListener(sx,u),a.dispatchEvent(y),y.defaultPrevented||uo(p??document.body,{select:!0}),a.removeEventListener(sx,u),NP.remove(f)},0)}}},[a,c,u,f]);const m=w.useCallback(p=>{if(!r&&!n||f.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(v&&y){const b=p.currentTarget,[x,_]=LX(b);x&&_?!p.shiftKey&&y===_?(p.preventDefault(),r&&uo(x,{select:!0})):p.shiftKey&&y===x&&(p.preventDefault(),r&&uo(_,{select:!0})):y===b&&p.preventDefault()}},[r,n,f.paused]);return g.jsx(Ce.div,{tabIndex:-1,...o,ref:h,onKeyDown:m})});nO.displayName=DX;function IX(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(uo(n,{select:e}),document.activeElement!==r)return}function LX(t){const e=dF(t),r=AP(e,t),n=AP(e.reverse(),t);return[r,n]}function dF(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function AP(t,e){for(const r of t)if(!FX(r,{upTo:e}))return r}function FX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function BX(t){return t instanceof HTMLInputElement&&"select"in t}function uo(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&BX(t)&&e&&t.select()}}var NP=zX();function zX(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=RP(t,e),t.unshift(e)},remove(e){var r;t=RP(t,e),(r=t[0])==null||r.resume()}}}function RP(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function UX(t){return t.filter(e=>e.tagName!=="A")}var ox=0;function hF(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??MP()),document.body.insertAdjacentElement("beforeend",t[1]??MP()),ox++,()=>{ox===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ox--}},[])}function MP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var em="right-scroll-bar-position",tm="width-before-scroll-bar",WX="with-scroll-bars-hidden",VX="--removed-body-scroll-bar-size";function ax(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function HX(t,e){var r=w.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var GX=typeof window<"u"?w.useLayoutEffect:w.useEffect,$P=new WeakMap;function KX(t,e){var r=HX(null,function(n){return t.forEach(function(i){return ax(i,n)})});return GX(function(){var n=$P.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(a){s.has(a)||ax(a,null)}),s.forEach(function(a){i.has(a)||ax(a,o)})}$P.set(r,t)},[t]),r}function qX(t){return t}function YX(t,e){e===void 0&&(e=qX);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(a){return s(a)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(s),o=r}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),r}}}};return i}function XX(t){t===void 0&&(t={});var e=YX(null);return e.options=kn({async:!0,ssr:!1},t),e}var fF=function(t){var e=t.sideCar,r=ta(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,kn({},r))};fF.isSideCarExport=!0;function ZX(t,e){return t.useMedium(e),fF}var pF=XX(),lx=function(){},qy=w.forwardRef(function(t,e){var r=w.useRef(null),n=w.useState({onScrollCapture:lx,onWheelCapture:lx,onTouchMoveCapture:lx}),i=n[0],s=n[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,f=t.noRelative,m=t.noIsolation,p=t.inert,v=t.allowPinchZoom,y=t.as,b=y===void 0?"div":y,x=t.gapMode,_=ta(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,C=KX([r,e]),O=kn(kn({},_),i);return w.createElement(w.Fragment,null,u&&w.createElement(S,{sideCar:pF,removeScrollBar:c,shards:d,noRelative:f,noIsolation:m,inert:p,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:x}),o?w.cloneElement(w.Children.only(a),kn(kn({},O),{ref:C})):w.createElement(b,kn({},O,{className:l,ref:C}),a))});qy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qy.classNames={fullWidth:tm,zeroRight:em};var JX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QX(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=JX();return e&&t.setAttribute("nonce",e),t}function eZ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function tZ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var rZ=function(){var t=0,e=null;return{add:function(r){t==0&&(e=QX())&&(eZ(e,r),tZ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},nZ=function(){var t=rZ();return function(e,r){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},gF=function(){var t=nZ(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},iZ={left:0,top:0,right:0,gap:0},cx=function(t){return parseInt(t||"",10)||0},sZ=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[cx(r),cx(n),cx(i)]},oZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return iZ;var e=sZ(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},aZ=gF(),Pc="data-scroll-locked",lZ=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(WX,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Pc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(em,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(tm,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(em," .").concat(em,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(tm," .").concat(tm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Pc,`] {
    `).concat(VX,": ").concat(a,`px;
  }
`)},DP=function(){var t=parseInt(document.body.getAttribute(Pc)||"0",10);return isFinite(t)?t:0},cZ=function(){w.useEffect(function(){return document.body.setAttribute(Pc,(DP()+1).toString()),function(){var t=DP()-1;t<=0?document.body.removeAttribute(Pc):document.body.setAttribute(Pc,t.toString())}},[])},uZ=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;cZ();var s=w.useMemo(function(){return oZ(i)},[i]);return w.createElement(aZ,{styles:lZ(s,!e,i,r?"":"!important")})},E_=!1;if(typeof window<"u")try{var qp=Object.defineProperty({},"passive",{get:function(){return E_=!0,!0}});window.addEventListener("test",qp,qp),window.removeEventListener("test",qp,qp)}catch{E_=!1}var zl=E_?{passive:!1}:!1,dZ=function(t){return t.tagName==="TEXTAREA"},mF=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!dZ(t)&&r[e]==="visible")},hZ=function(t){return mF(t,"overflowY")},fZ=function(t){return mF(t,"overflowX")},IP=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=vF(t,n);if(i){var s=yF(t,n),o=s[1],a=s[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},pZ=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},gZ=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},vF=function(t,e){return t==="v"?hZ(e):fZ(e)},yF=function(t,e){return t==="v"?pZ(e):gZ(e)},mZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},vZ=function(t,e,r,n,i){var s=mZ(t,window.getComputedStyle(e).direction),o=s*n,a=r.target,l=e.contains(a),c=!1,u=o>0,d=0,h=0;do{if(!a)break;var f=yF(t,a),m=f[0],p=f[1],v=f[2],y=p-v-s*m;(m||y)&&vF(t,a)&&(d+=y,h+=m);var b=a.parentNode;a=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(h)<1)&&(c=!0),c},Yp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},LP=function(t){return[t.deltaX,t.deltaY]},FP=function(t){return t&&"current"in t?t.current:t},yZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},xZ=0,Ul=[];function wZ(t){var e=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),i=w.useState(xZ++)[0],s=w.useState(gF)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var p=qC([t.lockRef.current],(t.shards||[]).map(FP),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=Yp(p),b=r.current,x="deltaX"in p?p.deltaX:b[0]-y[0],_="deltaY"in p?p.deltaY:b[1]-y[1],S,C=p.target,O=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in p&&O==="h"&&C.type==="range")return!1;var T=IP(O,C);if(!T)return!0;if(T?S=O:(S=O==="v"?"h":"v",T=IP(O,C)),!T)return!1;if(!n.current&&"changedTouches"in p&&(x||_)&&(n.current=S),!S)return!0;var E=n.current||S;return vZ(E,v,p,E==="h"?x:_)},[]),l=w.useCallback(function(p){var v=p;if(!(!Ul.length||Ul[Ul.length-1]!==s)){var y="deltaY"in v?LP(v):Yp(v),b=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&yZ(S.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(FP).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=x.length>0?a(v,x[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),c=w.useCallback(function(p,v,y,b){var x={name:p,delta:v,target:y,should:b,shadowParent:_Z(y)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(_){return _!==x})},1)},[]),u=w.useCallback(function(p){r.current=Yp(p),n.current=void 0},[]),d=w.useCallback(function(p){c(p.type,LP(p),p.target,a(p,t.lockRef.current))},[]),h=w.useCallback(function(p){c(p.type,Yp(p),p.target,a(p,t.lockRef.current))},[]);w.useEffect(function(){return Ul.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,zl),document.addEventListener("touchmove",l,zl),document.addEventListener("touchstart",u,zl),function(){Ul=Ul.filter(function(p){return p!==s}),document.removeEventListener("wheel",l,zl),document.removeEventListener("touchmove",l,zl),document.removeEventListener("touchstart",u,zl)}},[]);var f=t.removeScrollBar,m=t.inert;return w.createElement(w.Fragment,null,m?w.createElement(s,{styles:bZ(i)}):null,f?w.createElement(uZ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function _Z(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const SZ=ZX(pF,wZ);var iO=w.forwardRef(function(t,e){return w.createElement(qy,kn({},t,{ref:e,sideCar:SZ}))});iO.classNames=qy.classNames;var CZ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wl=new WeakMap,Xp=new WeakMap,Zp={},ux=0,bF=function(t){return t&&(t.host||bF(t.parentNode))},OZ=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=bF(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},TZ=function(t,e,r,n){var i=OZ(e,Array.isArray(t)?t:[t]);Zp[r]||(Zp[r]=new WeakMap);var s=Zp[r],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var f=h.getAttribute(n),m=f!==null&&f!=="false",p=(Wl.get(h)||0)+1,v=(s.get(h)||0)+1;Wl.set(h,p),s.set(h,v),o.push(h),p===1&&m&&Xp.set(h,!0),v===1&&h.setAttribute(r,"true"),m||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return u(e),a.clear(),ux++,function(){o.forEach(function(d){var h=Wl.get(d)-1,f=s.get(d)-1;Wl.set(d,h),s.set(d,f),h||(Xp.has(d)||d.removeAttribute(n),Xp.delete(d)),f||d.removeAttribute(r)}),ux--,ux||(Wl=new WeakMap,Wl=new WeakMap,Xp=new WeakMap,Zp={})}},xF=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=CZ(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),TZ(n,i,r,"aria-hidden")):function(){return null}};function EZ(t){const e=kZ(t),r=w.forwardRef((n,i)=>{const{children:s,...o}=n,a=w.Children.toArray(s),l=a.find(jZ);if(l){const c=l.props.children,u=a.map(d=>d===l?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:d);return g.jsx(e,{...o,ref:i,children:w.isValidElement(c)?w.cloneElement(c,void 0,u):null})}return g.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function kZ(t){const e=w.forwardRef((r,n)=>{const{children:i,...s}=r;if(w.isValidElement(i)){const o=NZ(i),a=AZ(s,i.props);return i.type!==w.Fragment&&(a.ref=n?Lu(n,o):o),w.cloneElement(i,a)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var PZ=Symbol("radix.slottable");function jZ(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===PZ}function AZ(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function NZ(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Yy="Dialog",[wF]=ns(Yy),[RZ,ji]=wF(Yy),_F=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=w.useRef(null),l=w.useRef(null),[c,u]=ll({prop:n,defaultProp:i??!1,onChange:s,caller:Yy});return g.jsx(RZ,{scope:e,triggerRef:a,contentRef:l,contentId:Bo(),titleId:Bo(),descriptionId:Bo(),open:c,onOpenChange:u,onOpenToggle:w.useCallback(()=>u(d=>!d),[u]),modal:o,children:r})};_F.displayName=Yy;var SF="DialogTrigger",CF=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ji(SF,r),s=Le(e,i.triggerRef);return g.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":aO(i.open),...n,ref:s,onClick:he(t.onClick,i.onOpenToggle)})});CF.displayName=SF;var sO="DialogPortal",[MZ,OF]=wF(sO,{forceMount:void 0}),TF=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=ji(sO,e);return g.jsx(MZ,{scope:e,forceMount:r,children:w.Children.map(n,o=>g.jsx(Pi,{present:r||s.open,children:g.jsx(Ay,{asChild:!0,container:i,children:o})}))})};TF.displayName=sO;var Hm="DialogOverlay",EF=w.forwardRef((t,e)=>{const r=OF(Hm,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=ji(Hm,t.__scopeDialog);return s.modal?g.jsx(Pi,{present:n||s.open,children:g.jsx(DZ,{...i,ref:e})}):null});EF.displayName=Hm;var $Z=EZ("DialogOverlay.RemoveScroll"),DZ=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ji(Hm,r);return g.jsx(iO,{as:$Z,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(Ce.div,{"data-state":aO(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),ul="DialogContent",kF=w.forwardRef((t,e)=>{const r=OF(ul,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=ji(ul,t.__scopeDialog);return g.jsx(Pi,{present:n||s.open,children:s.modal?g.jsx(IZ,{...i,ref:e}):g.jsx(LZ,{...i,ref:e})})});kF.displayName=ul;var IZ=w.forwardRef((t,e)=>{const r=ji(ul,t.__scopeDialog),n=w.useRef(null),i=Le(e,r.contentRef,n);return w.useEffect(()=>{const s=n.current;if(s)return xF(s)},[]),g.jsx(PF,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:he(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:he(t.onFocusOutside,s=>s.preventDefault())})}),LZ=w.forwardRef((t,e)=>{const r=ji(ul,t.__scopeDialog),n=w.useRef(!1),i=w.useRef(!1);return g.jsx(PF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),PF=w.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=ji(ul,r),l=w.useRef(null),c=Le(e,l);return hF(),g.jsxs(g.Fragment,{children:[g.jsx(nO,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:g.jsx(Vf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":aO(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(FZ,{titleId:a.titleId}),g.jsx(zZ,{contentRef:l,descriptionId:a.descriptionId})]})]})}),oO="DialogTitle",jF=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ji(oO,r);return g.jsx(Ce.h2,{id:i.titleId,...n,ref:e})});jF.displayName=oO;var AF="DialogDescription",NF=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ji(AF,r);return g.jsx(Ce.p,{id:i.descriptionId,...n,ref:e})});NF.displayName=AF;var RF="DialogClose",MF=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=ji(RF,r);return g.jsx(Ce.button,{type:"button",...n,ref:e,onClick:he(t.onClick,()=>i.onOpenChange(!1))})});MF.displayName=RF;function aO(t){return t?"open":"closed"}var $F="DialogTitleWarning",[kje,DF]=w6($F,{contentName:ul,titleName:oO,docsSlug:"dialog"}),FZ=({titleId:t})=>{const e=DF($F),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},BZ="DialogDescriptionWarning",zZ=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${DF(BZ).contentName}}.`;return w.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},IF=_F,LF=CF,FF=TF,Xy=EF,Zy=kF,Jy=jF,Qy=NF,BF=MF;const UZ=IF,WZ=LF,VZ=FF,zF=w.forwardRef(({className:t,...e},r)=>g.jsx(Xy,{className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));zF.displayName=Xy.displayName;const HZ=Gf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),UF=w.forwardRef(({side:t="right",className:e,children:r,...n},i)=>g.jsxs(VZ,{children:[g.jsx(zF,{}),g.jsxs(Zy,{ref:i,className:ae(HZ({side:t}),e),...n,children:[r,g.jsxs(BF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[g.jsx(NC,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));UF.displayName=Zy.displayName;const GZ=w.forwardRef(({className:t,...e},r)=>g.jsx(Jy,{ref:r,className:ae("text-lg font-semibold text-foreground",t),...e}));GZ.displayName=Jy.displayName;const KZ=w.forwardRef(({className:t,...e},r)=>g.jsx(Qy,{ref:r,className:ae("text-sm text-muted-foreground",t),...e}));KZ.displayName=Qy.displayName;function qZ(){const{theme:t,setTheme:e}=TX();return g.jsxs(fe,{variant:"outline",size:"icon",onClick:()=>e(t==="light"?"dark":"light"),className:"rounded-full",children:[g.jsx(jH,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),g.jsx(EH,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),g.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const YZ="/biiimandari/assets/mandarin-zero-logo-INiwxpse.png",XZ=()=>{const t=yn(),e=Zf(),[r,n]=w.useState(!1),[i,s]=w.useState(0),[o,a]=w.useState(0),[l,c]=w.useState(!1);w.useEffect(()=>{u()},[]);const u=async()=>{const{data:{user:v}}=await be.auth.getUser();c(!!v),v&&(d(),h())},d=async()=>{const{data:{user:v}}=await be.auth.getUser();if(!v)return;const{data:y}=await be.from("user_streaks").select("current_streak").eq("user_id",v.id).single();y&&s(y.current_streak)},h=async()=>{const{data:{user:v}}=await be.auth.getUser();if(!v)return;const{data:y}=await be.from("user_points").select("total_points").eq("user_id",v.id).single();y&&a(y.total_points)},f=async()=>{await be.auth.signOut(),ge.success("Berhasil logout!"),c(!1),t("/auth")},m=[{path:"/",label:"Dashboard",icon:Jc},{path:"/vocabulary",label:"Kosakata",icon:AC},{path:"/flashcards",label:"Flashcard",icon:Jw},{path:"/quiz",label:"Quiz",icon:Qw},{path:"/hanzi-practice",label:"Tulis Hanzi",icon:My},{path:"/grammar-checker",label:"Cek Grammar",icon:_i},{path:"/sentence-builder",label:"Rangkai Kalimat",icon:XD},{path:"/statistics",label:"Statistik",icon:KD},{path:"/achievements",label:"Achievements",icon:jC},{path:"/leaderboard",label:"Leaderboard",icon:_k}],p=v=>{t(v),n(!1)};return g.jsx("nav",{className:"sticky top-0 z-50 bg-card border-b shadow-soft",children:g.jsx("div",{className:"container mx-auto px-4",children:g.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[g.jsxs("div",{onClick:()=>p("/"),className:"cursor-pointer group flex items-center gap-2",children:[g.jsx("img",{src:YZ,alt:"Mandarin Zero",className:"h-10 w-10 md:h-12 md:w-12 transition-all duration-300 group-hover:scale-110 group-hover:rotate-6"}),g.jsx("span",{className:"text-lg md:text-xl font-bold text-foreground hidden sm:inline transition-colors duration-300 group-hover:text-primary",children:"Mandarin Zero"})]}),g.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[l&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"hidden md:flex items-center gap-4 mr-2",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsx("span",{className:"text-2xl",children:""}),g.jsx("span",{className:"font-semibold text-foreground",children:i})]}),g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsx("span",{className:"text-2xl",children:""}),g.jsx("span",{className:"font-semibold text-foreground",children:o})]})]}),g.jsxs(fe,{onClick:()=>p("/leaderboard"),variant:"ghost",size:"sm",className:"hidden lg:flex",children:[g.jsx(_k,{className:"mr-2 h-4 w-4"}),"Leaderboard"]}),g.jsxs(fe,{onClick:()=>p("/vocabulary"),variant:"default",size:"sm",className:"hidden lg:flex",children:[g.jsx(e_,{className:"mr-2 h-4 w-4"}),"Tambah"]}),g.jsxs(fe,{onClick:f,variant:"outline",size:"sm",className:"hidden lg:flex",children:[g.jsx(xk,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),g.jsx(qZ,{}),g.jsxs(UZ,{open:r,onOpenChange:n,children:[g.jsx(WZ,{asChild:!0,children:g.jsx(fe,{variant:"ghost",size:"icon",children:g.jsx(TH,{className:"h-5 w-5"})})}),g.jsxs(UF,{side:"right",className:"w-[280px]",children:[l&&g.jsx("div",{className:"mb-6 pb-4 border-b",children:g.jsxs("div",{className:"flex items-center justify-around",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-2xl",children:""}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-xs text-muted-foreground",children:"Streak"}),g.jsxs("span",{className:"font-bold text-foreground",children:[i," hari"]})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-2xl",children:""}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-xs text-muted-foreground",children:"Poin"}),g.jsx("span",{className:"font-bold text-foreground",children:o})]})]})]})}),g.jsxs("div",{className:"flex flex-col gap-2 mt-8",children:[m.map(v=>{const y=v.icon,b=e.pathname===v.path;return g.jsxs(fe,{variant:b?"default":"ghost",className:"justify-start gap-3 w-full",onClick:()=>p(v.path),children:[g.jsx(y,{className:"h-5 w-5"}),g.jsx("span",{children:v.label})]},v.path)}),l&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"my-2 border-t"}),g.jsxs(fe,{variant:"ghost",className:"justify-start gap-3 w-full lg:hidden",onClick:()=>{p("/vocabulary"),n(!1)},children:[g.jsx(e_,{className:"h-5 w-5"}),g.jsx("span",{children:"Tambah Kosakata"})]}),g.jsxs(fe,{variant:"outline",className:"justify-start gap-3 w-full",onClick:()=>{f(),n(!1)},children:[g.jsx(xk,{className:"h-5 w-5"}),g.jsx("span",{children:"Logout"})]})]})]})]})]})]})]})})})},xs=w.forwardRef(({className:t,type:e,...r},n)=>g.jsx("input",{type:e,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));xs.displayName="Input";var ZZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],JZ=ZZ.reduce((t,e)=>{const r=Ky(`Primitive.${e}`),n=w.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),QZ="Label",WF=w.forwardRef((t,e)=>g.jsx(JZ.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));WF.displayName=QZ;var VF=WF;const eJ=Gf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ht=w.forwardRef(({className:t,...e},r)=>g.jsx(VF,{ref:r,className:ae(eJ(),t),...e}));Ht.displayName=VF.displayName;const qe=w.forwardRef(({className:t,...e},r)=>g.jsx("div",{ref:r,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));qe.displayName="Card";const tr=w.forwardRef(({className:t,...e},r)=>g.jsx("div",{ref:r,className:ae("flex flex-col space-y-1.5 p-6",t),...e}));tr.displayName="CardHeader";const rr=w.forwardRef(({className:t,...e},r)=>g.jsx("h3",{ref:r,className:ae("text-2xl font-semibold leading-none tracking-tight",t),...e}));rr.displayName="CardTitle";const HF=w.forwardRef(({className:t,...e},r)=>g.jsx("p",{ref:r,className:ae("text-sm text-muted-foreground",t),...e}));HF.displayName="CardDescription";const nt=w.forwardRef(({className:t,...e},r)=>g.jsx("div",{ref:r,className:ae("p-6 pt-0",t),...e}));nt.displayName="CardContent";const tJ=w.forwardRef(({className:t,...e},r)=>g.jsx("div",{ref:r,className:ae("flex items-center p-6 pt-0",t),...e}));tJ.displayName="CardFooter";var rJ=w.createContext(void 0);function e0(t){const e=w.useContext(rJ);return t||e||"ltr"}var dx="rovingFocusGroup.onEntryFocus",nJ={bubbles:!1,cancelable:!0},Qf="RovingFocusGroup",[k_,GF,iJ]=TC(Qf),[sJ,KF]=ns(Qf,[iJ]),[oJ,aJ]=sJ(Qf),qF=w.forwardRef((t,e)=>g.jsx(k_.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(k_.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(lJ,{...t,ref:e})})}));qF.displayName=Qf;var lJ=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,h=w.useRef(null),f=Le(e,h),m=e0(s),[p,v]=ll({prop:o,defaultProp:a??null,onChange:l,caller:Qf}),[y,b]=w.useState(!1),x=Lt(c),_=GF(r),S=w.useRef(!1),[C,O]=w.useState(0);return w.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(dx,x),()=>T.removeEventListener(dx,x)},[x]),g.jsx(oJ,{scope:r,orientation:n,dir:m,loop:i,currentTabStopId:p,onItemFocus:w.useCallback(T=>v(T),[v]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(T=>T+1),[]),onFocusableItemRemove:w.useCallback(()=>O(T=>T-1),[]),children:g.jsx(Ce.div,{tabIndex:y||C===0?-1:0,"data-orientation":n,...d,ref:f,style:{outline:"none",...t.style},onMouseDown:he(t.onMouseDown,()=>{S.current=!0}),onFocus:he(t.onFocus,T=>{const E=!S.current;if(T.target===T.currentTarget&&E&&!y){const j=new CustomEvent(dx,nJ);if(T.currentTarget.dispatchEvent(j),!j.defaultPrevented){const P=_().filter($=>$.focusable),A=P.find($=>$.active),I=P.find($=>$.id===p),L=[A,I,...P].filter(Boolean).map($=>$.ref.current);ZF(L,u)}}S.current=!1}),onBlur:he(t.onBlur,()=>b(!1))})})}),YF="RovingFocusGroupItem",XF=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=Bo(),c=s||l,u=aJ(YF,r),d=u.currentTabStopId===c,h=GF(r),{onFocusableItemAdd:f,onFocusableItemRemove:m,currentTabStopId:p}=u;return w.useEffect(()=>{if(n)return f(),()=>m()},[n,f,m]),g.jsx(k_.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:g.jsx(Ce.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:he(t.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:he(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:he(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=dJ(v,u.orientation,u.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const _=x.indexOf(v.currentTarget);x=u.loop?hJ(x,_+1):x.slice(_+1)}setTimeout(()=>ZF(x))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:p!=null}):o})})});XF.displayName=YF;var cJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uJ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function dJ(t,e,r){const n=uJ(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return cJ[n]}function ZF(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function hJ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var fJ=qF,pJ=XF,t0="Tabs",[gJ]=ns(t0,[KF]),JF=KF(),[mJ,lO]=gJ(t0),QF=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=e0(a),[d,h]=ll({prop:n,onChange:i,defaultProp:s??"",caller:t0});return g.jsx(mJ,{scope:r,baseId:Bo(),value:d,onValueChange:h,orientation:o,dir:u,activationMode:l,children:g.jsx(Ce.div,{dir:u,"data-orientation":o,...c,ref:e})})});QF.displayName=t0;var eB="TabsList",tB=w.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=lO(eB,r),o=JF(r);return g.jsx(fJ,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:g.jsx(Ce.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});tB.displayName=eB;var rB="TabsTrigger",nB=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=lO(rB,r),a=JF(r),l=oB(o.baseId,n),c=aB(o.baseId,n),u=n===o.value;return g.jsx(pJ,{asChild:!0,...a,focusable:!i,active:u,children:g.jsx(Ce.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:he(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:he(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:he(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(n)})})})});nB.displayName=rB;var iB="TabsContent",sB=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,a=lO(iB,r),l=oB(a.baseId,n),c=aB(a.baseId,n),u=n===a.value,d=w.useRef(u);return w.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),g.jsx(Pi,{present:i||u,children:({present:h})=>g.jsx(Ce.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&s})})});sB.displayName=iB;function oB(t,e){return`${t}-trigger-${e}`}function aB(t,e){return`${t}-content-${e}`}var vJ=QF,lB=tB,cB=nB,uB=sB;const yJ=vJ,dB=w.forwardRef(({className:t,...e},r)=>g.jsx(lB,{ref:r,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));dB.displayName=lB.displayName;const P_=w.forwardRef(({className:t,...e},r)=>g.jsx(cB,{ref:r,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));P_.displayName=cB.displayName;const j_=w.forwardRef(({className:t,...e},r)=>g.jsx(uB,{ref:r,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));j_.displayName=uB.displayName;var We;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(We||(We={}));var BP;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(BP||(BP={}));const le=We.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),po=t=>{switch(typeof t){case"undefined":return le.undefined;case"string":return le.string;case"number":return Number.isNaN(t)?le.nan:le.number;case"boolean":return le.boolean;case"function":return le.function;case"bigint":return le.bigint;case"symbol":return le.symbol;case"object":return Array.isArray(t)?le.array:t===null?le.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?le.promise:typeof Map<"u"&&t instanceof Map?le.map:typeof Set<"u"&&t instanceof Set?le.set:typeof Date<"u"&&t instanceof Date?le.date:le.object;default:return le.unknown}},Z=We.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ki extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),n}static assert(e){if(!(e instanceof ki))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,We.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ki.create=t=>new ki(t);const A_=(t,e)=>{let r;switch(t.code){case Z.invalid_type:t.received===le.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Z.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,We.jsonStringifyReplacer)}`;break;case Z.unrecognized_keys:r=`Unrecognized key(s) in object: ${We.joinValues(t.keys,", ")}`;break;case Z.invalid_union:r="Invalid input";break;case Z.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${We.joinValues(t.options)}`;break;case Z.invalid_enum_value:r=`Invalid enum value. Expected ${We.joinValues(t.options)}, received '${t.received}'`;break;case Z.invalid_arguments:r="Invalid function arguments";break;case Z.invalid_return_type:r="Invalid function return type";break;case Z.invalid_date:r="Invalid date";break;case Z.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:We.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Z.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Z.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Z.custom:r="Invalid input";break;case Z.invalid_intersection_types:r="Intersection results could not be merged";break;case Z.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Z.not_finite:r="Number must be finite";break;default:r=e.defaultError,We.assertNever(t)}return{message:r}};let bJ=A_;function xJ(){return bJ}const wJ=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}};function ne(t,e){const r=xJ(),n=wJ({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===A_?void 0:A_].filter(i=>!!i)});t.common.issues.push(n)}class gn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Te;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return gn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Te;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const Te=Object.freeze({status:"aborted"}),Bd=t=>({status:"dirty",value:t}),zn=t=>({status:"valid",value:t}),zP=t=>t.status==="aborted",UP=t=>t.status==="dirty",ru=t=>t.status==="valid",Gm=t=>typeof Promise<"u"&&t instanceof Promise;var ce;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ce||(ce={}));class qo{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const WP=(t,e)=>{if(ru(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ki(t.common.issues);return this._error=r,this._error}}};function Me(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??n??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??r??a.defaultError}},description:i}}class ze{get description(){return this._def.description}_getType(e){return po(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:po(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gn,ctx:{common:e.parent.common,data:e.data,parsedType:po(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Gm(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:po(e)},i=this._parseSync({data:e,path:n.path,parent:n});return WP(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:po(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:r});return ru(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(i=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>ru(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:po(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Gm(i)?i:Promise.resolve(i));return WP(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Z.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new iu({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return zo.create(this,this._def)}nullable(){return su.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yi.create(this)}promise(){return Xm.create(this,this._def)}or(e){return qm.create([this,e],this._def)}and(e){return Ym.create(this,e,this._def)}transform(e){return new iu({...Me(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new R_({...Me(this._def),innerType:this,defaultValue:r,typeName:Ee.ZodDefault})}brand(){return new VJ({typeName:Ee.ZodBranded,type:this,...Me(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new M_({...Me(this._def),innerType:this,catchValue:r,typeName:Ee.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return cO.create(this,e)}readonly(){return $_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _J=/^c[^\s-]{8,}$/i,SJ=/^[0-9a-z]+$/,CJ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,OJ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TJ=/^[a-z0-9_-]{21}$/i,EJ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kJ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,PJ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jJ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let hx;const AJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,NJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,RJ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,MJ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$J=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,DJ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",IJ=new RegExp(`^${hB}$`);function fB(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function LJ(t){return new RegExp(`^${fB(t)}$`)}function FJ(t){let e=`${hB}T${fB(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function BJ(t,e){return!!((e==="v4"||!e)&&AJ.test(t)||(e==="v6"||!e)&&RJ.test(t))}function zJ(t,e){if(!EJ.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function UJ(t,e){return!!((e==="v4"||!e)&&NJ.test(t)||(e==="v6"||!e)&&MJ.test(t))}class jo extends ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==le.string){const s=this._getOrReturnCtx(e);return ne(s,{code:Z.invalid_type,expected:le.string,received:s.parsedType}),Te}const n=new gn;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:Z.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:Z.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?ne(i,{code:Z.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&ne(i,{code:Z.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")PJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"email",code:Z.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")hx||(hx=new RegExp(jJ,"u")),hx.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"emoji",code:Z.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")OJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"uuid",code:Z.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")TJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"nanoid",code:Z.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")_J.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"cuid",code:Z.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")SJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"cuid2",code:Z.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")CJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"ulid",code:Z.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ne(i,{validation:"url",code:Z.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"regex",code:Z.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Z.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Z.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Z.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?FJ(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Z.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?IJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Z.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?LJ(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{code:Z.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?kJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"duration",code:Z.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?BJ(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"ip",code:Z.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?zJ(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"jwt",code:Z.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?UJ(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"cidr",code:Z.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?$J.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"base64",code:Z.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?DJ.test(e.data)||(i=this._getOrReturnCtx(e,i),ne(i,{validation:"base64url",code:Z.invalid_string,message:s.message}),n.dirty()):We.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Z.invalid_string,...ce.errToObj(n)})}_addCheck(e){return new jo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ce.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ce.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ce.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ce.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ce.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ce.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ce.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ce.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ce.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ce.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ce.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ce.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ce.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ce.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ce.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ce.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ce.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ce.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ce.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ce.errToObj(r)})}nonempty(e){return this.min(1,ce.errToObj(e))}trim(){return new jo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new jo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new jo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}jo.create=t=>new jo({checks:[],typeName:Ee.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Me(t)});function WJ(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class Hh extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==le.number){const s=this._getOrReturnCtx(e);return ne(s,{code:Z.invalid_type,expected:le.number,received:s.parsedType}),Te}let n;const i=new gn;for(const s of this._def.checks)s.kind==="int"?We.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{code:Z.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Z.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Z.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?WJ(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Z.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ne(n,{code:Z.not_finite,message:s.message}),i.dirty()):We.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ce.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ce.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ce.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ce.toString(r))}setLimit(e,r,n,i){return new Hh({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ce.toString(i)}]})}_addCheck(e){return new Hh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ce.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&We.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Hh.create=t=>new Hh({checks:[],typeName:Ee.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Me(t)});class Gh extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==le.bigint)return this._getInvalidInput(e);let n;const i=new gn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Z.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Z.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ne(n,{code:Z.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):We.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return ne(r,{code:Z.invalid_type,expected:le.bigint,received:r.parsedType}),Te}gte(e,r){return this.setLimit("min",e,!0,ce.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ce.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ce.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ce.toString(r))}setLimit(e,r,n,i){return new Gh({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ce.toString(i)}]})}_addCheck(e){return new Gh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Gh.create=t=>new Gh({checks:[],typeName:Ee.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Me(t)});class VP extends ze{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==le.boolean){const n=this._getOrReturnCtx(e);return ne(n,{code:Z.invalid_type,expected:le.boolean,received:n.parsedType}),Te}return zn(e.data)}}VP.create=t=>new VP({typeName:Ee.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Me(t)});class Km extends ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==le.date){const s=this._getOrReturnCtx(e);return ne(s,{code:Z.invalid_type,expected:le.date,received:s.parsedType}),Te}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ne(s,{code:Z.invalid_date}),Te}const n=new gn;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:Z.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ne(i,{code:Z.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):We.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Km({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ce.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ce.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Km.create=t=>new Km({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ee.ZodDate,...Me(t)});class HP extends ze{_parse(e){if(this._getType(e)!==le.symbol){const n=this._getOrReturnCtx(e);return ne(n,{code:Z.invalid_type,expected:le.symbol,received:n.parsedType}),Te}return zn(e.data)}}HP.create=t=>new HP({typeName:Ee.ZodSymbol,...Me(t)});class GP extends ze{_parse(e){if(this._getType(e)!==le.undefined){const n=this._getOrReturnCtx(e);return ne(n,{code:Z.invalid_type,expected:le.undefined,received:n.parsedType}),Te}return zn(e.data)}}GP.create=t=>new GP({typeName:Ee.ZodUndefined,...Me(t)});class KP extends ze{_parse(e){if(this._getType(e)!==le.null){const n=this._getOrReturnCtx(e);return ne(n,{code:Z.invalid_type,expected:le.null,received:n.parsedType}),Te}return zn(e.data)}}KP.create=t=>new KP({typeName:Ee.ZodNull,...Me(t)});class qP extends ze{constructor(){super(...arguments),this._any=!0}_parse(e){return zn(e.data)}}qP.create=t=>new qP({typeName:Ee.ZodAny,...Me(t)});class YP extends ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return zn(e.data)}}YP.create=t=>new YP({typeName:Ee.ZodUnknown,...Me(t)});class Yo extends ze{_parse(e){const r=this._getOrReturnCtx(e);return ne(r,{code:Z.invalid_type,expected:le.never,received:r.parsedType}),Te}}Yo.create=t=>new Yo({typeName:Ee.ZodNever,...Me(t)});class XP extends ze{_parse(e){if(this._getType(e)!==le.undefined){const n=this._getOrReturnCtx(e);return ne(n,{code:Z.invalid_type,expected:le.void,received:n.parsedType}),Te}return zn(e.data)}}XP.create=t=>new XP({typeName:Ee.ZodVoid,...Me(t)});class Yi extends ze{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==le.array)return ne(r,{code:Z.invalid_type,expected:le.array,received:r.parsedType}),Te;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(ne(r,{code:o?Z.too_big:Z.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(ne(r,{code:Z.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(ne(r,{code:Z.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new qo(r,o,r.path,a)))).then(o=>gn.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new qo(r,o,r.path,a)));return gn.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Yi({...this._def,minLength:{value:e,message:ce.toString(r)}})}max(e,r){return new Yi({...this._def,maxLength:{value:e,message:ce.toString(r)}})}length(e,r){return new Yi({...this._def,exactLength:{value:e,message:ce.toString(r)}})}nonempty(e){return this.min(1,e)}}Yi.create=(t,e)=>new Yi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...Me(e)});function Jl(t){if(t instanceof $t){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=zo.create(Jl(n))}return new $t({...t._def,shape:()=>e})}else return t instanceof Yi?new Yi({...t._def,type:Jl(t.element)}):t instanceof zo?zo.create(Jl(t.unwrap())):t instanceof su?su.create(Jl(t.unwrap())):t instanceof dl?dl.create(t.items.map(e=>Jl(e))):t}class $t extends ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=We.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==le.object){const c=this._getOrReturnCtx(e);return ne(c,{code:Z.invalid_type,expected:le.object,received:c.parsedType}),Te}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Yo&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new qo(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Yo){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(ne(i,{code:Z.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new qo(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>gn.mergeObjectSync(n,c)):gn.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return ce.errToObj,new $t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ce.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new $t({...this._def,unknownKeys:"strip"})}passthrough(){return new $t({...this._def,unknownKeys:"passthrough"})}extend(e){return new $t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new $t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ee.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new $t({...this._def,catchall:e})}pick(e){const r={};for(const n of We.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new $t({...this._def,shape:()=>r})}omit(e){const r={};for(const n of We.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new $t({...this._def,shape:()=>r})}deepPartial(){return Jl(this)}partial(e){const r={};for(const n of We.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new $t({...this._def,shape:()=>r})}required(e){const r={};for(const n of We.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof zo;)s=s._def.innerType;r[n]=s}return new $t({...this._def,shape:()=>r})}keyof(){return pB(We.objectKeys(this.shape))}}$t.create=(t,e)=>new $t({shape:()=>t,unknownKeys:"strip",catchall:Yo.create(),typeName:Ee.ZodObject,...Me(e)});$t.strictCreate=(t,e)=>new $t({shape:()=>t,unknownKeys:"strict",catchall:Yo.create(),typeName:Ee.ZodObject,...Me(e)});$t.lazycreate=(t,e)=>new $t({shape:t,unknownKeys:"strip",catchall:Yo.create(),typeName:Ee.ZodObject,...Me(e)});class qm extends ze{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new ki(a.ctx.common.issues));return ne(r,{code:Z.invalid_union,unionErrors:o}),Te}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new ki(l));return ne(r,{code:Z.invalid_union,unionErrors:a}),Te}}get options(){return this._def.options}}qm.create=(t,e)=>new qm({options:t,typeName:Ee.ZodUnion,...Me(e)});function N_(t,e){const r=po(t),n=po(e);if(t===e)return{valid:!0,data:t};if(r===le.object&&n===le.object){const i=We.objectKeys(e),s=We.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=N_(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(r===le.array&&n===le.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=N_(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===le.date&&n===le.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ym extends ze{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(zP(s)||zP(o))return Te;const a=N_(s.value,o.value);return a.valid?((UP(s)||UP(o))&&r.dirty(),{status:r.value,value:a.data}):(ne(n,{code:Z.invalid_intersection_types}),Te)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ym.create=(t,e,r)=>new Ym({left:t,right:e,typeName:Ee.ZodIntersection,...Me(r)});class dl extends ze{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==le.array)return ne(n,{code:Z.invalid_type,expected:le.array,received:n.parsedType}),Te;if(n.data.length<this._def.items.length)return ne(n,{code:Z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Te;!this._def.rest&&n.data.length>this._def.items.length&&(ne(n,{code:Z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new qo(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>gn.mergeArray(r,o)):gn.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new dl({...this._def,rest:e})}}dl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new dl({items:t,typeName:Ee.ZodTuple,rest:null,...Me(e)})};class ZP extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==le.map)return ne(n,{code:Z.invalid_type,expected:le.map,received:n.parsedType}),Te;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,l],c)=>({key:i._parse(new qo(n,a,n.path,[c,"key"])),value:s._parse(new qo(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Te;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Te;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}}}}ZP.create=(t,e,r)=>new ZP({valueType:e,keyType:t,typeName:Ee.ZodMap,...Me(r)});class Kh extends ze{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==le.set)return ne(n,{code:Z.invalid_type,expected:le.set,received:n.parsedType}),Te;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(ne(n,{code:Z.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(ne(n,{code:Z.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Te;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>s._parse(new qo(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,r){return new Kh({...this._def,minSize:{value:e,message:ce.toString(r)}})}max(e,r){return new Kh({...this._def,maxSize:{value:e,message:ce.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Kh.create=(t,e)=>new Kh({valueType:t,minSize:null,maxSize:null,typeName:Ee.ZodSet,...Me(e)});class JP extends ze{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}JP.create=(t,e)=>new JP({getter:t,typeName:Ee.ZodLazy,...Me(e)});class QP extends ze{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return ne(r,{received:r.data,code:Z.invalid_literal,expected:this._def.value}),Te}return{status:"valid",value:e.data}}get value(){return this._def.value}}QP.create=(t,e)=>new QP({value:t,typeName:Ee.ZodLiteral,...Me(e)});function pB(t,e){return new nu({values:t,typeName:Ee.ZodEnum,...Me(e)})}class nu extends ze{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return ne(r,{expected:We.joinValues(n),received:r.parsedType,code:Z.invalid_type}),Te}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return ne(r,{received:r.data,code:Z.invalid_enum_value,options:n}),Te}return zn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return nu.create(e,{...this._def,...r})}exclude(e,r=this._def){return nu.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}nu.create=pB;class ej extends ze{_parse(e){const r=We.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==le.string&&n.parsedType!==le.number){const i=We.objectValues(r);return ne(n,{expected:We.joinValues(i),received:n.parsedType,code:Z.invalid_type}),Te}if(this._cache||(this._cache=new Set(We.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=We.objectValues(r);return ne(n,{received:n.data,code:Z.invalid_enum_value,options:i}),Te}return zn(e.data)}get enum(){return this._def.values}}ej.create=(t,e)=>new ej({values:t,typeName:Ee.ZodNativeEnum,...Me(e)});class Xm extends ze{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==le.promise&&r.common.async===!1)return ne(r,{code:Z.invalid_type,expected:le.promise,received:r.parsedType}),Te;const n=r.parsedType===le.promise?r.data:Promise.resolve(r.data);return zn(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Xm.create=(t,e)=>new Xm({type:t,typeName:Ee.ZodPromise,...Me(e)});class iu extends ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{ne(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return Te;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?Te:l.status==="dirty"||r.value==="dirty"?Bd(l.value):l});{if(r.value==="aborted")return Te;const a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?Te:a.status==="dirty"||r.value==="dirty"?Bd(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Te:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Te:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ru(o))return Te;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ru(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):Te);We.assertNever(i)}}iu.create=(t,e,r)=>new iu({schema:t,typeName:Ee.ZodEffects,effect:e,...Me(r)});iu.createWithPreprocess=(t,e,r)=>new iu({schema:e,effect:{type:"preprocess",transform:t},typeName:Ee.ZodEffects,...Me(r)});class zo extends ze{_parse(e){return this._getType(e)===le.undefined?zn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zo.create=(t,e)=>new zo({innerType:t,typeName:Ee.ZodOptional,...Me(e)});class su extends ze{_parse(e){return this._getType(e)===le.null?zn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}su.create=(t,e)=>new su({innerType:t,typeName:Ee.ZodNullable,...Me(e)});class R_ extends ze{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===le.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}R_.create=(t,e)=>new R_({innerType:t,typeName:Ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Me(e)});class M_ extends ze{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Gm(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ki(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ki(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}M_.create=(t,e)=>new M_({innerType:t,typeName:Ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Me(e)});class tj extends ze{_parse(e){if(this._getType(e)!==le.nan){const n=this._getOrReturnCtx(e);return ne(n,{code:Z.invalid_type,expected:le.nan,received:n.parsedType}),Te}return{status:"valid",value:e.data}}}tj.create=t=>new tj({typeName:Ee.ZodNaN,...Me(t)});class VJ extends ze{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class cO extends ze{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Te:s.status==="dirty"?(r.dirty(),Bd(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Te:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new cO({in:e,out:r,typeName:Ee.ZodPipeline})}}class $_ extends ze{_parse(e){const r=this._def.innerType._parse(e),n=i=>(ru(i)&&(i.value=Object.freeze(i.value)),i);return Gm(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}$_.create=(t,e)=>new $_({innerType:t,typeName:Ee.ZodReadonly,...Me(e)});var Ee;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));const fx=jo.create;Yo.create;Yi.create;const HJ=$t.create;qm.create;Ym.create;dl.create;nu.create;Xm.create;zo.create;su.create;const rj=HJ({email:fx().email("Email tidak valid"),password:fx().min(6,"Password minimal 6 karakter"),username:fx().min(3,"Username minimal 3 karakter").optional()}),GJ=()=>{const t=yn(),[e,r]=w.useState(!1),[n,i]=w.useState(""),[s,o]=w.useState(""),[a,l]=w.useState(""),c=async d=>{d.preventDefault(),r(!0);try{const h=rj.parse({email:n,password:s,username:a}),{error:f}=await be.auth.signUp({email:h.email,password:h.password,options:{data:{username:h.username},emailRedirectTo:`${window.location.origin}/`}});f?f.message.includes("already registered")?ge.error("Email sudah terdaftar. Silakan login."):ge.error(f.message):(ge.success("Akun berhasil dibuat! Silakan login."),i(""),o(""),l(""))}catch(h){h instanceof ki?ge.error(h.errors[0].message):ge.error("Terjadi kesalahan")}finally{r(!1)}},u=async d=>{d.preventDefault(),r(!0);try{const h=rj.omit({username:!0}).parse({email:n,password:s}),{error:f}=await be.auth.signInWithPassword({email:h.email,password:h.password});f?f.message.includes("Invalid login credentials")?ge.error("Email atau password salah"):ge.error(f.message):(ge.success("Berhasil login!"),t("/"))}catch(h){h instanceof ki?ge.error(h.errors[0].message):ge.error("Terjadi kesalahan")}finally{r(!1)}};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/20 via-background to-secondary/20 px-4",children:g.jsxs(qe,{className:"w-full max-w-md shadow-elegant",children:[g.jsxs(tr,{className:"text-center",children:[g.jsx(rr,{className:"text-3xl font-bold gradient-text",children:"Mandarin Tracker"}),g.jsx(HF,{children:"Mulai perjalanan belajar Mandarin Anda"})]}),g.jsx(nt,{children:g.jsxs(yJ,{defaultValue:"signin",className:"w-full",children:[g.jsxs(dB,{className:"grid w-full grid-cols-2",children:[g.jsx(P_,{value:"signin",children:"Login"}),g.jsx(P_,{value:"signup",children:"Daftar"})]}),g.jsx(j_,{value:"signin",children:g.jsxs("form",{onSubmit:u,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Ht,{htmlFor:"signin-email",children:"Email"}),g.jsx(xs,{id:"signin-email",type:"email",placeholder:"nama@email.com",value:n,onChange:d=>i(d.target.value),required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Ht,{htmlFor:"signin-password",children:"Password"}),g.jsx(xs,{id:"signin-password",type:"password",placeholder:"",value:s,onChange:d=>o(d.target.value),required:!0})]}),g.jsx(fe,{type:"submit",className:"w-full",disabled:e,children:e?"Loading...":"Login"})]})}),g.jsx(j_,{value:"signup",children:g.jsxs("form",{onSubmit:c,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Ht,{htmlFor:"signup-username",children:"Username"}),g.jsx(xs,{id:"signup-username",type:"text",placeholder:"username",value:a,onChange:d=>l(d.target.value),required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Ht,{htmlFor:"signup-email",children:"Email"}),g.jsx(xs,{id:"signup-email",type:"email",placeholder:"nama@email.com",value:n,onChange:d=>i(d.target.value),required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Ht,{htmlFor:"signup-password",children:"Password"}),g.jsx(xs,{id:"signup-password",type:"password",placeholder:"",value:s,onChange:d=>o(d.target.value),required:!0})]}),g.jsx(fe,{type:"submit",className:"w-full",disabled:e,children:e?"Loading...":"Daftar"})]})})]})})]})})},Jp=({title:t,value:e,icon:r,variant:n="default"})=>{const i={default:"bg-card",primary:"bg-gradient-primary text-primary-foreground",secondary:"bg-gradient-secondary text-secondary-foreground",accent:"bg-gradient-accent text-accent-foreground"};return g.jsxs(qe,{className:`${i[n]} shadow-soft hover:shadow-medium transition-smooth hover:scale-105 cursor-pointer`,children:[g.jsxs(tr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[g.jsx(rr,{className:"text-xs md:text-sm font-medium",children:t}),g.jsx(r,{className:"h-4 w-4 opacity-80"})]}),g.jsx(nt,{children:g.jsx("div",{className:"text-xl md:text-2xl font-bold",children:e})})]})};function KJ(t,e=[]){let r=[];function n(s,o){const a=w.createContext(o);a.displayName=s+"Context";const l=r.length;r=[...r,o];const c=d=>{var y;const{scope:h,children:f,...m}=d,p=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,v=w.useMemo(()=>m,Object.values(m));return g.jsx(p.Provider,{value:v,children:f})};c.displayName=s+"Provider";function u(d,h){var p;const f=((p=h==null?void 0:h[t])==null?void 0:p[l])||a,m=w.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=r.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[n,qJ(i,...e)]}function qJ(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var YJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gB=YJ.reduce((t,e)=>{const r=Ky(`Primitive.${e}`),n=w.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),uO="Progress",dO=100,[XJ]=KJ(uO),[ZJ,JJ]=XJ(uO),mB=w.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=QJ,...o}=t;(i||i===0)&&!nj(i)&&console.error(eQ(`${i}`,"Progress"));const a=nj(i)?i:dO;n!==null&&!ij(n,a)&&console.error(tQ(`${n}`,"Progress"));const l=ij(n,a)?n:null,c=Zm(l)?s(l,a):void 0;return g.jsx(ZJ,{scope:r,value:l,max:a,children:g.jsx(gB.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Zm(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":bB(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});mB.displayName=uO;var vB="ProgressIndicator",yB=w.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=JJ(vB,r);return g.jsx(gB.div,{"data-state":bB(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});yB.displayName=vB;function QJ(t,e){return`${Math.round(t/e*100)}%`}function bB(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Zm(t){return typeof t=="number"}function nj(t){return Zm(t)&&!isNaN(t)&&t>0}function ij(t,e){return Zm(t)&&!isNaN(t)&&t<=e&&t>=0}function eQ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${dO}\`.`}function tQ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${dO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xB=mB,rQ=yB;const r0=w.forwardRef(({className:t,value:e,...r},n)=>g.jsx(xB,{ref:n,className:ae("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:g.jsx(rQ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));r0.displayName=xB.displayName;const nQ=({label:t,current:e,total:r,variant:n="primary"})=>{const i=Math.round(e/r*100);return g.jsxs("div",{className:"space-y-2 animate-fade-in",children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"font-medium text-foreground",children:t}),g.jsxs("span",{className:"text-muted-foreground",children:[e,"/",r," (",i,"%)"]})]}),g.jsx(r0,{value:i,className:"h-2"})]})};function wB(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var n0="Switch",[iQ]=ns(n0),[sQ,oQ]=iQ(n0),_B=w.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[h,f]=w.useState(null),m=Le(e,x=>f(x)),p=w.useRef(!1),v=h?u||!!h.closest("form"):!0,[y,b]=ll({prop:i,defaultProp:s??!1,onChange:c,caller:n0});return g.jsxs(sQ,{scope:r,checked:y,disabled:a,children:[g.jsx(Ce.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":TB(y),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:m,onClick:he(t.onClick,x=>{b(_=>!_),v&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})}),v&&g.jsx(OB,{control:h,bubbles:!p.current,name:n,value:l,checked:y,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});_B.displayName=n0;var SB="SwitchThumb",CB=w.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=oQ(SB,r);return g.jsx(Ce.span,{"data-state":TB(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});CB.displayName=SB;var aQ="SwitchBubbleInput",OB=w.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const o=w.useRef(null),a=Le(o,s),l=wB(r),c=wI(e);return w.useEffect(()=>{const u=o.current;if(!u)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&f){const m=new Event("click",{bubbles:n});f.call(u,r),u.dispatchEvent(m)}},[l,r,n]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});OB.displayName=aQ;function TB(t){return t?"checked":"unchecked"}var EB=_B,lQ=CB;const Hu=w.forwardRef(({className:t,...e},r)=>g.jsx(EB,{className:ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:g.jsx(lQ,{className:ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Hu.displayName=EB.displayName;const cQ=()=>{const[t,e]=w.useState("default"),[r,n]=w.useState(!1);w.useEffect(()=>{if("Notification"in window){e(Notification.permission);const c=localStorage.getItem("notifications-enabled")==="true";n(c&&Notification.permission==="granted")}},[]);const i=async()=>{if(!("Notification"in window))return ge.error("Browser tidak mendukung notifikasi"),!1;try{const c=await Notification.requestPermission();return e(c),c==="granted"?(n(!0),localStorage.setItem("notifications-enabled","true"),ge.success("Notifikasi diaktifkan!"),o(),!0):(ge.error("Izin notifikasi ditolak"),!1)}catch{return ge.error("Gagal meminta izin notifikasi"),!1}},s=async()=>{r?(n(!1),localStorage.setItem("notifications-enabled","false"),ge.success("Notifikasi dinonaktifkan")):await i()},o=()=>{const c=localStorage.getItem("last-notification"),u=new Date;if(c){const f=new Date(c);if((u.getTime()-f.getTime())/(1e3*60*60)<24)return}const d=new Date(u);d.setDate(d.getDate()+1),d.setHours(9,0,0,0);const h=d.getTime()-u.getTime();setTimeout(()=>{a(),o()},h)},a=()=>{r&&t==="granted"&&(new Notification("Mandarin Learning Reminder ",{body:"Jangan lupa review kosa kata hari ini! !",icon:"/favicon.ico",badge:"/favicon.ico"}),localStorage.setItem("last-notification",new Date().toISOString()))},l=()=>{t==="granted"&&new Notification("Test Notification ",{body:"Notifikasi berhasil! Kamu akan menerima reminder setiap hari jam 9 pagi.",icon:"/favicon.ico"})};return w.useEffect(()=>{r&&t==="granted"&&o()},[r,t]),{permission:t,enabled:r,toggleNotifications:s,sendTestNotification:l}},uQ=()=>{const{enabled:t,toggleNotifications:e,sendTestNotification:r}=cQ();return g.jsxs("div",{className:"bg-card p-6 rounded-lg shadow-soft border space-y-4",children:[g.jsxs("h2",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:[g.jsx(xH,{className:"h-5 w-5"}),"Pengaturan Notifikasi"]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx(Ht,{htmlFor:"notifications",className:"text-base font-medium",children:"Reminder Harian"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Terima notifikasi reminder setiap hari jam 9 pagi"})]}),g.jsx(Hu,{id:"notifications",checked:t,onCheckedChange:e})]}),t&&g.jsx(fe,{onClick:r,variant:"outline",size:"sm",children:"Test Notifikasi"})]})},Ol=()=>{const[t,e]=w.useState([]),[r,n]=w.useState(!0),i=w.useRef(),s=w.useRef(!1),o=w.useCallback(async()=>{if(!s.current)try{s.current=!0;const{data:{user:d}}=await be.auth.getUser();if(!d)return;const{data:h,error:f}=await be.from("vocabulary").select(`
          *,
          progress:user_progress!user_progress_vocabulary_id_fkey(
            mastered,
            difficulty,
            last_reviewed,
            next_review,
            review_count,
            ease_factor
          )
        `).eq("user_id",d.id).order("created_at",{ascending:!1});if(f)throw f;const m=(h==null?void 0:h.map(p=>{var v;return{id:p.id,hanzi:p.hanzi,pinyin:p.pinyin,meaning:p.meaning,hsk_level:p.hsk_level,category:p.category,image_url:p.image_url,progress:((v=p.progress)==null?void 0:v[0])||void 0}}))||[];e(m)}catch(d){console.error("Fetch error:",d),ge.error("Gagal memuat data")}finally{n(!1),s.current=!1}},[]),a=w.useCallback(()=>{i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{o()},300)},[o]);return w.useEffect(()=>{o();const d=be.channel("vocabulary_changes").on("postgres_changes",{event:"*",schema:"public",table:"vocabulary"},()=>a()).on("postgres_changes",{event:"*",schema:"public",table:"user_progress"},()=>a()).subscribe();return()=>{i.current&&clearTimeout(i.current),be.removeChannel(d)}},[o,a]),{vocabulary:t,loading:r,addVocabulary:async d=>{try{n(!0);const{data:{user:h}}=await be.auth.getUser();if(!h)throw new Error("Not authenticated");const{error:f}=await be.from("vocabulary").insert({user_id:h.id,hanzi:d.hanzi,pinyin:d.pinyin,meaning:d.meaning,hsk_level:d.hsk_level,category:d.category,image_url:d.image_url});if(f)throw f;ge.success("Kata berhasil ditambahkan!"),await o()}catch(h){ge.error(h.message)}finally{n(!1)}},updateVocabulary:async(d,h)=>{try{n(!0);const{error:f}=await be.from("vocabulary").update({hanzi:h.hanzi,pinyin:h.pinyin,meaning:h.meaning,hsk_level:h.hsk_level,category:h.category,image_url:h.image_url}).eq("id",d);if(f)throw f;ge.success("Kata berhasil diperbarui!"),await o()}catch(f){ge.error(f.message)}finally{n(!1)}},deleteVocabulary:async d=>{try{n(!0);const{error:h}=await be.from("vocabulary").delete().eq("id",d);if(h)throw h;ge.success("Kata berhasil dihapus!"),await o()}catch(h){ge.error(h.message)}finally{n(!1)}},refreshVocabulary:o}},dQ=()=>{const t=yn(),{vocabulary:e,loading:r}=Ol(),[n,i]=w.useState(()=>{const u=localStorage.getItem("audioEnabled");return u!==null?u==="true":!0}),s=u=>{i(u),localStorage.setItem("audioEnabled",u.toString()),ge.success(u?"Audio diaktifkan":"Audio dinonaktifkan")};if(r)return g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const o=e.length,a=e.filter(u=>{var d;return(d=u.progress)==null?void 0:d.mastered}).length,l=o-a,c=[1,2,3,4,5,6].map(u=>{const d=e.filter(f=>f.hsk_level===u),h=d.filter(f=>{var m;return(m=f.progress)==null?void 0:m.mastered}).length;return{level:u,name:`HSK ${u}`,current:h,totalInData:d.length}});return g.jsx("div",{className:"min-h-screen bg-background pt-6 md:pt-8",children:g.jsxs("main",{className:"container mx-auto px-4 py-6 md:py-8 space-y-6 md:space-y-8",children:[g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 animate-fade-in",children:[g.jsx("div",{onClick:()=>t("/vocabulary"),className:"cursor-pointer",children:g.jsx(Jp,{title:"Total Kosakata",value:o,icon:AC,variant:"primary"})}),g.jsx("div",{onClick:()=>t("/vocabulary?filter=mastered"),className:"cursor-pointer",children:g.jsx(Jp,{title:"Sudah Hafal",value:a,icon:ba,variant:"secondary"})}),g.jsx("div",{onClick:()=>t("/vocabulary?filter=learning"),className:"cursor-pointer",children:g.jsx(Jp,{title:"Sedang Dipelajari",value:l,icon:Qw,variant:"accent"})}),g.jsx("div",{onClick:()=>t("/statistics"),className:"cursor-pointer",children:g.jsx(Jp,{title:"Tingkat Kemajuan",value:o>0?`${Math.round(a/o*100)}%`:"0%",icon:Jw})})]}),g.jsxs("div",{className:"bg-card rounded-lg border p-6 shadow-soft animate-fade-in",children:[g.jsx("h2",{className:"text-xl font-semibold text-foreground mb-6",children:"Progress HSK Level"}),g.jsx("div",{className:"space-y-4",children:c.map(u=>g.jsx(nQ,{label:u.name,current:u.current,total:u.totalInData,variant:u.level<=2?"primary":u.level<=4?"secondary":"accent"},u.level))})]}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-fade-in",children:[g.jsxs(fe,{variant:"outline",size:"lg",className:"h-32 flex flex-col gap-2 hover:bg-primary/5 hover:border-primary transition-smooth",onClick:()=>t("/flashcards"),children:[g.jsx(Jw,{className:"h-8 w-8 text-primary"}),g.jsx("span",{className:"font-semibold",children:"Flashcard"})]}),g.jsxs(fe,{variant:"outline",size:"lg",className:"h-32 flex flex-col gap-2 hover:bg-secondary/5 hover:border-secondary transition-smooth",onClick:()=>t("/quiz"),children:[g.jsx(Qw,{className:"h-8 w-8 text-secondary"}),g.jsx("span",{className:"font-semibold",children:"Quiz"})]}),g.jsxs(fe,{variant:"outline",size:"lg",className:"h-32 flex flex-col gap-2 hover:bg-accent/5 hover:border-accent transition-smooth",onClick:()=>t("/hanzi-practice"),children:[g.jsx(My,{className:"h-8 w-8 text-accent"}),g.jsx("span",{className:"font-semibold",children:"Tulis Hanzi"})]}),g.jsxs(fe,{variant:"outline",size:"lg",className:"h-32 flex flex-col gap-2 hover:bg-success/5 hover:border-success transition-smooth",onClick:()=>t("/statistics"),children:[g.jsx(KD,{className:"h-8 w-8 text-success"}),g.jsx("span",{className:"font-semibold",children:"Statistik"})]}),g.jsxs(fe,{variant:"outline",size:"lg",className:"h-32 flex flex-col gap-2 hover:bg-purple-500/5 hover:border-purple-500 transition-smooth",onClick:()=>t("/grammar-checker"),children:[g.jsx(_i,{className:"h-8 w-8 text-purple-500"}),g.jsx("span",{className:"font-semibold",children:"Cek Grammar"})]}),g.jsxs(fe,{variant:"outline",size:"lg",className:"h-32 flex flex-col gap-2 hover:bg-orange-500/5 hover:border-orange-500 transition-smooth",onClick:()=>t("/sentence-builder"),children:[g.jsx(XD,{className:"h-8 w-8 text-orange-500"}),g.jsx("span",{className:"font-semibold",children:"Rangkai Kalimat"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs(fe,{variant:"outline",size:"lg",className:"h-24 flex items-center gap-3",onClick:()=>t("/achievements"),children:[g.jsx(jC,{className:"h-8 w-8 text-primary"}),g.jsx("span",{className:"font-semibold text-lg",children:"Lihat Achievements"})]}),g.jsxs(fe,{variant:"outline",size:"lg",className:"h-24 flex items-center gap-3",onClick:()=>t("/vocabulary"),children:[g.jsx(CH,{className:"h-8 w-8 text-secondary"}),g.jsx("span",{className:"font-semibold text-lg",children:"Export / Import Data"})]})]}),g.jsx(uQ,{}),g.jsxs("div",{className:"bg-card rounded-lg border p-6 shadow-soft animate-fade-in",children:[g.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Pengaturan Audio"}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[n?g.jsx(ZD,{className:"h-5 w-5 text-primary"}):g.jsx(JD,{className:"h-5 w-5 text-muted-foreground"}),g.jsx(Ht,{htmlFor:"audio-toggle",className:"text-base cursor-pointer",children:"Aktifkan Suara"})]}),g.jsx(Hu,{id:"audio-toggle",checked:n,onCheckedChange:s})]}),g.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Mengaktifkan atau menonaktifkan audio pronunciation pada flashcard dan quiz"})]})]})})};function D_(t,[e,r]){return Math.min(r,Math.max(e,t))}function hQ(t){const e=fQ(t),r=w.forwardRef((n,i)=>{const{children:s,...o}=n,a=w.Children.toArray(s),l=a.find(gQ);if(l){const c=l.props.children,u=a.map(d=>d===l?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:d);return g.jsx(e,{...o,ref:i,children:w.isValidElement(c)?w.cloneElement(c,void 0,u):null})}return g.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function fQ(t){const e=w.forwardRef((r,n)=>{const{children:i,...s}=r;if(w.isValidElement(i)){const o=vQ(i),a=mQ(s,i.props);return i.type!==w.Fragment&&(a.ref=n?Lu(n,o):o),w.cloneElement(i,a)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pQ=Symbol("radix.slottable");function gQ(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pQ}function mQ(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function vQ(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var yQ=[" ","Enter","ArrowUp","ArrowDown"],bQ=[" ","Enter"],hl="Select",[i0,s0,xQ]=TC(hl),[Gu]=ns(hl,[xQ,Fy]),o0=Fy(),[wQ,na]=Gu(hl),[_Q,SQ]=Gu(hl),kB=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:h,required:f,form:m}=t,p=o0(e),[v,y]=w.useState(null),[b,x]=w.useState(null),[_,S]=w.useState(!1),C=e0(c),[O,T]=ll({prop:n,defaultProp:i??!1,onChange:s,caller:hl}),[E,j]=ll({prop:o,defaultProp:a,onChange:l,caller:hl}),P=w.useRef(null),A=v?m||!!v.closest("form"):!0,[I,R]=w.useState(new Set),L=Array.from(I).map($=>$.props.value).join(";");return g.jsx(hK,{...p,children:g.jsxs(wQ,{required:f,scope:e,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Bo(),value:E,onValueChange:j,open:O,onOpenChange:T,dir:C,triggerPointerDownPosRef:P,disabled:h,children:[g.jsx(i0.Provider,{scope:e,children:g.jsx(_Q,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback($=>{R(B=>new Set(B).add($))},[]),onNativeOptionRemove:w.useCallback($=>{R(B=>{const N=new Set(B);return N.delete($),N})},[]),children:r})}),A?g.jsxs(JB,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:d,value:E,onChange:$=>j($.target.value),disabled:h,form:m,children:[E===void 0?g.jsx("option",{value:""}):null,Array.from(I)]},L):null]})})};kB.displayName=hl;var PB="SelectTrigger",jB=w.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=o0(r),o=na(PB,r),a=o.disabled||n,l=Le(e,o.onTriggerChange),c=s0(r),u=w.useRef("touch"),[d,h,f]=e4(p=>{const v=c().filter(x=>!x.disabled),y=v.find(x=>x.value===o.value),b=t4(v,p,y);b!==void 0&&o.onValueChange(b.value)}),m=p=>{a||(o.onOpenChange(!0),f()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return g.jsx(AI,{asChild:!0,...s,children:g.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":QB(o.value)?"":void 0,...i,ref:l,onClick:he(i.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&m(p)}),onPointerDown:he(i.onPointerDown,p=>{u.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(m(p),p.preventDefault())}),onKeyDown:he(i.onKeyDown,p=>{const v=d.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&yQ.includes(p.key)&&(m(),p.preventDefault())})})})});jB.displayName=PB;var AB="SelectValue",NB=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...a}=t,l=na(AB,r),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=Le(e,l.onValueNodeChange);return Nt(()=>{c(u)},[c,u]),g.jsx(Ce.span,{...a,ref:d,style:{pointerEvents:"none"},children:QB(l.value)?g.jsx(g.Fragment,{children:o}):s})});NB.displayName=AB;var CQ="SelectIcon",RB=w.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return g.jsx(Ce.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});RB.displayName=CQ;var OQ="SelectPortal",MB=t=>g.jsx(Ay,{asChild:!0,...t});MB.displayName=OQ;var fl="SelectContent",$B=w.forwardRef((t,e)=>{const r=na(fl,t.__scopeSelect),[n,i]=w.useState();if(Nt(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Sl.createPortal(g.jsx(DB,{scope:t.__scopeSelect,children:g.jsx(i0.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),s):null}return g.jsx(IB,{...t,ref:e})});$B.displayName=fl;var ti=10,[DB,ia]=Gu(fl),TQ="SelectContentImpl",EQ=hQ("SelectContent.RemoveScroll"),IB=w.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:m,hideWhenDetached:p,avoidCollisions:v,...y}=t,b=na(fl,r),[x,_]=w.useState(null),[S,C]=w.useState(null),O=Le(e,Q=>_(Q)),[T,E]=w.useState(null),[j,P]=w.useState(null),A=s0(r),[I,R]=w.useState(!1),L=w.useRef(!1);w.useEffect(()=>{if(x)return xF(x)},[x]),hF();const $=w.useCallback(Q=>{const[we,...Y]=A().map(V=>V.ref.current),[te]=Y.slice(-1),re=document.activeElement;for(const V of Q)if(V===re||(V==null||V.scrollIntoView({block:"nearest"}),V===we&&S&&(S.scrollTop=0),V===te&&S&&(S.scrollTop=S.scrollHeight),V==null||V.focus(),document.activeElement!==re))return},[A,S]),B=w.useCallback(()=>$([T,x]),[$,T,x]);w.useEffect(()=>{I&&B()},[I,B]);const{onOpenChange:N,triggerPointerDownPosRef:M}=b;w.useEffect(()=>{if(x){let Q={x:0,y:0};const we=te=>{var re,V;Q={x:Math.abs(Math.round(te.pageX)-(((re=M.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(te.pageY)-(((V=M.current)==null?void 0:V.y)??0))}},Y=te=>{Q.x<=10&&Q.y<=10?te.preventDefault():x.contains(te.target)||N(!1),document.removeEventListener("pointermove",we),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Y,{capture:!0})}}},[x,N,M]),w.useEffect(()=>{const Q=()=>N(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[N]);const[z,H]=e4(Q=>{const we=A().filter(re=>!re.disabled),Y=we.find(re=>re.ref.current===document.activeElement),te=t4(we,Q,Y);te&&setTimeout(()=>te.ref.current.focus())}),U=w.useCallback((Q,we,Y)=>{const te=!L.current&&!Y;(b.value!==void 0&&b.value===we||te)&&(E(Q),te&&(L.current=!0))},[b.value]),q=w.useCallback(()=>x==null?void 0:x.focus(),[x]),ee=w.useCallback((Q,we,Y)=>{const te=!L.current&&!Y;(b.value!==void 0&&b.value===we||te)&&P(Q)},[b.value]),pe=n==="popper"?I_:LB,Oe=pe===I_?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:m,hideWhenDetached:p,avoidCollisions:v}:{};return g.jsx(DB,{scope:r,content:x,viewport:S,onViewportChange:C,itemRefCallback:U,selectedItem:T,onItemLeave:q,itemTextRefCallback:ee,focusSelectedItem:B,selectedItemText:j,position:n,isPositioned:I,searchRef:z,children:g.jsx(iO,{as:EQ,allowPinchZoom:!0,children:g.jsx(nO,{asChild:!0,trapped:b.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:he(i,Q=>{var we;(we=b.trigger)==null||we.focus({preventScroll:!0}),Q.preventDefault()}),children:g.jsx(Vf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:g.jsx(pe,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:Q=>Q.preventDefault(),...y,...Oe,onPlaced:()=>R(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:he(y.onKeyDown,Q=>{const we=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!we&&Q.key.length===1&&H(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let te=A().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const re=Q.target,V=te.indexOf(re);te=te.slice(V+1)}setTimeout(()=>$(te)),Q.preventDefault()}})})})})})})});IB.displayName=TQ;var kQ="SelectItemAlignedPosition",LB=w.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=na(fl,r),o=ia(fl,r),[a,l]=w.useState(null),[c,u]=w.useState(null),d=Le(e,O=>u(O)),h=s0(r),f=w.useRef(!1),m=w.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,x=w.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&p&&v&&y){const O=s.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),E=s.valueNode.getBoundingClientRect(),j=y.getBoundingClientRect();if(s.dir!=="rtl"){const re=j.left-T.left,V=E.left-re,Ne=O.left-V,_e=O.width+Ne,rt=Math.max(_e,T.width),Qe=window.innerWidth-ti,Ot=D_(V,[ti,Math.max(ti,Qe-rt)]);a.style.minWidth=_e+"px",a.style.left=Ot+"px"}else{const re=T.right-j.right,V=window.innerWidth-E.right-re,Ne=window.innerWidth-O.right-V,_e=O.width+Ne,rt=Math.max(_e,T.width),Qe=window.innerWidth-ti,Ot=D_(V,[ti,Math.max(ti,Qe-rt)]);a.style.minWidth=_e+"px",a.style.right=Ot+"px"}const P=h(),A=window.innerHeight-ti*2,I=p.scrollHeight,R=window.getComputedStyle(c),L=parseInt(R.borderTopWidth,10),$=parseInt(R.paddingTop,10),B=parseInt(R.borderBottomWidth,10),N=parseInt(R.paddingBottom,10),M=L+$+I+N+B,z=Math.min(v.offsetHeight*5,M),H=window.getComputedStyle(p),U=parseInt(H.paddingTop,10),q=parseInt(H.paddingBottom,10),ee=O.top+O.height/2-ti,pe=A-ee,Oe=v.offsetHeight/2,Q=v.offsetTop+Oe,we=L+$+Q,Y=M-we;if(we<=ee){const re=P.length>0&&v===P[P.length-1].ref.current;a.style.bottom="0px";const V=c.clientHeight-p.offsetTop-p.offsetHeight,Ne=Math.max(pe,Oe+(re?q:0)+V+B),_e=we+Ne;a.style.height=_e+"px"}else{const re=P.length>0&&v===P[0].ref.current;a.style.top="0px";const Ne=Math.max(ee,L+p.offsetTop+(re?U:0)+Oe)+Y;a.style.height=Ne+"px",p.scrollTop=we-ee+p.offsetTop}a.style.margin=`${ti}px 0`,a.style.minHeight=z+"px",a.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[h,s.trigger,s.valueNode,a,c,p,v,y,s.dir,n]);Nt(()=>x(),[x]);const[_,S]=w.useState();Nt(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const C=w.useCallback(O=>{O&&m.current===!0&&(x(),b==null||b(),m.current=!1)},[x,b]);return g.jsx(jQ,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:C,children:g.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:g.jsx(Ce.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});LB.displayName=kQ;var PQ="SelectPopperPosition",I_=w.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=ti,...s}=t,o=o0(r);return g.jsx(NI,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});I_.displayName=PQ;var[jQ,hO]=Gu(fl,{}),L_="SelectViewport",FB=w.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=ia(L_,r),o=hO(L_,r),a=Le(e,s.onViewportChange),l=w.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),g.jsx(i0.Slot,{scope:r,children:g.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:he(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const f=Math.abs(l.current-u.scrollTop);if(f>0){const m=window.innerHeight-ti*2,p=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),y=Math.max(p,v);if(y<m){const b=y+f,x=Math.min(m,b),_=b-x;d.style.height=x+"px",d.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});FB.displayName=L_;var BB="SelectGroup",[AQ,NQ]=Gu(BB),RQ=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Bo();return g.jsx(AQ,{scope:r,id:i,children:g.jsx(Ce.div,{role:"group","aria-labelledby":i,...n,ref:e})})});RQ.displayName=BB;var zB="SelectLabel",UB=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=NQ(zB,r);return g.jsx(Ce.div,{id:i.id,...n,ref:e})});UB.displayName=zB;var Jm="SelectItem",[MQ,WB]=Gu(Jm),VB=w.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,a=na(Jm,r),l=ia(Jm,r),c=a.value===n,[u,d]=w.useState(s??""),[h,f]=w.useState(!1),m=Le(e,b=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,b,n,i)}),p=Bo(),v=w.useRef("touch"),y=()=>{i||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(MQ,{scope:r,value:n,disabled:i,textId:p,isSelected:c,onItemTextChange:w.useCallback(b=>{d(x=>x||((b==null?void 0:b.textContent)??"").trim())},[]),children:g.jsx(i0.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:g.jsx(Ce.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:m,onFocus:he(o.onFocus,()=>f(!0)),onBlur:he(o.onBlur,()=>f(!1)),onClick:he(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:he(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:he(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:he(o.onPointerMove,b=>{var x;v.current=b.pointerType,i?(x=l.onItemLeave)==null||x.call(l):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(o.onPointerLeave,b=>{var x;b.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:he(o.onKeyDown,b=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(bQ.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});VB.displayName=Jm;var zd="SelectItemText",HB=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=na(zd,r),a=ia(zd,r),l=WB(zd,r),c=SQ(zd,r),[u,d]=w.useState(null),h=Le(e,y=>d(y),l.onItemTextChange,y=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,y,l.value,l.disabled)}),f=u==null?void 0:u.textContent,m=w.useMemo(()=>g.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=c;return Nt(()=>(p(m),()=>v(m)),[p,v,m]),g.jsxs(g.Fragment,{children:[g.jsx(Ce.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Sl.createPortal(s.children,o.valueNode):null]})});HB.displayName=zd;var GB="SelectItemIndicator",KB=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return WB(GB,r).isSelected?g.jsx(Ce.span,{"aria-hidden":!0,...n,ref:e}):null});KB.displayName=GB;var F_="SelectScrollUpButton",qB=w.forwardRef((t,e)=>{const r=ia(F_,t.__scopeSelect),n=hO(F_,t.__scopeSelect),[i,s]=w.useState(!1),o=Le(e,n.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?g.jsx(XB,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});qB.displayName=F_;var B_="SelectScrollDownButton",YB=w.forwardRef((t,e)=>{const r=ia(B_,t.__scopeSelect),n=hO(B_,t.__scopeSelect),[i,s]=w.useState(!1),o=Le(e,n.onScrollButtonChange);return Nt(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),i?g.jsx(XB,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});YB.displayName=B_;var XB=w.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=ia("SelectScrollButton",r),o=w.useRef(null),a=s0(r),l=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>l(),[l]),Nt(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),g.jsx(Ce.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:he(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:he(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:he(i.onPointerLeave,()=>{l()})})}),$Q="SelectSeparator",ZB=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return g.jsx(Ce.div,{"aria-hidden":!0,...n,ref:e})});ZB.displayName=$Q;var z_="SelectArrow",DQ=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=o0(r),s=na(z_,r),o=ia(z_,r);return s.open&&o.position==="popper"?g.jsx(RI,{...i,...n,ref:e}):null});DQ.displayName=z_;var IQ="SelectBubbleInput",JB=w.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=w.useRef(null),s=Le(n,i),o=wB(e);return w.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const d=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[o,e]),g.jsx(Ce.select,{...r,style:{...CD,...r.style},ref:s,defaultValue:e})});JB.displayName=IQ;function QB(t){return t===""||t===void 0}function e4(t){const e=Lt(t),r=w.useRef(""),n=w.useRef(0),i=w.useCallback(o=>{const a=r.current+o;e(a),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function t4(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=LQ(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function LQ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var FQ=kB,r4=jB,BQ=NB,zQ=RB,UQ=MB,n4=$B,WQ=FB,i4=UB,s4=VB,VQ=HB,HQ=KB,o4=qB,a4=YB,l4=ZB;const mi=FQ,vi=BQ,Nn=w.forwardRef(({className:t,children:e,...r},n)=>g.jsxs(r4,{ref:n,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,g.jsx(zQ,{asChild:!0,children:g.jsx(qD,{className:"h-4 w-4 opacity-50"})})]}));Nn.displayName=r4.displayName;const c4=w.forwardRef(({className:t,...e},r)=>g.jsx(o4,{ref:r,className:ae("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(_H,{className:"h-4 w-4"})}));c4.displayName=o4.displayName;const u4=w.forwardRef(({className:t,...e},r)=>g.jsx(a4,{ref:r,className:ae("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(qD,{className:"h-4 w-4"})}));u4.displayName=a4.displayName;const Rn=w.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>g.jsx(UQ,{children:g.jsxs(n4,{ref:i,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[g.jsx(c4,{}),g.jsx(WQ,{className:ae("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),g.jsx(u4,{})]})}));Rn.displayName=n4.displayName;const GQ=w.forwardRef(({className:t,...e},r)=>g.jsx(i4,{ref:r,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));GQ.displayName=i4.displayName;const Ue=w.forwardRef(({className:t,children:e,...r},n)=>g.jsxs(s4,{ref:n,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(HQ,{children:g.jsx(wH,{className:"h-4 w-4"})})}),g.jsx(VQ,{children:e})]}));Ue.displayName=s4.displayName;const KQ=w.forwardRef(({className:t,...e},r)=>g.jsx(l4,{ref:r,className:ae("-mx-1 my-1 h-px bg-muted",t),...e}));KQ.displayName=l4.displayName;const qQ=Gf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function yr({className:t,variant:e,...r}){return g.jsx("div",{className:ae(qQ({variant:e}),t),...r})}const fO=({text:t,lang:e="zh-CN",variant:r="ghost",size:n="icon",className:i=""})=>{const[s,o]=w.useState(!1),a=()=>{if(!("speechSynthesis"in window)){ge.error("Browser Anda tidak mendukung text-to-speech");return}window.speechSynthesis.cancel();const c=new SpeechSynthesisUtterance(t);c.lang=e,c.rate=.7,c.pitch=1.1,c.volume=1;const u=()=>{const h=window.speechSynthesis.getVoices().find(f=>f.lang.includes("zh")||f.lang.includes("cmn")||f.name.includes("Chinese"));h&&(c.voice=h)};window.speechSynthesis.getVoices().length>0?u():window.speechSynthesis.onvoiceschanged=u,c.onstart=()=>o(!0),c.onend=()=>o(!1),c.onerror=d=>{o(!1),console.error("Speech error:",d),ge.error("Gagal memutar audio")},window.speechSynthesis.speak(c)},l=()=>{window.speechSynthesis.cancel(),o(!1)};return g.jsx(fe,{variant:r,size:n,onClick:s?l:a,className:i,title:s?"Stop audio":"Putar audio",children:s?g.jsx(JD,{className:"h-4 w-4"}):g.jsx(ZD,{className:"h-4 w-4"})})},YQ=({vocab:t,onEdit:e,onDelete:r,onToggleMastered:n})=>g.jsx(qe,{className:"shadow-soft hover:shadow-medium transition-smooth animate-scale-in",children:g.jsxs(nt,{className:"pt-6",children:[g.jsx("div",{className:"flex items-start justify-between mb-4",children:g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("h3",{className:"text-3xl font-bold text-foreground",children:t.hanzi}),g.jsx(fO,{text:t.pinyin,variant:"ghost",size:"sm"}),t.mastered&&g.jsx(_i,{className:"h-5 w-5 text-success"})]}),g.jsx("p",{className:"text-lg text-muted-foreground mb-1",children:t.pinyin}),g.jsx("p",{className:"text-base text-foreground",children:t.meaning})]})}),g.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[g.jsxs(yr,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:["HSK ",t.hskLevel]}),g.jsx(yr,{variant:"outline",className:"bg-secondary/10 text-secondary border-secondary/20",children:t.category})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(fe,{size:"sm",variant:t.mastered?"secondary":"default",onClick:()=>n(t.id),className:"flex-1",children:t.mastered?"Sudah Hafal":"Tandai Hafal"}),g.jsx(fe,{size:"sm",variant:"outline",onClick:()=>e(t),children:g.jsx(My,{className:"h-4 w-4"})}),g.jsx(fe,{size:"sm",variant:"outline",onClick:()=>r(t.id),children:g.jsx(AH,{className:"h-4 w-4"})})]})]})}),d4=IF,XQ=LF,ZQ=FF,h4=w.forwardRef(({className:t,...e},r)=>g.jsx(Xy,{ref:r,className:ae("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));h4.displayName=Xy.displayName;const pO=w.forwardRef(({className:t,children:e,...r},n)=>g.jsxs(ZQ,{children:[g.jsx(h4,{}),g.jsxs(Zy,{ref:n,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,g.jsxs(BF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[g.jsx(NC,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pO.displayName=Zy.displayName;const gO=({className:t,...e})=>g.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});gO.displayName="DialogHeader";const f4=({className:t,...e})=>g.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});f4.displayName="DialogFooter";const mO=w.forwardRef(({className:t,...e},r)=>g.jsx(Jy,{ref:r,className:ae("text-lg font-semibold leading-none tracking-tight",t),...e}));mO.displayName=Jy.displayName;const JQ=w.forwardRef(({className:t,...e},r)=>g.jsx(Qy,{ref:r,className:ae("text-sm text-muted-foreground",t),...e}));JQ.displayName=Qy.displayName;const rm=["Semua","Salam","Kata Ganti","Makanan","Aktivitas","Hubungan","Profesi"],QQ=({onAdd:t,editVocab:e,onClose:r})=>{const[n,i]=w.useState(!1),[s,o]=w.useState({hanzi:(e==null?void 0:e.hanzi)||"",pinyin:(e==null?void 0:e.pinyin)||"",meaning:(e==null?void 0:e.meaning)||"",hskLevel:(e==null?void 0:e.hskLevel.toString())||"1",category:(e==null?void 0:e.category)||rm[1]}),a=l=>{if(l.preventDefault(),!s.hanzi||!s.pinyin||!s.meaning){ge.error("Semua field harus diisi!");return}t({hanzi:s.hanzi,pinyin:s.pinyin,meaning:s.meaning,hskLevel:parseInt(s.hskLevel),category:s.category,mastered:(e==null?void 0:e.mastered)||!1}),ge.success(e?"Kata berhasil diupdate!":"Kata baru berhasil ditambahkan!"),o({hanzi:"",pinyin:"",meaning:"",hskLevel:"1",category:rm[1]}),i(!1),r&&r()};return g.jsxs(d4,{open:n,onOpenChange:i,children:[g.jsx(XQ,{asChild:!0,children:g.jsxs(fe,{className:"shadow-soft",children:[g.jsx(e_,{className:"mr-2 h-4 w-4"}),e?"Edit Kata":"Tambah Kata Baru"]})}),g.jsxs(pO,{className:"sm:max-w-[500px]",children:[g.jsx(gO,{children:g.jsx(mO,{children:e?"Edit Kosakata":"Tambah Kosakata Baru"})}),g.jsxs("form",{onSubmit:a,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Ht,{htmlFor:"hanzi",children:"Hanzi ()"}),g.jsx(xs,{id:"hanzi",value:s.hanzi,onChange:l=>o({...s,hanzi:l.target.value}),placeholder:"",className:"text-xl"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Ht,{htmlFor:"pinyin",children:"Pinyin"}),g.jsx(xs,{id:"pinyin",value:s.pinyin,onChange:l=>o({...s,pinyin:l.target.value}),placeholder:"n ho"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Ht,{htmlFor:"meaning",children:"Arti (Bahasa Indonesia)"}),g.jsx(xs,{id:"meaning",value:s.meaning,onChange:l=>o({...s,meaning:l.target.value}),placeholder:"halo"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Ht,{htmlFor:"hskLevel",children:"Level HSK"}),g.jsxs(mi,{value:s.hskLevel,onValueChange:l=>o({...s,hskLevel:l}),children:[g.jsx(Nn,{children:g.jsx(vi,{})}),g.jsx(Rn,{children:[1,2,3,4,5,6].map(l=>g.jsxs(Ue,{value:l.toString(),children:["HSK ",l]},l))})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Ht,{htmlFor:"category",children:"Kategori"}),g.jsxs(mi,{value:s.category,onValueChange:l=>o({...s,category:l}),children:[g.jsx(Nn,{children:g.jsx(vi,{})}),g.jsx(Rn,{children:rm.slice(1).map(l=>g.jsx(Ue,{value:l,children:l},l))})]})]})]}),g.jsx(fe,{type:"submit",className:"w-full",children:e?"Update Kata":"Tambah Kata"})]})]})]})},p4=w.forwardRef(({className:t,...e},r)=>g.jsx("div",{className:"relative w-full overflow-auto",children:g.jsx("table",{ref:r,className:ae("w-full caption-bottom text-sm",t),...e})}));p4.displayName="Table";const g4=w.forwardRef(({className:t,...e},r)=>g.jsx("thead",{ref:r,className:ae("[&_tr]:border-b",t),...e}));g4.displayName="TableHeader";const m4=w.forwardRef(({className:t,...e},r)=>g.jsx("tbody",{ref:r,className:ae("[&_tr:last-child]:border-0",t),...e}));m4.displayName="TableBody";const eee=w.forwardRef(({className:t,...e},r)=>g.jsx("tfoot",{ref:r,className:ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));eee.displayName="TableFooter";const U_=w.forwardRef(({className:t,...e},r)=>g.jsx("tr",{ref:r,className:ae("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));U_.displayName="TableRow";const wa=w.forwardRef(({className:t,...e},r)=>g.jsx("th",{ref:r,className:ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));wa.displayName="TableHead";const _a=w.forwardRef(({className:t,...e},r)=>g.jsx("td",{ref:r,className:ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));_a.displayName="TableCell";const tee=w.forwardRef(({className:t,...e},r)=>g.jsx("caption",{ref:r,className:ae("mt-4 text-sm text-muted-foreground",t),...e}));tee.displayName="TableCaption";function ree(t,e){return w.useReducer((r,n)=>e[r][n]??r,t)}var vO="ScrollArea",[v4]=ns(vO),[nee,Un]=v4(vO),y4=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=w.useState(null),[c,u]=w.useState(null),[d,h]=w.useState(null),[f,m]=w.useState(null),[p,v]=w.useState(null),[y,b]=w.useState(0),[x,_]=w.useState(0),[S,C]=w.useState(!1),[O,T]=w.useState(!1),E=Le(e,P=>l(P)),j=e0(i);return g.jsx(nee,{scope:r,type:n,dir:j,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:m,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:O,onScrollbarYEnabledChange:T,onCornerWidthChange:b,onCornerHeightChange:_,children:g.jsx(Ce.div,{dir:j,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...t.style}})})});y4.displayName=vO;var b4="ScrollAreaViewport",x4=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...s}=t,o=Un(b4,r),a=w.useRef(null),l=Le(e,a,o.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),g.jsx(Ce.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:g.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});x4.displayName=b4;var ss="ScrollAreaScrollbar",yO=w.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Un(ss,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return w.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?g.jsx(iee,{...n,ref:e,forceMount:r}):i.type==="scroll"?g.jsx(see,{...n,ref:e,forceMount:r}):i.type==="auto"?g.jsx(w4,{...n,ref:e,forceMount:r}):i.type==="always"?g.jsx(bO,{...n,ref:e}):null});yO.displayName=ss;var iee=w.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Un(ss,t.__scopeScrollArea),[s,o]=w.useState(!1);return w.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),g.jsx(Pi,{present:r||s,children:g.jsx(w4,{"data-state":s?"visible":"hidden",...n,ref:e})})}),see=w.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Un(ss,t.__scopeScrollArea),s=t.orientation==="horizontal",o=l0(()=>l("SCROLL_END"),100),[a,l]=ree("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),w.useEffect(()=>{const c=i.viewport,u=s?"scrollLeft":"scrollTop";if(c){let d=c[u];const h=()=>{const f=c[u];d!==f&&(l("SCROLL"),o()),d=f};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,s,l,o]),g.jsx(Pi,{present:r||a!=="hidden",children:g.jsx(bO,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:he(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:he(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),w4=w.forwardRef((t,e)=>{const r=Un(ss,t.__scopeScrollArea),{forceMount:n,...i}=t,[s,o]=w.useState(!1),a=t.orientation==="horizontal",l=l0(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?c:u)}},10);return ou(r.viewport,l),ou(r.content,l),g.jsx(Pi,{present:n||s,children:g.jsx(bO,{"data-state":s?"visible":"hidden",...i,ref:e})})}),bO=w.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=Un(ss,t.__scopeScrollArea),s=w.useRef(null),o=w.useRef(0),[a,l]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=T4(a.viewport,a.content),u={...n,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,f){return dee(h,o.current,a,f)}return r==="horizontal"?g.jsx(oee,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,f=sj(h,a,i.dir);s.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=d(h,i.dir))}}):r==="vertical"?g.jsx(aee,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,f=sj(h,a);s.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=d(h))}}):null}),oee=w.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=Un(ss,t.__scopeScrollArea),[o,a]=w.useState(),l=w.useRef(null),c=Le(e,l,s.onScrollbarXChange);return w.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),g.jsx(S4,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":a0(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(s.viewport){const h=s.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),k4(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:ev(o.paddingLeft),paddingEnd:ev(o.paddingRight)}})}})}),aee=w.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=Un(ss,t.__scopeScrollArea),[o,a]=w.useState(),l=w.useRef(null),c=Le(e,l,s.onScrollbarYChange);return w.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),g.jsx(S4,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":a0(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(s.viewport){const h=s.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),k4(h,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:ev(o.paddingTop),paddingEnd:ev(o.paddingBottom)}})}})}),[lee,_4]=v4(ss),S4=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...h}=t,f=Un(ss,r),[m,p]=w.useState(null),v=Le(e,E=>p(E)),y=w.useRef(null),b=w.useRef(""),x=f.viewport,_=n.content-n.viewport,S=Lt(u),C=Lt(l),O=l0(d,10);function T(E){if(y.current){const j=E.clientX-y.current.left,P=E.clientY-y.current.top;c({x:j,y:P})}}return w.useEffect(()=>{const E=j=>{const P=j.target;(m==null?void 0:m.contains(P))&&S(j,_)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[x,m,_,S]),w.useEffect(C,[n,C]),ou(m,O),ou(f.content,O),g.jsx(lee,{scope:r,scrollbar:m,hasThumb:i,onThumbChange:Lt(s),onThumbPointerUp:Lt(o),onThumbPositionChange:C,onThumbPointerDown:Lt(a),children:g.jsx(Ce.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:he(t.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),y.current=m.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),T(E))}),onPointerMove:he(t.onPointerMove,T),onPointerUp:he(t.onPointerUp,E=>{const j=E.target;j.hasPointerCapture(E.pointerId)&&j.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=b.current,f.viewport&&(f.viewport.style.scrollBehavior=""),y.current=null})})})}),Qm="ScrollAreaThumb",C4=w.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=_4(Qm,t.__scopeScrollArea);return g.jsx(Pi,{present:r||i.hasThumb,children:g.jsx(cee,{ref:e,...n})})}),cee=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,s=Un(Qm,r),o=_4(Qm,r),{onThumbPositionChange:a}=o,l=Le(e,d=>o.onThumbChange(d)),c=w.useRef(void 0),u=l0(()=>{c.current&&(c.current(),c.current=void 0)},100);return w.useEffect(()=>{const d=s.viewport;if(d){const h=()=>{if(u(),!c.current){const f=hee(d,a);c.current=f,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,u,a]),g.jsx(Ce.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:he(t.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),m=d.clientX-f.left,p=d.clientY-f.top;o.onThumbPointerDown({x:m,y:p})}),onPointerUp:he(t.onPointerUp,o.onThumbPointerUp)})});C4.displayName=Qm;var xO="ScrollAreaCorner",O4=w.forwardRef((t,e)=>{const r=Un(xO,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?g.jsx(uee,{...t,ref:e}):null});O4.displayName=xO;var uee=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=Un(xO,r),[s,o]=w.useState(0),[a,l]=w.useState(0),c=!!(s&&a);return ou(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),ou(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?g.jsx(Ce.div,{...n,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ev(t){return t?parseInt(t,10):0}function T4(t,e){const r=t/e;return isNaN(r)?0:r}function a0(t){const e=T4(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function dee(t,e,r,n="ltr"){const i=a0(r),s=i/2,o=e||s,a=i-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-a,u=r.content-r.viewport,d=n==="ltr"?[0,u]:[u*-1,0];return E4([l,c],d)(t)}function sj(t,e,r="ltr"){const n=a0(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-n,l=r==="ltr"?[0,o]:[o*-1,0],c=D_(t,l);return E4([0,o],[0,a])(c)}function E4(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function k4(t,e){return t>0&&t<e}var hee=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=r.left!==s.left,a=r.top!==s.top;(o||a)&&e(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function l0(t,e){const r=Lt(t),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function ou(t,e){const r=Lt(e);Nt(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var P4=y4,fee=x4,pee=O4;const j4=w.forwardRef(({className:t,children:e,...r},n)=>g.jsxs(P4,{ref:n,className:ae("relative overflow-hidden",t),...r,children:[g.jsx(fee,{className:"h-full w-full rounded-[inherit]",children:e}),g.jsx(A4,{}),g.jsx(pee,{})]}));j4.displayName=P4.displayName;const A4=w.forwardRef(({className:t,orientation:e="vertical",...r},n)=>g.jsx(yO,{ref:n,orientation:e,className:ae("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:g.jsx(C4,{className:"relative flex-1 rounded-full bg-border"})}));A4.displayName=yO.displayName;const gee=({open:t,onOpenChange:e,data:r,onConfirm:n,onCancel:i})=>{const s=r.filter(a=>a.isValid).length,o=r.length-s;return g.jsx(d4,{open:t,onOpenChange:e,children:g.jsxs(pO,{className:"max-w-4xl max-h-[80vh]",children:[g.jsxs(gO,{children:[g.jsx(mO,{children:"Preview Import Data"}),g.jsxs("div",{className:"flex gap-4 pt-2",children:[g.jsxs(yr,{variant:"outline",className:"bg-success/10 text-success border-success/20",children:[g.jsx(_i,{className:"h-3 w-3 mr-1"}),"Valid: ",s]}),o>0&&g.jsxs(yr,{variant:"outline",className:"bg-destructive/10 text-destructive border-destructive/20",children:[g.jsx(Mm,{className:"h-3 w-3 mr-1"}),"Invalid: ",o]})]})]}),g.jsx(j4,{className:"max-h-[400px] w-full",children:g.jsxs(p4,{children:[g.jsx(g4,{children:g.jsxs(U_,{children:[g.jsx(wa,{className:"w-[100px]",children:"Status"}),g.jsx(wa,{children:"Hanzi"}),g.jsx(wa,{children:"Pinyin"}),g.jsx(wa,{children:"Meaning"}),g.jsx(wa,{children:"HSK"}),g.jsx(wa,{children:"Category"})]})}),g.jsx(m4,{children:r.map((a,l)=>g.jsxs(U_,{className:a.isValid?"":"bg-destructive/5",children:[g.jsx(_a,{children:a.isValid?g.jsx(_i,{className:"h-4 w-4 text-success"}):g.jsx(Mm,{className:"h-4 w-4 text-destructive"})}),g.jsx(_a,{className:"font-medium",children:a.hanzi}),g.jsx(_a,{children:a.pinyin}),g.jsx(_a,{children:a.meaning}),g.jsx(_a,{children:g.jsxs(yr,{variant:"outline",children:["HSK ",a.hsk_level]})}),g.jsx(_a,{children:a.category})]},l))})]})}),g.jsxs(f4,{className:"gap-2",children:[g.jsx(fe,{variant:"outline",onClick:i,children:"Batal"}),g.jsxs(fe,{onClick:n,disabled:s===0,children:["Import ",s," Kata"]})]})]})})},mee=(t,e=2.5,r=0)=>{const n=new Date;let i=0,s=e;switch(t){case"again":s=Math.max(1.3,e-.2),i=1;break;case"hard":s=Math.max(1.3,e-.15),i=r===0?1:Math.ceil(r*1.2);break;case"medium":i=r===0?1:r===1?3:Math.ceil(r*s);break;case"easy":s=e+.1,i=r===0?3:Math.ceil(r*s*1.3);break}const o=new Date(n);return o.setDate(o.getDate()+i),{nextReviewDate:o,newEaseFactor:s,interval:i}},wO=()=>{const t=async(i,s,o)=>{try{const{data:{user:a}}=await be.auth.getUser();if(!a)throw new Error("Not authenticated");const{data:l}=await be.from("user_progress").select("*").eq("user_id",a.id).eq("vocabulary_id",i).maybeSingle(),c=(l==null?void 0:l.ease_factor)||2.5,u=(l==null?void 0:l.review_count)||0,{nextReviewDate:d,newEaseFactor:h}=mee(s,u,c),f={user_id:a.id,vocabulary_id:i,difficulty:s,last_reviewed:new Date().toISOString(),next_review:d.toISOString(),review_count:u+1,ease_factor:h,mastered:o!==void 0?o:(l==null?void 0:l.mastered)||!1},{error:m}=await be.from("user_progress").upsert(f,{onConflict:"user_id,vocabulary_id"});if(m)throw m;await r()}catch(a){ge.error(a.message)}},e=async(i,s)=>{try{const{data:{user:o}}=await be.auth.getUser();if(!o)throw new Error("Not authenticated");const{error:a}=await be.from("user_progress").upsert({user_id:o.id,vocabulary_id:i,mastered:s},{onConflict:"user_id,vocabulary_id"});if(a)throw a}catch(o){ge.error(o.message)}},r=async()=>{try{const{data:{user:i}}=await be.auth.getUser();if(!i)throw new Error("Not authenticated");const{data:s}=await be.from("user_streaks").select("*").eq("user_id",i.id).single(),o=new Date().toISOString().split("T")[0],a=s==null?void 0:s.last_activity_date;let l=1;if(a){const u=new Date(a),d=new Date(o),h=Math.floor((d.getTime()-u.getTime())/(1e3*60*60*24));if(h===0)return;h===1&&(l=(s.current_streak||0)+1)}const{error:c}=await be.from("user_streaks").upsert({user_id:i.id,current_streak:l,longest_streak:Math.max(l,(s==null?void 0:s.longest_streak)||0),last_activity_date:o},{onConflict:"user_id"});if(c)throw c;await n()}catch(i){console.error("Error updating streak:",i)}},n=async()=>{try{const{data:{user:i}}=await be.auth.getUser();if(!i)return;const{data:s}=await be.from("achievements").select("*"),{data:o}=await be.from("user_achievements").select("achievement_id").eq("user_id",i.id),a=new Set((o==null?void 0:o.map(l=>l.achievement_id))||[]);for(const l of s||[]){if(a.has(l.id))continue;let c=!1;if(l.condition_type==="words_mastered"){const{count:u}=await be.from("user_progress").select("*",{count:"exact",head:!0}).eq("user_id",i.id).eq("mastered",!0);c=(u||0)>=l.condition_value}else if(l.condition_type==="streak"){const{data:u}=await be.from("user_streaks").select("current_streak").eq("user_id",i.id).single();c=((u==null?void 0:u.current_streak)||0)>=l.condition_value}else if(l.condition_type==="reviews_count"){const{count:u}=await be.from("user_progress").select("*",{count:"exact",head:!0}).eq("user_id",i.id);c=(u||0)>=l.condition_value}c&&(await be.from("user_achievements").insert({user_id:i.id,achievement_id:l.id}),ge.success(` Achievement unlocked: ${l.name}!`,{description:l.description}))}}catch(i){console.error("Error checking achievements:",i)}};return{updateProgress:t,toggleMastered:e,updateStreak:r,checkAchievements:n}},vee=()=>({exportToJSON:a=>{try{const l=JSON.stringify(a,null,2),c=new Blob([l],{type:"application/json"}),u=URL.createObjectURL(c),d=document.createElement("a");d.href=u,d.download=`mandarin-vocabulary-${new Date().toISOString().split("T")[0]}.json`,d.click(),URL.revokeObjectURL(u),ge.success("Data berhasil diexport ke JSON!")}catch{ge.error("Gagal export data")}},exportToCSV:a=>{try{const l=["Hanzi","Pinyin","Meaning","HSK Level","Category","Mastered"],c=a.map(m=>{var p;return[m.hanzi,m.pinyin,m.meaning,m.hsk_level.toString(),m.category,(p=m.progress)!=null&&p.mastered?"Yes":"No"]}),u=[l,...c].map(m=>m.join(",")).join(`
`),d=new Blob([u],{type:"text/csv"}),h=URL.createObjectURL(d),f=document.createElement("a");f.href=h,f.download=`mandarin-vocabulary-${new Date().toISOString().split("T")[0]}.csv`,f.click(),URL.revokeObjectURL(h),ge.success("Data berhasil diexport ke CSV!")}catch{ge.error("Gagal export data")}},importFromJSON:async a=>{try{const{data:{user:l}}=await be.auth.getUser();if(!l)throw new Error("Not authenticated");const c=await a.text(),u=JSON.parse(c);if(!Array.isArray(u))throw new Error("Invalid JSON format");const d=[];for(const h of u){if(!h.hanzi||!h.pinyin||!h.meaning)continue;const f=h.hsk_level||h.hskLevel||"1",m=String(f).replace(/[^0-9]/g,""),p=parseInt(m,10),v=!isNaN(p)&&p>=1&&p<=6?p:1;d.push({user_id:l.id,hanzi:h.hanzi,pinyin:h.pinyin,meaning:h.meaning,hsk_level:v,category:h.category||"Umum",image_url:h.image_url})}if(d.length>0)for(let f=0;f<d.length;f+=1e3){const m=d.slice(f,f+1e3),{error:p}=await be.from("vocabulary").insert(m);if(p)throw p}ge.success(`Berhasil import ${d.length} kata!`)}catch(l){ge.error("Gagal import data: "+l.message)}},importFromCSV:async a=>{try{const{data:{user:l}}=await be.auth.getUser();if(!l)throw new Error("Not authenticated");const u=(await a.text()).split(`
`).slice(1),d=[];for(const h of u){if(!h.trim())continue;const[f,m,p,v,y]=h.split(",").map(S=>S.trim());if(!f||!m||!p)continue;const b=String(v||"1").replace(/[^0-9]/g,""),x=parseInt(b,10),_=!isNaN(x)&&x>=1&&x<=6?x:1;d.push({user_id:l.id,hanzi:f,pinyin:m,meaning:p,hsk_level:_,category:y||"Umum"})}if(d.length>0)for(let f=0;f<d.length;f+=1e3){const m=d.slice(f,f+1e3),{error:p}=await be.from("vocabulary").insert(m);if(p)throw p}ge.success(`Berhasil import ${d.length} kata!`)}catch(l){ge.error("Gagal import data: "+l.message)}},previewJSON:async a=>{try{const l=await a.text(),c=JSON.parse(l);if(!Array.isArray(c))throw new Error("Invalid JSON format");return c.map(u=>{const d=u.hsk_level||u.hskLevel||"1",h=String(d).replace(/[^0-9]/g,""),f=parseInt(h,10),m=!isNaN(f)&&f>=1&&f<=6?f:1;return{hanzi:u.hanzi||"",pinyin:u.pinyin||"",meaning:u.meaning||"",hsk_level:m,category:u.category||"Umum",isValid:!!(u.hanzi&&u.pinyin&&u.meaning)}})}catch(l){return ge.error("Gagal membaca file: "+l.message),[]}},previewCSV:async a=>{try{return(await a.text()).split(`
`).slice(1).filter(u=>u.trim()).map(u=>{const[d,h,f,m,p]=u.split(",").map(x=>x.trim()),v=String(m||"1").replace(/[^0-9]/g,""),y=parseInt(v,10),b=!isNaN(y)&&y>=1&&y<=6?y:1;return{hanzi:d||"",pinyin:h||"",meaning:f||"",hsk_level:b,category:p||"Umum",isValid:!!(d&&h&&f)}})}catch(l){return ge.error("Gagal membaca file: "+l.message),[]}},downloadTemplate:a=>{const l=["Hanzi","Pinyin","Meaning","HSK Level","Category"],c=[["","n ho","Hello",a.toString(),"Greetings"],["","xixie","Thank you",a.toString(),"Greetings"]],u=[l,...c].map(m=>m.join(",")).join(`
`),d=new Blob([u],{type:"text/csv"}),h=URL.createObjectURL(d),f=document.createElement("a");f.href=h,f.download=`template-hsk${a}.csv`,f.click(),URL.revokeObjectURL(h),ge.success(`Template HSK ${a} berhasil didownload!`)}}),yee=()=>{var M;const t=yn(),{vocabulary:e,loading:r,addVocabulary:n,updateVocabulary:i,deleteVocabulary:s}=Ol(),{toggleMastered:o}=wO(),{exportToJSON:a,exportToCSV:l,importFromJSON:c,importFromCSV:u,previewJSON:d,previewCSV:h,downloadTemplate:f}=vee(),[m,p]=w.useState("all"),[v,y]=w.useState("Semua"),[b,x]=w.useState("all"),[_,S]=w.useState(null),[C,O]=w.useState([]),[T,E]=w.useState(!1),[j,P]=w.useState(null),A=e.filter(z=>{var ee,pe;const H=m==="all"||z.hsk_level.toString()===m,U=v==="Semua"||z.category===v,q=b==="all"||b==="mastered"&&((ee=z.progress)==null?void 0:ee.mastered)||b==="unmastered"&&!((pe=z.progress)!=null&&pe.mastered);return H&&U&&q}),I=async z=>{_?(await i(_.id,z),S(null)):await n(z)},R=z=>{const H=e.find(U=>U.id===z.id);H&&S(H)},L=async z=>{var U;const H=e.find(q=>q.id===z);H&&await o(z,!((U=H.progress)!=null&&U.mastered))},$=async z=>{const H=document.createElement("input");H.type="file",H.accept=z==="json"?".json":".csv",H.onchange=async U=>{var ee;const q=(ee=U.target.files)==null?void 0:ee[0];if(q){P({type:z,file:q});const pe=z==="json"?await d(q):await h(q);O(pe),E(!0)}},H.click()},B=async()=>{j&&(E(!1),j.type==="json"?await c(j.file):await u(j.file),P(null),O([]))},N=()=>{E(!1),P(null),O([])};return r?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):g.jsxs("div",{className:"min-h-screen bg-background pt-16",children:[g.jsx("header",{className:"border-b bg-card shadow-soft sticky top-0 z-10",children:g.jsx("div",{className:"container mx-auto px-4 py-4",children:g.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(fe,{variant:"outline",size:"icon",onClick:()=>t("/"),children:g.jsx(Kf,{className:"h-4 w-4"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Daftar Kosakata"}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[A.length," kata ditemukan"]})]})]}),g.jsxs("div",{className:"flex gap-2 flex-wrap",children:[g.jsxs(mi,{onValueChange:z=>f(parseInt(z)),children:[g.jsx(Nn,{className:"w-[180px] h-9",children:g.jsx(vi,{placeholder:" Template HSK"})}),g.jsx(Rn,{children:[1,2,3,4,5,6].map(z=>g.jsxs(Ue,{value:z.toString(),children:["Template HSK ",z]},z))})]}),g.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>a(e),children:[g.jsx(bk,{className:"mr-2 h-4 w-4"}),"JSON"]}),g.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>l(e),children:[g.jsx(bk,{className:"mr-2 h-4 w-4"}),"CSV"]}),g.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>$("json"),children:[g.jsx(wk,{className:"mr-2 h-4 w-4"}),"Import JSON"]}),g.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>$("csv"),children:[g.jsx(wk,{className:"mr-2 h-4 w-4"}),"Import CSV"]}),g.jsx(QQ,{onAdd:I,editVocab:_?{id:_.id,hanzi:_.hanzi,pinyin:_.pinyin,meaning:_.meaning,hskLevel:_.hsk_level,category:_.category,mastered:((M=_.progress)==null?void 0:M.mastered)||!1}:null,onClose:()=>S(null)})]})]})})}),g.jsx("div",{className:"border-b bg-card/50 sticky top-[73px] md:top-[81px] z-10",children:g.jsx("div",{className:"container mx-auto px-4 py-4",children:g.jsxs("div",{className:"flex flex-wrap gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm font-medium text-foreground",children:"HSK:"}),g.jsxs(mi,{value:m,onValueChange:p,children:[g.jsx(Nn,{className:"w-28",children:g.jsx(vi,{})}),g.jsxs(Rn,{children:[g.jsx(Ue,{value:"all",children:"Semua"}),[1,2,3,4,5,6].map(z=>g.jsxs(Ue,{value:z.toString(),children:["HSK ",z]},z))]})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm font-medium text-foreground",children:"Kategori:"}),g.jsxs(mi,{value:v,onValueChange:y,children:[g.jsx(Nn,{className:"w-32",children:g.jsx(vi,{})}),g.jsx(Rn,{children:rm.map(z=>g.jsx(Ue,{value:z,children:z},z))})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm font-medium text-foreground",children:"Status:"}),g.jsxs(mi,{value:b,onValueChange:x,children:[g.jsx(Nn,{className:"w-32",children:g.jsx(vi,{})}),g.jsxs(Rn,{children:[g.jsx(Ue,{value:"all",children:"Semua"}),g.jsx(Ue,{value:"unmastered",children:"Belum Hafal"}),g.jsx(Ue,{value:"mastered",children:"Sudah Hafal"})]})]})]})]})})}),g.jsxs("main",{className:"container mx-auto px-4 py-8",children:[g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(z=>{var H;return g.jsx(YQ,{vocab:{id:z.id,hanzi:z.hanzi,pinyin:z.pinyin,meaning:z.meaning,hskLevel:z.hsk_level,category:z.category,mastered:((H=z.progress)==null?void 0:H.mastered)||!1},onEdit:R,onDelete:s,onToggleMastered:L},z.id)})}),A.length===0&&g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-muted-foreground text-lg",children:"Tidak ada kata. Tambahkan kata pertama Anda!"})})]}),g.jsx(gee,{open:T,onOpenChange:E,data:C,onConfirm:B,onCancel:N})]})},bee=()=>{var E,j;const{vocabulary:t,loading:e}=Ol(),{updateProgress:r}=wO(),n=yn(),[i,s]=w.useState("all"),[o,a]=w.useState(!0),[l,c]=w.useState(!1),[u,d]=w.useState(0),[h,f]=w.useState(!1),[m,p]=w.useState({hanzi:"",pinyin:"",meaning:""}),[v,y]=w.useState([]);w.useEffect(()=>{let P=t;if(i!=="all"){const $=i.split(",").map(Number);P=P.filter(B=>$.includes(B.hsk_level))}const A=P.filter($=>{var B;return!((B=$.progress)!=null&&B.mastered)}),I=P.filter($=>{var B;return(B=$.progress)==null?void 0:B.mastered}),R=I.sort(()=>Math.random()-.5).slice(0,Math.ceil(I.length*.1)),L=[...A,...R];y(L.sort(()=>Math.random()-.5))},[t,i]);const b=v,x=b[u],_=(u+1)/b.length*100,S=()=>{u<b.length-1&&(d(u+1),c(!1))},C=()=>{u>0&&(d(u-1),c(!1))},O=()=>{d(0),c(!1),s(i)},T=async()=>{x&&(await r(x.id,"easy",!0),ge.success("Ditandai sudah hafal! "),S())};return w.useEffect(()=>{d(0),c(!1)},[i]),e?g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center pt-20",children:g.jsx("p",{className:"text-muted-foreground",children:"Memuat..."})}):b.length===0?g.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8 pt-20",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-8",children:"Flashcards"}),g.jsx(qe,{children:g.jsx(nt,{className:"pt-6 text-center",children:g.jsx("p",{className:"text-muted-foreground",children:"Tidak ada kosa kata untuk ditampilkan."})})})]})}):g.jsx("div",{className:"min-h-screen bg-background p-4 pt-20",children:g.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Flashcard"}),g.jsx(fe,{onClick:()=>n("/"),variant:"outline",size:"sm",children:g.jsx(Jc,{className:"h-4 w-4"})})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-between",children:[g.jsxs(mi,{value:i,onValueChange:s,children:[g.jsx(Nn,{className:"w-32",children:g.jsx(vi,{placeholder:"HSK"})}),g.jsxs(Rn,{children:[g.jsx(Ue,{value:"all",children:"Semua"}),g.jsx(Ue,{value:"1",children:"HSK 1"}),g.jsx(Ue,{value:"2",children:"HSK 2"}),g.jsx(Ue,{value:"3",children:"HSK 3"}),g.jsx(Ue,{value:"4",children:"HSK 4"}),g.jsx(Ue,{value:"5",children:"HSK 5"}),g.jsx(Ue,{value:"6",children:"HSK 6"})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Hu,{id:"pinyin-toggle",checked:o,onCheckedChange:a}),g.jsx(Ht,{htmlFor:"pinyin-toggle",className:"text-sm",children:"Pinyin"})]}),g.jsx(fe,{onClick:O,variant:"outline",size:"sm",children:g.jsx(t_,{className:"h-4 w-4"})})]}),g.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[g.jsxs("span",{children:[u+1," / ",b.length]}),g.jsx(r0,{value:_,className:"flex-1 mx-4 h-2"})]}),g.jsx(qe,{className:"shadow-medium cursor-pointer min-h-[280px] flex flex-col justify-center",onClick:()=>c(!l),children:g.jsx(nt,{className:"pt-8 pb-8",children:l?g.jsxs("div",{className:"text-center space-y-3",children:[g.jsx("p",{className:"text-2xl md:text-3xl font-medium text-foreground",children:x.meaning}),g.jsxs("div",{className:"text-muted-foreground space-y-1",children:[g.jsx("p",{className:"text-lg",children:x.hanzi}),g.jsx("p",{className:"text-base",children:x.pinyin})]}),g.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Klik kembali"})]}):g.jsxs("div",{className:"text-center space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-foreground",children:x.hanzi}),g.jsx(fO,{text:x.hanzi})]}),o&&g.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground",children:x.pinyin}),((E=x.progress)==null?void 0:E.mastered)&&g.jsxs(yr,{variant:"outline",className:"border-success text-success",children:[g.jsx(PH,{className:"h-3 w-3 mr-1 fill-success"}),"Hafal"]}),g.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Klik untuk arti"})]})})}),!((j=x.progress)!=null&&j.mastered)&&g.jsxs(fe,{onClick:P=>{P.stopPropagation(),T()},variant:"outline",className:"w-full border-success text-success hover:bg-success hover:text-success-foreground",children:[g.jsx(_i,{className:"h-4 w-4 mr-2"}),"Tandai Sudah Hafal"]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(fe,{onClick:C,disabled:u===0,variant:"outline",size:"sm",children:g.jsx(Kf,{className:"h-4 w-4"})}),g.jsx(fe,{onClick:S,disabled:u===b.length-1,variant:"outline",size:"sm",children:g.jsx(GD,{className:"h-4 w-4"})})]})]})})},xee=()=>{const{vocabulary:t,loading:e}=Ol(),{updateProgress:r}=wO(),n=yn(),[i,s]=w.useState("all"),[o,a]=w.useState(!0),[l,c]=w.useState("meaning"),[u,d]=w.useState(!1),[h,f]=w.useState(0),[m,p]=w.useState(null),[v,y]=w.useState(null),[b,x]=w.useState(0),[_,S]=w.useState(!1),[C,O]=w.useState([]),[T,E]=w.useState("10"),j=w.useMemo(()=>{let $=t;if(i!=="all"){const B=i.split(",").map(Number);$=$.filter(N=>B.includes(N.hsk_level))}return $},[t,i]),P=C[h],A=(h+1)/C.length*100,I=()=>{const $=parseInt(T),N=[...j].sort(()=>Math.random()-.5).slice(0,Math.min($,j.length)).map(M=>{if(l==="meaning"){const H=[...t.filter(U=>U.id!==M.id&&U.hsk_level===M.hsk_level).sort(()=>Math.random()-.5).slice(0,3).map(U=>U.meaning),M.meaning].sort(()=>Math.random()-.5);return{id:M.id,hanzi:M.hanzi,pinyin:M.pinyin,correctAnswer:M.meaning,options:H}}else{const H=[...t.filter(U=>U.id!==M.id&&U.hsk_level===M.hsk_level).sort(()=>Math.random()-.5).slice(0,3).map(U=>U.hanzi),M.hanzi].sort(()=>Math.random()-.5);return{id:M.id,hanzi:M.meaning,pinyin:M.pinyin,correctAnswer:M.hanzi,options:H}}});O(N),d(!0),f(0),x(0),p(null),y(null),S(!1)},R=async $=>{if(_||!P)return;S(!0),p($);const B=$===P.correctAnswer;y(B),B?(x(b+1),await r(P.id,"easy")):await r(P.id,"again")},L=()=>{h<C.length-1?(f(h+1),p(null),y(null),S(!1)):(ge.success(`Quiz selesai! Skor: ${b+1}/${C.length}`),d(!1))};return w.useEffect(()=>{d(!1)},[i]),e?g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center pt-20",children:g.jsx("p",{className:"text-muted-foreground",children:"Memuat..."})}):u?C.length===0?g.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8 pt-20",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-8",children:"Quiz"}),g.jsx(qe,{children:g.jsxs(nt,{className:"pt-6 text-center",children:[g.jsx("p",{className:"text-muted-foreground",children:"Tidak ada kosa kata untuk quiz."}),g.jsx(fe,{onClick:()=>d(!1),className:"mt-4",children:"Kembali"})]})})]})}):g.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8 pt-20",children:g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(fe,{onClick:()=>n("/"),variant:"ghost",size:"sm",children:g.jsx(Jc,{className:"h-4 w-4"})}),g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Quiz"})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-sm text-muted-foreground",children:"Skor"}),g.jsxs("p",{className:"text-2xl font-bold text-primary",children:[b,"/",C.length]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[g.jsxs("span",{children:["Pertanyaan ",h+1," dari ",C.length]}),g.jsxs("span",{children:[Math.round(A),"%"]})]}),g.jsx(r0,{value:A,className:"h-2"})]}),g.jsx(qe,{className:"shadow-medium",children:g.jsxs(nt,{className:"pt-8 pb-8 space-y-8",children:[g.jsxs("div",{className:"text-center space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-center gap-3",children:[g.jsx("h2",{className:"text-3xl sm:text-4xl md:text-6xl font-bold text-foreground break-words max-w-full px-2",children:P.hanzi}),g.jsx(fO,{text:P.pinyin})]}),o&&g.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-muted-foreground break-words px-2",children:P.pinyin}),g.jsx("p",{className:"text-base sm:text-lg text-muted-foreground pt-4 px-2",children:l==="meaning"?"Pilih arti yang benar:":"Pilih hanzi yang benar:"})]}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:P.options.map(($,B)=>{const N=m===$,M=$===P.correctAnswer,z=v!==null;let H="outline",U="";return z&&(M?(H="default",U="bg-success hover:bg-success border-success"):N&&!M&&(H="destructive")),g.jsx(fe,{onClick:()=>R($),disabled:_,variant:H,className:`h-auto py-3 sm:py-4 text-base sm:text-lg justify-start text-left ${U}`,children:g.jsxs("span",{className:"flex items-center gap-2 sm:gap-3 w-full",children:[g.jsxs("span",{className:"font-bold text-sm sm:text-base",children:[String.fromCharCode(65+B),"."]}),g.jsx("span",{className:"flex-1 break-words",children:$}),z&&M&&g.jsx(_i,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),z&&N&&!M&&g.jsx(Mm,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"})]})},B)})}),v!==null&&g.jsx("div",{className:"flex justify-center pt-4",children:g.jsx(fe,{onClick:L,size:"lg",children:h<C.length-1?g.jsxs(g.Fragment,{children:["Lanjut",g.jsx(GD,{className:"h-4 w-4 ml-2"})]}):"Lihat Hasil"})})]})})]})}):g.jsx("div",{className:"min-h-screen bg-background p-4 pt-20",children:g.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Quiz"}),g.jsx(fe,{onClick:()=>n("/"),variant:"outline",size:"sm",children:g.jsx(Jc,{className:"h-4 w-4"})})]}),g.jsx(qe,{className:"shadow-medium",children:g.jsxs(nt,{className:"pt-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx(Ht,{className:"text-sm font-medium mb-2 block",children:"Level HSK"}),g.jsxs(mi,{value:i,onValueChange:s,children:[g.jsx(Nn,{children:g.jsx(vi,{placeholder:"Pilih HSK"})}),g.jsxs(Rn,{children:[g.jsx(Ue,{value:"all",children:"Semua HSK"}),g.jsx(Ue,{value:"1",children:"HSK 1"}),g.jsx(Ue,{value:"2",children:"HSK 2"}),g.jsx(Ue,{value:"3",children:"HSK 3"}),g.jsx(Ue,{value:"4",children:"HSK 4"}),g.jsx(Ue,{value:"5",children:"HSK 5"}),g.jsx(Ue,{value:"6",children:"HSK 6"})]})]})]}),g.jsxs("div",{children:[g.jsx(Ht,{className:"text-sm font-medium mb-2 block",children:"Mode Quiz"}),g.jsxs(mi,{value:l,onValueChange:$=>c($),children:[g.jsx(Nn,{children:g.jsx(vi,{})}),g.jsxs(Rn,{children:[g.jsx(Ue,{value:"meaning",children:"Tebak Arti dari Hanzi"}),g.jsx(Ue,{value:"hanzi",children:"Tebak Hanzi dari Arti"})]})]})]}),g.jsxs("div",{children:[g.jsx(Ht,{className:"text-sm font-medium mb-2 block",children:"Jumlah Soal"}),g.jsxs(mi,{value:T,onValueChange:E,children:[g.jsx(Nn,{children:g.jsx(vi,{})}),g.jsxs(Rn,{children:[g.jsx(Ue,{value:"5",children:"5 Soal"}),g.jsx(Ue,{value:"10",children:"10 Soal"}),g.jsx(Ue,{value:"15",children:"15 Soal"}),g.jsx(Ue,{value:"20",children:"20 Soal"}),g.jsx(Ue,{value:"30",children:"30 Soal"})]})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Hu,{id:"quiz-pinyin",checked:o,onCheckedChange:a}),g.jsx(Ht,{htmlFor:"quiz-pinyin",className:"text-sm",children:"Tampilkan Pinyin"})]}),g.jsx(fe,{onClick:I,size:"lg",className:"w-full",children:"Mulai Quiz"})]})})]})})};var wee=Array.isArray,Kr=wee,_ee=typeof mp=="object"&&mp&&mp.Object===Object&&mp,N4=_ee,See=N4,Cee=typeof self=="object"&&self&&self.Object===Object&&self,Oee=See||Cee||Function("return this")(),os=Oee,Tee=os,Eee=Tee.Symbol,ep=Eee,oj=ep,R4=Object.prototype,kee=R4.hasOwnProperty,Pee=R4.toString,Sd=oj?oj.toStringTag:void 0;function jee(t){var e=kee.call(t,Sd),r=t[Sd];try{t[Sd]=void 0;var n=!0}catch{}var i=Pee.call(t);return n&&(e?t[Sd]=r:delete t[Sd]),i}var Aee=jee,Nee=Object.prototype,Ree=Nee.toString;function Mee(t){return Ree.call(t)}var $ee=Mee,aj=ep,Dee=Aee,Iee=$ee,Lee="[object Null]",Fee="[object Undefined]",lj=aj?aj.toStringTag:void 0;function Bee(t){return t==null?t===void 0?Fee:Lee:lj&&lj in Object(t)?Dee(t):Iee(t)}var qs=Bee;function zee(t){return t!=null&&typeof t=="object"}var Ys=zee,Uee=qs,Wee=Ys,Vee="[object Symbol]";function Hee(t){return typeof t=="symbol"||Wee(t)&&Uee(t)==Vee}var Ku=Hee,Gee=Kr,Kee=Ku,qee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yee=/^\w*$/;function Xee(t,e){if(Gee(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Kee(t)?!0:Yee.test(t)||!qee.test(t)||e!=null&&t in Object(e)}var _O=Xee;function Zee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var sa=Zee;const qu=Xe(sa);var Jee=qs,Qee=sa,ete="[object AsyncFunction]",tte="[object Function]",rte="[object GeneratorFunction]",nte="[object Proxy]";function ite(t){if(!Qee(t))return!1;var e=Jee(t);return e==tte||e==rte||e==ete||e==nte}var SO=ite;const xe=Xe(SO);var ste=os,ote=ste["__core-js_shared__"],ate=ote,px=ate,cj=function(){var t=/[^.]+$/.exec(px&&px.keys&&px.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function lte(t){return!!cj&&cj in t}var cte=lte,ute=Function.prototype,dte=ute.toString;function hte(t){if(t!=null){try{return dte.call(t)}catch{}try{return t+""}catch{}}return""}var M4=hte,fte=SO,pte=cte,gte=sa,mte=M4,vte=/[\\^$.*+?()[\]{}|]/g,yte=/^\[object .+?Constructor\]$/,bte=Function.prototype,xte=Object.prototype,wte=bte.toString,_te=xte.hasOwnProperty,Ste=RegExp("^"+wte.call(_te).replace(vte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Cte(t){if(!gte(t)||pte(t))return!1;var e=fte(t)?Ste:yte;return e.test(mte(t))}var Ote=Cte;function Tte(t,e){return t==null?void 0:t[e]}var Ete=Tte,kte=Ote,Pte=Ete;function jte(t,e){var r=Pte(t,e);return kte(r)?r:void 0}var Tl=jte,Ate=Tl,Nte=Ate(Object,"create"),c0=Nte,uj=c0;function Rte(){this.__data__=uj?uj(null):{},this.size=0}var Mte=Rte;function $te(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Dte=$te,Ite=c0,Lte="__lodash_hash_undefined__",Fte=Object.prototype,Bte=Fte.hasOwnProperty;function zte(t){var e=this.__data__;if(Ite){var r=e[t];return r===Lte?void 0:r}return Bte.call(e,t)?e[t]:void 0}var Ute=zte,Wte=c0,Vte=Object.prototype,Hte=Vte.hasOwnProperty;function Gte(t){var e=this.__data__;return Wte?e[t]!==void 0:Hte.call(e,t)}var Kte=Gte,qte=c0,Yte="__lodash_hash_undefined__";function Xte(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=qte&&e===void 0?Yte:e,this}var Zte=Xte,Jte=Mte,Qte=Dte,ere=Ute,tre=Kte,rre=Zte;function Yu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Yu.prototype.clear=Jte;Yu.prototype.delete=Qte;Yu.prototype.get=ere;Yu.prototype.has=tre;Yu.prototype.set=rre;var nre=Yu;function ire(){this.__data__=[],this.size=0}var sre=ire;function ore(t,e){return t===e||t!==t&&e!==e}var CO=ore,are=CO;function lre(t,e){for(var r=t.length;r--;)if(are(t[r][0],e))return r;return-1}var u0=lre,cre=u0,ure=Array.prototype,dre=ure.splice;function hre(t){var e=this.__data__,r=cre(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():dre.call(e,r,1),--this.size,!0}var fre=hre,pre=u0;function gre(t){var e=this.__data__,r=pre(e,t);return r<0?void 0:e[r][1]}var mre=gre,vre=u0;function yre(t){return vre(this.__data__,t)>-1}var bre=yre,xre=u0;function wre(t,e){var r=this.__data__,n=xre(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var _re=wre,Sre=sre,Cre=fre,Ore=mre,Tre=bre,Ere=_re;function Xu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xu.prototype.clear=Sre;Xu.prototype.delete=Cre;Xu.prototype.get=Ore;Xu.prototype.has=Tre;Xu.prototype.set=Ere;var d0=Xu,kre=Tl,Pre=os,jre=kre(Pre,"Map"),OO=jre,dj=nre,Are=d0,Nre=OO;function Rre(){this.size=0,this.__data__={hash:new dj,map:new(Nre||Are),string:new dj}}var Mre=Rre;function $re(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Dre=$re,Ire=Dre;function Lre(t,e){var r=t.__data__;return Ire(e)?r[typeof e=="string"?"string":"hash"]:r.map}var h0=Lre,Fre=h0;function Bre(t){var e=Fre(this,t).delete(t);return this.size-=e?1:0,e}var zre=Bre,Ure=h0;function Wre(t){return Ure(this,t).get(t)}var Vre=Wre,Hre=h0;function Gre(t){return Hre(this,t).has(t)}var Kre=Gre,qre=h0;function Yre(t,e){var r=qre(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Xre=Yre,Zre=Mre,Jre=zre,Qre=Vre,ene=Kre,tne=Xre;function Zu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Zu.prototype.clear=Zre;Zu.prototype.delete=Jre;Zu.prototype.get=Qre;Zu.prototype.has=ene;Zu.prototype.set=tne;var TO=Zu,$4=TO,rne="Expected a function";function EO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(rne);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(EO.Cache||$4),r}EO.Cache=$4;var D4=EO;const nne=Xe(D4);var ine=D4,sne=500;function one(t){var e=ine(t,function(n){return r.size===sne&&r.clear(),n}),r=e.cache;return e}var ane=one,lne=ane,cne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,une=/\\(\\)?/g,dne=lne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(cne,function(r,n,i,s){e.push(i?s.replace(une,"$1"):n||r)}),e}),hne=dne;function fne(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var kO=fne,hj=ep,pne=kO,gne=Kr,mne=Ku,fj=hj?hj.prototype:void 0,pj=fj?fj.toString:void 0;function I4(t){if(typeof t=="string")return t;if(gne(t))return pne(t,I4)+"";if(mne(t))return pj?pj.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var vne=I4,yne=vne;function bne(t){return t==null?"":yne(t)}var L4=bne,xne=Kr,wne=_O,_ne=hne,Sne=L4;function Cne(t,e){return xne(t)?t:wne(t,e)?[t]:_ne(Sne(t))}var F4=Cne,One=Ku;function Tne(t){if(typeof t=="string"||One(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var f0=Tne,Ene=F4,kne=f0;function Pne(t,e){e=Ene(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[kne(e[r++])];return r&&r==n?t:void 0}var PO=Pne,jne=PO;function Ane(t,e,r){var n=t==null?void 0:jne(t,e);return n===void 0?r:n}var B4=Ane;const hn=Xe(B4);function Nne(t){return t==null}var Rne=Nne;const ke=Xe(Rne);var Mne=qs,$ne=Kr,Dne=Ys,Ine="[object String]";function Lne(t){return typeof t=="string"||!$ne(t)&&Dne(t)&&Mne(t)==Ine}var Fne=Lne;const pl=Xe(Fne);var z4={exports:{}},Je={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jO=Symbol.for("react.element"),AO=Symbol.for("react.portal"),p0=Symbol.for("react.fragment"),g0=Symbol.for("react.strict_mode"),m0=Symbol.for("react.profiler"),v0=Symbol.for("react.provider"),y0=Symbol.for("react.context"),Bne=Symbol.for("react.server_context"),b0=Symbol.for("react.forward_ref"),x0=Symbol.for("react.suspense"),w0=Symbol.for("react.suspense_list"),_0=Symbol.for("react.memo"),S0=Symbol.for("react.lazy"),zne=Symbol.for("react.offscreen"),U4;U4=Symbol.for("react.module.reference");function Wn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case jO:switch(t=t.type,t){case p0:case m0:case g0:case x0:case w0:return t;default:switch(t=t&&t.$$typeof,t){case Bne:case y0:case b0:case S0:case _0:case v0:return t;default:return e}}case AO:return e}}}Je.ContextConsumer=y0;Je.ContextProvider=v0;Je.Element=jO;Je.ForwardRef=b0;Je.Fragment=p0;Je.Lazy=S0;Je.Memo=_0;Je.Portal=AO;Je.Profiler=m0;Je.StrictMode=g0;Je.Suspense=x0;Je.SuspenseList=w0;Je.isAsyncMode=function(){return!1};Je.isConcurrentMode=function(){return!1};Je.isContextConsumer=function(t){return Wn(t)===y0};Je.isContextProvider=function(t){return Wn(t)===v0};Je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===jO};Je.isForwardRef=function(t){return Wn(t)===b0};Je.isFragment=function(t){return Wn(t)===p0};Je.isLazy=function(t){return Wn(t)===S0};Je.isMemo=function(t){return Wn(t)===_0};Je.isPortal=function(t){return Wn(t)===AO};Je.isProfiler=function(t){return Wn(t)===m0};Je.isStrictMode=function(t){return Wn(t)===g0};Je.isSuspense=function(t){return Wn(t)===x0};Je.isSuspenseList=function(t){return Wn(t)===w0};Je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===p0||t===m0||t===g0||t===x0||t===w0||t===zne||typeof t=="object"&&t!==null&&(t.$$typeof===S0||t.$$typeof===_0||t.$$typeof===v0||t.$$typeof===y0||t.$$typeof===b0||t.$$typeof===U4||t.getModuleId!==void 0)};Je.typeOf=Wn;z4.exports=Je;var Une=z4.exports,Wne=qs,Vne=Ys,Hne="[object Number]";function Gne(t){return typeof t=="number"||Vne(t)&&Wne(t)==Hne}var W4=Gne;const Kne=Xe(W4);var qne=W4;function Yne(t){return qne(t)&&t!=+t}var Xne=Yne;const tp=Xe(Xne);var Er=function(e){return e===0?0:e>0?1:-1},Da=function(e){return pl(e)&&e.indexOf("%")===e.length-1},J=function(e){return Kne(e)&&!tp(e)},Zne=function(e){return ke(e)},qt=function(e){return J(e)||pl(e)},Jne=0,Ju=function(e){var r=++Jne;return"".concat(e||"").concat(r)},kr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!J(e)&&!pl(e))return n;var s;if(Da(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return tp(s)&&(s=n),i&&s>r&&(s=r),s},bo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Qne=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},sn=function(e,r){return J(e)&&J(r)?function(n){return e+n*(r-e)}:function(){return r}};function tv(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):hn(n,e))===r})}var eie=function(e,r){return J(e)&&J(r)?e-r:pl(e)&&pl(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function jc(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function W_(t){"@babel/helpers - typeof";return W_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W_(t)}var tie=["viewBox","children"],rie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gj=["points","pathLength"],gx={svg:tie,polygon:gj,polyline:gj},NO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rv=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),!qu(n))return null;var i={};return Object.keys(n).forEach(function(s){NO.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},nie=function(e,r,n){return function(i){return e(r,n,i),null}},gl=function(e,r,n){if(!qu(e)||W_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];NO.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=nie(o,r,n))}),i},iie=["children"],sie=["children"];function mj(t,e){if(t==null)return{};var r=oie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function V_(t){"@babel/helpers - typeof";return V_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V_(t)}var vj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ps=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},yj=null,mx=null,RO=function t(e){if(e===yj&&Array.isArray(mx))return mx;var r=[];return w.Children.forEach(e,function(n){ke(n)||(Une.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),mx=r,yj=e,r};function fn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ps(i)}):n=[Ps(e)],RO(t).forEach(function(i){var s=hn(i,"type.displayName")||hn(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function rn(t,e){var r=fn(t,e);return r&&r[0]}var bj=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!J(n)||n<=0||!J(i)||i<=0)},aie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lie=function(e){return e&&e.type&&pl(e.type)&&aie.indexOf(e.type)>=0},cie=function(e){return e&&V_(e)==="object"&&"clipDot"in e},uie=function(e,r,n,i){var s,o=(s=gx==null?void 0:gx[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!xe(e)&&(i&&o.includes(r)||rie.includes(r))||n&&NO.includes(r)},me=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(w.isValidElement(e)&&(i=e.props),!qu(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;uie((a=i)===null||a===void 0?void 0:a[o],o,r,n)&&(s[o]=i[o])}),s},H_=function t(e,r){if(e===r)return!0;var n=w.Children.count(e);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return xj(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!xj(s,o))return!1}return!0},xj=function(e,r){if(ke(e)&&ke(r))return!0;if(!ke(e)&&!ke(r)){var n=e.props||{},i=n.children,s=mj(n,iie),o=r.props||{},a=o.children,l=mj(o,sie);return i&&a?jc(s,l)&&H_(i,a):!i&&!a?jc(s,l):!1}return!1},wj=function(e,r){var n=[],i={};return RO(e).forEach(function(s,o){if(lie(s))n.push(s);else if(s){var a=Ps(s.type),l=r[a]||{},c=l.handler,u=l.once;if(c&&(!u||!i[a])){var d=c(s,a,o);n.push(d),i[a]=!0}}}),n},die=function(e){var r=e&&e.type;return r&&vj[r]?vj[r]:null},hie=function(e,r){return RO(r).indexOf(e)},fie=["children","width","height","viewBox","className","style","title","desc"];function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G_.apply(this,arguments)}function pie(t,e){if(t==null)return{};var r=gie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K_(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,c=pie(t,fie),u=i||{width:r,height:n,x:0,y:0},d=je("recharts-surface",s);return k.createElement("svg",G_({},me(c,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),k.createElement("title",null,a),k.createElement("desc",null,l),e)}var mie=["children","className"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q_.apply(this,arguments)}function vie(t,e){if(t==null)return{};var r=yie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ve=k.forwardRef(function(t,e){var r=t.children,n=t.className,i=vie(t,mie),s=je("recharts-layer",n);return k.createElement("g",q_({className:s},me(i,!0),{ref:e}),r)}),Si=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function bie(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}var xie=bie,wie=xie;function _ie(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:wie(t,e,r)}var Sie=_ie,Cie="\\ud800-\\udfff",Oie="\\u0300-\\u036f",Tie="\\ufe20-\\ufe2f",Eie="\\u20d0-\\u20ff",kie=Oie+Tie+Eie,Pie="\\ufe0e\\ufe0f",jie="\\u200d",Aie=RegExp("["+jie+Cie+kie+Pie+"]");function Nie(t){return Aie.test(t)}var V4=Nie;function Rie(t){return t.split("")}var Mie=Rie,H4="\\ud800-\\udfff",$ie="\\u0300-\\u036f",Die="\\ufe20-\\ufe2f",Iie="\\u20d0-\\u20ff",Lie=$ie+Die+Iie,Fie="\\ufe0e\\ufe0f",Bie="["+H4+"]",Y_="["+Lie+"]",X_="\\ud83c[\\udffb-\\udfff]",zie="(?:"+Y_+"|"+X_+")",G4="[^"+H4+"]",K4="(?:\\ud83c[\\udde6-\\uddff]){2}",q4="[\\ud800-\\udbff][\\udc00-\\udfff]",Uie="\\u200d",Y4=zie+"?",X4="["+Fie+"]?",Wie="(?:"+Uie+"(?:"+[G4,K4,q4].join("|")+")"+X4+Y4+")*",Vie=X4+Y4+Wie,Hie="(?:"+[G4+Y_+"?",Y_,K4,q4,Bie].join("|")+")",Gie=RegExp(X_+"(?="+X_+")|"+Hie+Vie,"g");function Kie(t){return t.match(Gie)||[]}var qie=Kie,Yie=Mie,Xie=V4,Zie=qie;function Jie(t){return Xie(t)?Zie(t):Yie(t)}var Qie=Jie,ese=Sie,tse=V4,rse=Qie,nse=L4;function ise(t){return function(e){e=nse(e);var r=tse(e)?rse(e):void 0,n=r?r[0]:e.charAt(0),i=r?ese(r,1).join(""):e.slice(1);return n[t]()+i}}var sse=ise,ose=sse,ase=ose("toUpperCase"),lse=ase;const C0=Xe(lse);function at(t){return function(){return t}}const Z4=Math.cos,nv=Math.sin,Ai=Math.sqrt,iv=Math.PI,O0=2*iv,Z_=Math.PI,J_=2*Z_,Sa=1e-6,cse=J_-Sa;function J4(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function use(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return J4;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class dse{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?J4:use(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=n-e,c=i-r,u=o-e,d=a-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Sa)if(!(Math.abs(d*l-c*u)>Sa)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-o,m=i-a,p=l*l+c*c,v=f*f+m*m,y=Math.sqrt(p),b=Math.sqrt(h),x=s*Math.tan((Z_-Math.acos((p+h-v)/(2*y*b)))/2),_=x/b,S=x/y;Math.abs(_-1)>Sa&&this._append`L${e+_*u},${r+_*d}`,this._append`A${s},${s},0,0,${+(d*f>u*m)},${this._x1=e+S*l},${this._y1=r+S*c}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),l=n*Math.sin(i),c=e+a,u=r+l,d=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Sa||Math.abs(this._y1-u)>Sa)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%J_+J_),h>cse?this._append`A${n},${n},0,1,${d},${e-a},${r-l}A${n},${n},0,1,${d},${this._x1=c},${this._y1=u}`:h>Sa&&this._append`A${n},${n},0,${+(h>=Z_)},${d},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function MO(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new dse(e)}function $O(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Q4(t){this._context=t}Q4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function T0(t){return new Q4(t)}function e5(t){return t[0]}function t5(t){return t[1]}function r5(t,e){var r=at(!0),n=null,i=T0,s=null,o=MO(a);t=typeof t=="function"?t:t===void 0?e5:at(t),e=typeof e=="function"?e:e===void 0?t5:at(e);function a(l){var c,u=(l=$O(l)).length,d,h=!1,f;for(n==null&&(s=i(f=o())),c=0;c<=u;++c)!(c<u&&r(d=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(d,c,l),+e(d,c,l));if(f)return s=null,f+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:at(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:at(+l),a):e},a.defined=function(l){return arguments.length?(r=typeof l=="function"?l:at(!!l),a):r},a.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),a):i},a.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),a):n},a}function Qp(t,e,r){var n=null,i=at(!0),s=null,o=T0,a=null,l=MO(c);t=typeof t=="function"?t:t===void 0?e5:at(+t),e=typeof e=="function"?e:at(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?t5:at(+r);function c(d){var h,f,m,p=(d=$O(d)).length,v,y=!1,b,x=new Array(p),_=new Array(p);for(s==null&&(a=o(b=l())),h=0;h<=p;++h){if(!(h<p&&i(v=d[h],h,d))===y)if(y=!y)f=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=h-1;m>=f;--m)a.point(x[m],_[m]);a.lineEnd(),a.areaEnd()}y&&(x[h]=+t(v,h,d),_[h]=+e(v,h,d),a.point(n?+n(v,h,d):x[h],r?+r(v,h,d):_[h]))}if(b)return a=null,b+""||null}function u(){return r5().defined(i).curve(o).context(s)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:at(+d),n=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:at(+d),c):t},c.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:at(+d),c):n},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:at(+d),r=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:at(+d),c):e},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:at(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:at(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,s!=null&&(a=o(s)),c):o},c.context=function(d){return arguments.length?(d==null?s=a=null:a=o(s=d),c):s},c}class n5{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function hse(t){return new n5(t,!0)}function fse(t){return new n5(t,!1)}const DO={draw(t,e){const r=Ai(e/iv);t.moveTo(r,0),t.arc(0,0,r,0,O0)}},pse={draw(t,e){const r=Ai(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},i5=Ai(1/3),gse=i5*2,mse={draw(t,e){const r=Ai(e/gse),n=r*i5;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},vse={draw(t,e){const r=Ai(e),n=-r/2;t.rect(n,n,r,r)}},yse=.8908130915292852,s5=nv(iv/10)/nv(7*iv/10),bse=nv(O0/10)*s5,xse=-Z4(O0/10)*s5,wse={draw(t,e){const r=Ai(e*yse),n=bse*r,i=xse*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=O0*s/5,a=Z4(o),l=nv(o);t.lineTo(l*r,-a*r),t.lineTo(a*n-l*i,l*n+a*i)}t.closePath()}},vx=Ai(3),_se={draw(t,e){const r=-Ai(e/(vx*3));t.moveTo(0,r*2),t.lineTo(-vx*r,-r),t.lineTo(vx*r,-r),t.closePath()}},xn=-.5,wn=Ai(3)/2,Q_=1/Ai(12),Sse=(Q_/2+1)*3,Cse={draw(t,e){const r=Ai(e/Sse),n=r/2,i=r*Q_,s=n,o=r*Q_+r,a=-s,l=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(xn*n-wn*i,wn*n+xn*i),t.lineTo(xn*s-wn*o,wn*s+xn*o),t.lineTo(xn*a-wn*l,wn*a+xn*l),t.lineTo(xn*n+wn*i,xn*i-wn*n),t.lineTo(xn*s+wn*o,xn*o-wn*s),t.lineTo(xn*a+wn*l,xn*l-wn*a),t.closePath()}};function Ose(t,e){let r=null,n=MO(i);t=typeof t=="function"?t:at(t||DO),e=typeof e=="function"?e:at(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:at(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:at(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function sv(){}function ov(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function o5(t){this._context=t}o5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ov(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tse(t){return new o5(t)}function a5(t){this._context=t}a5.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ese(t){return new a5(t)}function l5(t){this._context=t}l5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ov(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kse(t){return new l5(t)}function c5(t){this._context=t}c5.prototype={areaStart:sv,areaEnd:sv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Pse(t){return new c5(t)}function _j(t){return t<0?-1:1}function Sj(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),a=(s*i+o*n)/(n+i);return(_j(s)+_j(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function Cj(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function yx(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-n)/3;t._context.bezierCurveTo(n+a,i+a*e,s-a,o-a*r,s,o)}function av(t){this._context=t}av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yx(this,this._t0,Cj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yx(this,Cj(this,r=Sj(this,t,e)),r);break;default:yx(this,this._t0,r=Sj(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function u5(t){this._context=new d5(t)}(u5.prototype=Object.create(av.prototype)).point=function(t,e){av.prototype.point.call(this,e,t)};function d5(t){this._context=t}d5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function jse(t){return new av(t)}function Ase(t){return new u5(t)}function h5(t){this._context=t}h5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=Oj(t),i=Oj(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Oj(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Nse(t){return new h5(t)}function E0(t,e){this._context=t,this._t=e}E0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Rse(t){return new E0(t,.5)}function Mse(t){return new E0(t,0)}function $se(t){return new E0(t,1)}function au(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,a=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function eS(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Dse(t,e){return t[e]}function Ise(t){const e=[];return e.key=t,e}function Lse(){var t=at([]),e=eS,r=au,n=Dse;function i(s){var o=Array.from(t.apply(this,arguments),Ise),a,l=o.length,c=-1,u;for(const d of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+n(d,o[a].key,c,s)]).data=d;for(a=0,u=$O(e(o));a<l;++a)o[u[a]].index=a;return r(o,u),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:at(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:at(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?eS:typeof s=="function"?s:at(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??au,i):r},i}function Fse(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}au(t,e)}}function Bse(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,a=0;o<i;++o)a+=t[o][r][1]||0;n[r][1]+=n[r][0]=-a/2}au(t,e)}}function zse(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var a=0,l=0,c=0;a<o;++a){for(var u=t[e[a]],d=u[n][1]||0,h=u[n-1][1]||0,f=(d-h)/2,m=0;m<a;++m){var p=t[e[m]],v=p[n][1]||0,y=p[n-1][1]||0;f+=v-y}l+=d,c+=f*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,au(t,e)}}function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}var Use=["type","size","sizeType"];function tS(){return tS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tS.apply(this,arguments)}function Tj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ej(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tj(Object(r),!0).forEach(function(n){Wse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wse(t,e,r){return e=Vse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vse(t){var e=Hse(t,"string");return qh(e)=="symbol"?e:e+""}function Hse(t,e){if(qh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gse(t,e){if(t==null)return{};var r=Kse(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var f5={symbolCircle:DO,symbolCross:pse,symbolDiamond:mse,symbolSquare:vse,symbolStar:wse,symbolTriangle:_se,symbolWye:Cse},qse=Math.PI/180,Yse=function(e){var r="symbol".concat(C0(e));return f5[r]||DO},Xse=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*qse;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Zse=function(e,r){f5["symbol".concat(C0(e))]=r},IO=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=Gse(e,Use),c=Ej(Ej({},l),{},{type:n,size:s,sizeType:a}),u=function(){var v=Yse(n),y=Ose().type(v).size(Xse(s,a,n));return y()},d=c.className,h=c.cx,f=c.cy,m=me(c,!0);return h===+h&&f===+f&&s===+s?k.createElement("path",tS({},m,{className:je("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:u()})):null};IO.registerSymbol=Zse;function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function rS(){return rS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rS.apply(this,arguments)}function kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jse(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(r),!0).forEach(function(n){Yh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g5(n.key),n)}}function toe(t,e,r){return e&&eoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function roe(t,e,r){return e=lv(e),noe(t,p5()?Reflect.construct(e,r||[],lv(t).constructor):e.apply(t,r))}function noe(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ioe(t)}function ioe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p5=function(){return!!t})()}function lv(t){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lv(t)}function soe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nS(t,e)}function nS(t,e){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nS(t,e)}function Yh(t,e,r){return e=g5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g5(t){var e=ooe(t,"string");return lu(e)=="symbol"?e:e+""}function ooe(t,e){if(lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _n=32,LO=function(t){function e(){return Qse(this,e),roe(this,e,arguments)}return soe(e,t),toe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=_n/2,o=_n/6,a=_n/3,l=n.inactive?i:n.color;if(n.type==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:_n,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(_n,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return k.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(_n/8,"h").concat(_n,"v").concat(_n*3/4,"h").concat(-_n,"z"),className:"recharts-legend-icon"});if(k.isValidElement(n.legendIcon)){var c=Jse({},n);return delete c.legendIcon,k.cloneElement(n.legendIcon,c)}return k.createElement(IO,{fill:l,cx:s,cy:s,size:_n,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:_n,height:_n},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(f,m){var p=f.formatter||l,v=je(Yh(Yh({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",f.inactive));if(f.type==="none")return null;var y=xe(f.value)?null:f.value;Si(!xe(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=f.inactive?c:f.color;return k.createElement("li",rS({className:v,style:d,key:"legend-item-".concat(m)},gl(n.props,f,m)),k.createElement(K_,{width:o,height:o,viewBox:u,style:h},n.renderIcon(f)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(y,f,m):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(w.PureComponent);Yh(LO,"displayName","Legend");Yh(LO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var aoe=d0;function loe(){this.__data__=new aoe,this.size=0}var coe=loe;function uoe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var doe=uoe;function hoe(t){return this.__data__.get(t)}var foe=hoe;function poe(t){return this.__data__.has(t)}var goe=poe,moe=d0,voe=OO,yoe=TO,boe=200;function xoe(t,e){var r=this.__data__;if(r instanceof moe){var n=r.__data__;if(!voe||n.length<boe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new yoe(n)}return r.set(t,e),this.size=r.size,this}var woe=xoe,_oe=d0,Soe=coe,Coe=doe,Ooe=foe,Toe=goe,Eoe=woe;function Qu(t){var e=this.__data__=new _oe(t);this.size=e.size}Qu.prototype.clear=Soe;Qu.prototype.delete=Coe;Qu.prototype.get=Ooe;Qu.prototype.has=Toe;Qu.prototype.set=Eoe;var m5=Qu,koe="__lodash_hash_undefined__";function Poe(t){return this.__data__.set(t,koe),this}var joe=Poe;function Aoe(t){return this.__data__.has(t)}var Noe=Aoe,Roe=TO,Moe=joe,$oe=Noe;function cv(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Roe;++e<r;)this.add(t[e])}cv.prototype.add=cv.prototype.push=Moe;cv.prototype.has=$oe;var v5=cv;function Doe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var y5=Doe;function Ioe(t,e){return t.has(e)}var b5=Ioe,Loe=v5,Foe=y5,Boe=b5,zoe=1,Uoe=2;function Woe(t,e,r,n,i,s){var o=r&zoe,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,f=r&Uoe?new Loe:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var m=t[d],p=e[d];if(n)var v=o?n(p,m,d,e,t,s):n(m,p,d,t,e,s);if(v!==void 0){if(v)continue;h=!1;break}if(f){if(!Foe(e,function(y,b){if(!Boe(f,b)&&(m===y||i(m,y,r,n,s)))return f.push(b)})){h=!1;break}}else if(!(m===p||i(m,p,r,n,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var x5=Woe,Voe=os,Hoe=Voe.Uint8Array,Goe=Hoe;function Koe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var qoe=Koe;function Yoe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var FO=Yoe,Pj=ep,jj=Goe,Xoe=CO,Zoe=x5,Joe=qoe,Qoe=FO,eae=1,tae=2,rae="[object Boolean]",nae="[object Date]",iae="[object Error]",sae="[object Map]",oae="[object Number]",aae="[object RegExp]",lae="[object Set]",cae="[object String]",uae="[object Symbol]",dae="[object ArrayBuffer]",hae="[object DataView]",Aj=Pj?Pj.prototype:void 0,bx=Aj?Aj.valueOf:void 0;function fae(t,e,r,n,i,s,o){switch(r){case hae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case dae:return!(t.byteLength!=e.byteLength||!s(new jj(t),new jj(e)));case rae:case nae:case oae:return Xoe(+t,+e);case iae:return t.name==e.name&&t.message==e.message;case aae:case cae:return t==e+"";case sae:var a=Joe;case lae:var l=n&eae;if(a||(a=Qoe),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;n|=tae,o.set(t,e);var u=Zoe(a(t),a(e),n,i,s,o);return o.delete(t),u;case uae:if(bx)return bx.call(t)==bx.call(e)}return!1}var pae=fae;function gae(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var w5=gae,mae=w5,vae=Kr;function yae(t,e,r){var n=e(t);return vae(t)?n:mae(n,r(t))}var bae=yae;function xae(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}var wae=xae;function _ae(){return[]}var Sae=_ae,Cae=wae,Oae=Sae,Tae=Object.prototype,Eae=Tae.propertyIsEnumerable,Nj=Object.getOwnPropertySymbols,kae=Nj?function(t){return t==null?[]:(t=Object(t),Cae(Nj(t),function(e){return Eae.call(t,e)}))}:Oae,Pae=kae;function jae(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Aae=jae,Nae=qs,Rae=Ys,Mae="[object Arguments]";function $ae(t){return Rae(t)&&Nae(t)==Mae}var Dae=$ae,Rj=Dae,Iae=Ys,_5=Object.prototype,Lae=_5.hasOwnProperty,Fae=_5.propertyIsEnumerable,Bae=Rj(function(){return arguments}())?Rj:function(t){return Iae(t)&&Lae.call(t,"callee")&&!Fae.call(t,"callee")},BO=Bae,uv={exports:{}};function zae(){return!1}var Uae=zae;uv.exports;(function(t,e){var r=os,n=Uae,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?r.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||n;t.exports=c})(uv,uv.exports);var S5=uv.exports,Wae=9007199254740991,Vae=/^(?:0|[1-9]\d*)$/;function Hae(t,e){var r=typeof t;return e=e??Wae,!!e&&(r=="number"||r!="symbol"&&Vae.test(t))&&t>-1&&t%1==0&&t<e}var zO=Hae,Gae=9007199254740991;function Kae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Gae}var UO=Kae,qae=qs,Yae=UO,Xae=Ys,Zae="[object Arguments]",Jae="[object Array]",Qae="[object Boolean]",ele="[object Date]",tle="[object Error]",rle="[object Function]",nle="[object Map]",ile="[object Number]",sle="[object Object]",ole="[object RegExp]",ale="[object Set]",lle="[object String]",cle="[object WeakMap]",ule="[object ArrayBuffer]",dle="[object DataView]",hle="[object Float32Array]",fle="[object Float64Array]",ple="[object Int8Array]",gle="[object Int16Array]",mle="[object Int32Array]",vle="[object Uint8Array]",yle="[object Uint8ClampedArray]",ble="[object Uint16Array]",xle="[object Uint32Array]",ft={};ft[hle]=ft[fle]=ft[ple]=ft[gle]=ft[mle]=ft[vle]=ft[yle]=ft[ble]=ft[xle]=!0;ft[Zae]=ft[Jae]=ft[ule]=ft[Qae]=ft[dle]=ft[ele]=ft[tle]=ft[rle]=ft[nle]=ft[ile]=ft[sle]=ft[ole]=ft[ale]=ft[lle]=ft[cle]=!1;function wle(t){return Xae(t)&&Yae(t.length)&&!!ft[qae(t)]}var _le=wle;function Sle(t){return function(e){return t(e)}}var C5=Sle,dv={exports:{}};dv.exports;(function(t,e){var r=N4,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(dv,dv.exports);var Cle=dv.exports,Ole=_le,Tle=C5,Mj=Cle,$j=Mj&&Mj.isTypedArray,Ele=$j?Tle($j):Ole,O5=Ele,kle=Aae,Ple=BO,jle=Kr,Ale=S5,Nle=zO,Rle=O5,Mle=Object.prototype,$le=Mle.hasOwnProperty;function Dle(t,e){var r=jle(t),n=!r&&Ple(t),i=!r&&!n&&Ale(t),s=!r&&!n&&!i&&Rle(t),o=r||n||i||s,a=o?kle(t.length,String):[],l=a.length;for(var c in t)(e||$le.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Nle(c,l)))&&a.push(c);return a}var Ile=Dle,Lle=Object.prototype;function Fle(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Lle;return t===r}var Ble=Fle;function zle(t,e){return function(r){return t(e(r))}}var T5=zle,Ule=T5,Wle=Ule(Object.keys,Object),Vle=Wle,Hle=Ble,Gle=Vle,Kle=Object.prototype,qle=Kle.hasOwnProperty;function Yle(t){if(!Hle(t))return Gle(t);var e=[];for(var r in Object(t))qle.call(t,r)&&r!="constructor"&&e.push(r);return e}var Xle=Yle,Zle=SO,Jle=UO;function Qle(t){return t!=null&&Jle(t.length)&&!Zle(t)}var rp=Qle,ece=Ile,tce=Xle,rce=rp;function nce(t){return rce(t)?ece(t):tce(t)}var k0=nce,ice=bae,sce=Pae,oce=k0;function ace(t){return ice(t,oce,sce)}var lce=ace,Dj=lce,cce=1,uce=Object.prototype,dce=uce.hasOwnProperty;function hce(t,e,r,n,i,s){var o=r&cce,a=Dj(t),l=a.length,c=Dj(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in e:dce.call(e,h)))return!1}var f=s.get(t),m=s.get(e);if(f&&m)return f==e&&m==t;var p=!0;s.set(t,e),s.set(e,t);for(var v=o;++d<l;){h=a[d];var y=t[h],b=e[h];if(n)var x=o?n(b,y,h,e,t,s):n(y,b,h,t,e,s);if(!(x===void 0?y===b||i(y,b,r,n,s):x)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var _=t.constructor,S=e.constructor;_!=S&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(p=!1)}return s.delete(t),s.delete(e),p}var fce=hce,pce=Tl,gce=os,mce=pce(gce,"DataView"),vce=mce,yce=Tl,bce=os,xce=yce(bce,"Promise"),wce=xce,_ce=Tl,Sce=os,Cce=_ce(Sce,"Set"),E5=Cce,Oce=Tl,Tce=os,Ece=Oce(Tce,"WeakMap"),kce=Ece,iS=vce,sS=OO,oS=wce,aS=E5,lS=kce,k5=qs,ed=M4,Ij="[object Map]",Pce="[object Object]",Lj="[object Promise]",Fj="[object Set]",Bj="[object WeakMap]",zj="[object DataView]",jce=ed(iS),Ace=ed(sS),Nce=ed(oS),Rce=ed(aS),Mce=ed(lS),Ca=k5;(iS&&Ca(new iS(new ArrayBuffer(1)))!=zj||sS&&Ca(new sS)!=Ij||oS&&Ca(oS.resolve())!=Lj||aS&&Ca(new aS)!=Fj||lS&&Ca(new lS)!=Bj)&&(Ca=function(t){var e=k5(t),r=e==Pce?t.constructor:void 0,n=r?ed(r):"";if(n)switch(n){case jce:return zj;case Ace:return Ij;case Nce:return Lj;case Rce:return Fj;case Mce:return Bj}return e});var $ce=Ca,xx=m5,Dce=x5,Ice=pae,Lce=fce,Uj=$ce,Wj=Kr,Vj=S5,Fce=O5,Bce=1,Hj="[object Arguments]",Gj="[object Array]",eg="[object Object]",zce=Object.prototype,Kj=zce.hasOwnProperty;function Uce(t,e,r,n,i,s){var o=Wj(t),a=Wj(e),l=o?Gj:Uj(t),c=a?Gj:Uj(e);l=l==Hj?eg:l,c=c==Hj?eg:c;var u=l==eg,d=c==eg,h=l==c;if(h&&Vj(t)){if(!Vj(e))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new xx),o||Fce(t)?Dce(t,e,r,n,i,s):Ice(t,e,l,r,n,i,s);if(!(r&Bce)){var f=u&&Kj.call(t,"__wrapped__"),m=d&&Kj.call(e,"__wrapped__");if(f||m){var p=f?t.value():t,v=m?e.value():e;return s||(s=new xx),i(p,v,r,n,s)}}return h?(s||(s=new xx),Lce(t,e,r,n,i,s)):!1}var Wce=Uce,Vce=Wce,qj=Ys;function P5(t,e,r,n,i){return t===e?!0:t==null||e==null||!qj(t)&&!qj(e)?t!==t&&e!==e:Vce(t,e,r,n,P5,i)}var WO=P5,Hce=m5,Gce=WO,Kce=1,qce=2;function Yce(t,e,r,n){var i=r.length,s=i,o=!n;if(t==null)return!s;for(t=Object(t);i--;){var a=r[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=r[i];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new Hce;if(n)var h=n(c,u,l,t,e,d);if(!(h===void 0?Gce(u,c,Kce|qce,n,d):h))return!1}}return!0}var Xce=Yce,Zce=sa;function Jce(t){return t===t&&!Zce(t)}var j5=Jce,Qce=j5,eue=k0;function tue(t){for(var e=eue(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Qce(i)]}return e}var rue=tue;function nue(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var A5=nue,iue=Xce,sue=rue,oue=A5;function aue(t){var e=sue(t);return e.length==1&&e[0][2]?oue(e[0][0],e[0][1]):function(r){return r===t||iue(r,t,e)}}var lue=aue;function cue(t,e){return t!=null&&e in Object(t)}var uue=cue,due=F4,hue=BO,fue=Kr,pue=zO,gue=UO,mue=f0;function vue(t,e,r){e=due(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var o=mue(e[n]);if(!(s=t!=null&&r(t,o)))break;t=t[o]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&gue(i)&&pue(o,i)&&(fue(t)||hue(t)))}var yue=vue,bue=uue,xue=yue;function wue(t,e){return t!=null&&xue(t,e,bue)}var _ue=wue,Sue=WO,Cue=B4,Oue=_ue,Tue=_O,Eue=j5,kue=A5,Pue=f0,jue=1,Aue=2;function Nue(t,e){return Tue(t)&&Eue(e)?kue(Pue(t),e):function(r){var n=Cue(r,t);return n===void 0&&n===e?Oue(r,t):Sue(e,n,jue|Aue)}}var Rue=Nue;function Mue(t){return t}var td=Mue;function $ue(t){return function(e){return e==null?void 0:e[t]}}var Due=$ue,Iue=PO;function Lue(t){return function(e){return Iue(e,t)}}var Fue=Lue,Bue=Due,zue=Fue,Uue=_O,Wue=f0;function Vue(t){return Uue(t)?Bue(Wue(t)):zue(t)}var Hue=Vue,Gue=lue,Kue=Rue,que=td,Yue=Kr,Xue=Hue;function Zue(t){return typeof t=="function"?t:t==null?que:typeof t=="object"?Yue(t)?Kue(t[0],t[1]):Gue(t):Xue(t)}var as=Zue;function Jue(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var N5=Jue;function Que(t){return t!==t}var ede=Que;function tde(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var rde=tde,nde=N5,ide=ede,sde=rde;function ode(t,e,r){return e===e?sde(t,e,r):nde(t,ide,r)}var ade=ode,lde=ade;function cde(t,e){var r=t==null?0:t.length;return!!r&&lde(t,e,0)>-1}var ude=cde;function dde(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var hde=dde;function fde(){}var pde=fde,wx=E5,gde=pde,mde=FO,vde=1/0,yde=wx&&1/mde(new wx([,-0]))[1]==vde?function(t){return new wx(t)}:gde,bde=yde,xde=v5,wde=ude,_de=hde,Sde=b5,Cde=bde,Ode=FO,Tde=200;function Ede(t,e,r){var n=-1,i=wde,s=t.length,o=!0,a=[],l=a;if(r)o=!1,i=_de;else if(s>=Tde){var c=e?null:Cde(t);if(c)return Ode(c);o=!1,i=Sde,l=new xde}else l=e?[]:a;e:for(;++n<s;){var u=t[n],d=e?e(u):u;if(u=r||u!==0?u:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(u)}else i(l,d,r)||(l!==a&&l.push(d),a.push(u))}return a}var kde=Ede,Pde=as,jde=kde;function Ade(t,e){return t&&t.length?jde(t,Pde(e)):[]}var Nde=Ade;const Yj=Xe(Nde);function R5(t,e,r){return e===!0?Yj(t,r):xe(e)?Yj(t,e):t}function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}var Rde=["ref"];function Xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(r),!0).forEach(function(n){P0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$5(n.key),n)}}function $de(t,e,r){return e&&Zj(t.prototype,e),r&&Zj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dde(t,e,r){return e=hv(e),Ide(t,M5()?Reflect.construct(e,r||[],hv(t).constructor):e.apply(t,r))}function Ide(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lde(t)}function Lde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M5=function(){return!!t})()}function hv(t){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hv(t)}function Fde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cS(t,e)}function cS(t,e){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cS(t,e)}function P0(t,e,r){return e=$5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $5(t){var e=Bde(t,"string");return cu(e)=="symbol"?e:e+""}function Bde(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zde(t,e){if(t==null)return{};var r=Ude(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ude(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wde(t){return t.value}function Vde(t,e){if(k.isValidElement(t))return k.cloneElement(t,e);if(typeof t=="function")return k.createElement(t,e);e.ref;var r=zde(e,Rde);return k.createElement(LO,r)}var Jj=1,Uo=function(t){function e(){var r;Mde(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Dde(this,e,[].concat(i)),P0(r,"lastBoundingBox",{width:-1,height:-1}),r}return Fde(e,t),$de(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Jj||Math.abs(i.height-this.lastBoundingBox.height)>Jj)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?us({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var f=this.getBBoxSnapshot();d={left:((c||0)-f.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(a==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return us(us({},d),h)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=us(us({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return k.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){n.wrapperNode=f}},Vde(s,us(us({},this.props),{},{payload:R5(u,c,Wde)})))}}],[{key:"getWithHeight",value:function(n,i){var s=us(us({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&J(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(w.PureComponent);P0(Uo,"displayName","Legend");P0(Uo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Qj=ep,Hde=BO,Gde=Kr,eA=Qj?Qj.isConcatSpreadable:void 0;function Kde(t){return Gde(t)||Hde(t)||!!(eA&&t&&t[eA])}var qde=Kde,Yde=w5,Xde=qde;function D5(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=Xde),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?D5(a,e-1,r,n,i):Yde(i,a):n||(i[i.length]=a)}return i}var I5=D5;function Zde(t){return function(e,r,n){for(var i=-1,s=Object(e),o=n(e),a=o.length;a--;){var l=o[t?a:++i];if(r(s[l],l,s)===!1)break}return e}}var Jde=Zde,Qde=Jde,ehe=Qde(),the=ehe,rhe=the,nhe=k0;function ihe(t,e){return t&&rhe(t,e,nhe)}var L5=ihe,she=rp;function ohe(t,e){return function(r,n){if(r==null)return r;if(!she(r))return t(r,n);for(var i=r.length,s=e?i:-1,o=Object(r);(e?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}var ahe=ohe,lhe=L5,che=ahe,uhe=che(lhe),VO=uhe,dhe=VO,hhe=rp;function fhe(t,e){var r=-1,n=hhe(t)?Array(t.length):[];return dhe(t,function(i,s,o){n[++r]=e(i,s,o)}),n}var F5=fhe;function phe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var ghe=phe,tA=Ku;function mhe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=tA(t),o=e!==void 0,a=e===null,l=e===e,c=tA(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||n&&o&&l||!r&&l||!i)return 1;if(!n&&!s&&!c&&t<e||c&&r&&i&&!n&&!s||a&&r&&i||!o&&i||!l)return-1}return 0}var vhe=mhe,yhe=vhe;function bhe(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,o=i.length,a=r.length;++n<o;){var l=yhe(i[n],s[n]);if(l){if(n>=a)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return t.index-e.index}var xhe=bhe,_x=kO,whe=PO,_he=as,She=F5,Che=ghe,Ohe=C5,The=xhe,Ehe=td,khe=Kr;function Phe(t,e,r){e.length?e=_x(e,function(s){return khe(s)?function(o){return whe(o,s.length===1?s[0]:s)}:s}):e=[Ehe];var n=-1;e=_x(e,Ohe(_he));var i=She(t,function(s,o,a){var l=_x(e,function(c){return c(s)});return{criteria:l,index:++n,value:s}});return Che(i,function(s,o){return The(s,o,r)})}var jhe=Phe;function Ahe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Nhe=Ahe,Rhe=Nhe,rA=Math.max;function Mhe(t,e,r){return e=rA(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=rA(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),Rhe(t,this,a)}}var $he=Mhe;function Dhe(t){return function(){return t}}var Ihe=Dhe,Lhe=Tl,Fhe=function(){try{var t=Lhe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),B5=Fhe,Bhe=Ihe,nA=B5,zhe=td,Uhe=nA?function(t,e){return nA(t,"toString",{configurable:!0,enumerable:!1,value:Bhe(e),writable:!0})}:zhe,Whe=Uhe,Vhe=800,Hhe=16,Ghe=Date.now;function Khe(t){var e=0,r=0;return function(){var n=Ghe(),i=Hhe-(n-r);if(r=n,i>0){if(++e>=Vhe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var qhe=Khe,Yhe=Whe,Xhe=qhe,Zhe=Xhe(Yhe),Jhe=Zhe,Qhe=td,efe=$he,tfe=Jhe;function rfe(t,e){return tfe(efe(t,e,Qhe),t+"")}var nfe=rfe,ife=CO,sfe=rp,ofe=zO,afe=sa;function lfe(t,e,r){if(!afe(r))return!1;var n=typeof e;return(n=="number"?sfe(r)&&ofe(e,r.length):n=="string"&&e in r)?ife(r[e],t):!1}var j0=lfe,cfe=I5,ufe=jhe,dfe=nfe,iA=j0,hfe=dfe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&iA(t,e[0],e[1])?e=[]:r>2&&iA(e[0],e[1],e[2])&&(e=[e[0]]),ufe(t,cfe(e,1),[])}),ffe=hfe;const HO=Xe(ffe);function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uS.apply(this,arguments)}function pfe(t,e){return yfe(t)||vfe(t,e)||mfe(t,e)||gfe()}function gfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mfe(t,e){if(t){if(typeof t=="string")return sA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(t,e)}}function sA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function yfe(t){if(Array.isArray(t))return t}function oA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(r),!0).forEach(function(n){bfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bfe(t,e,r){return e=xfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xfe(t){var e=wfe(t,"string");return Xh(e)=="symbol"?e:e+""}function wfe(t,e){if(Xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _fe(t){return Array.isArray(t)&&qt(t[0])&&qt(t[1])?t.join(" ~ "):t}var Sfe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,m=e.labelClassName,p=e.label,v=e.labelFormatter,y=e.accessibilityLayer,b=y===void 0?!1:y,x=function(){if(u&&u.length){var A={padding:0,margin:0},I=(h?HO(u,h):u).map(function(R,L){if(R.type==="none")return null;var $=Sx({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},a),B=R.formatter||d||_fe,N=R.value,M=R.name,z=N,H=M;if(B&&z!=null&&H!=null){var U=B(N,M,R,L,u);if(Array.isArray(U)){var q=pfe(U,2);z=q[0],H=q[1]}else z=U}return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:$},qt(H)?k.createElement("span",{className:"recharts-tooltip-item-name"},H):null,qt(H)?k.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,k.createElement("span",{className:"recharts-tooltip-item-value"},z),k.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:A},I)}return null},_=Sx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=Sx({margin:0},c),C=!ke(p),O=C?p:"",T=je("recharts-default-tooltip",f),E=je("recharts-tooltip-label",m);C&&v&&u!==void 0&&u!==null&&(O=v(p,u));var j=b?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",uS({className:T,style:_},j),k.createElement("p",{className:E,style:S},k.isValidElement(O)?O:"".concat(O)),x())};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function tg(t,e,r){return e=Cfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cfe(t){var e=Ofe(t,"string");return Zh(e)=="symbol"?e:e+""}function Ofe(t,e){if(Zh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cd="recharts-tooltip-wrapper",Tfe={visibility:"hidden"};function Efe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return je(Cd,tg(tg(tg(tg({},"".concat(Cd,"-right"),J(r)&&e&&J(e.x)&&r>=e.x),"".concat(Cd,"-left"),J(r)&&e&&J(e.x)&&r<e.x),"".concat(Cd,"-bottom"),J(n)&&e&&J(e.y)&&n>=e.y),"".concat(Cd,"-top"),J(n)&&e&&J(e.y)&&n<e.y))}function aA(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&J(s[n]))return s[n];var u=r[n]-a-i,d=r[n]+i;if(e[n])return o[n]?u:d;if(o[n]){var h=u,f=l[n];return h<f?Math.max(d,l[n]):Math.max(u,l[n])}var m=d+a,p=l[n]+c;return m>p?Math.max(u,l[n]):Math.max(d,l[n])}function kfe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Pfe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,u,d;return o.height>0&&o.width>0&&r?(u=aA({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=aA({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=kfe({translateX:u,translateY:d,useTranslate3d:a})):c=Tfe,{cssProperties:c,cssClasses:Efe({translateX:u,translateY:d,coordinate:r})}}function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function lA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(r),!0).forEach(function(n){hS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Afe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U5(n.key),n)}}function Nfe(t,e,r){return e&&Afe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rfe(t,e,r){return e=fv(e),Mfe(t,z5()?Reflect.construct(e,r||[],fv(t).constructor):e.apply(t,r))}function Mfe(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $fe(t)}function $fe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z5=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fv(t)}function Dfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dS(t,e)}function dS(t,e){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dS(t,e)}function hS(t,e,r){return e=U5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U5(t){var e=Ife(t,"string");return uu(e)=="symbol"?e:e+""}function Ife(t,e){if(uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uA=1,Lfe=function(t){function e(){var r;jfe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Rfe(this,e,[].concat(i)),hS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),hS(r,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return Dfe(e,t),Nfe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>uA||Math.abs(n.height-this.state.lastBoundingBox.height)>uA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,f=i.offset,m=i.position,p=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,x=Pfe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),_=x.cssClasses,S=x.cssProperties,C=cA(cA({transition:h&&s?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return k.createElement("div",{tabIndex:-1,className:_,style:C,ref:function(T){n.wrapperNode=T}},c)}}])}(w.PureComponent),Ffe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},El={isSsr:Ffe()};function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function dA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(r),!0).forEach(function(n){GO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V5(n.key),n)}}function Ufe(t,e,r){return e&&zfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wfe(t,e,r){return e=pv(e),Vfe(t,W5()?Reflect.construct(e,r||[],pv(t).constructor):e.apply(t,r))}function Vfe(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hfe(t)}function Hfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W5=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pv(t)}function Gfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fS(t,e)}function fS(t,e){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fS(t,e)}function GO(t,e,r){return e=V5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V5(t){var e=Kfe(t,"string");return du(e)=="symbol"?e:e+""}function Kfe(t,e){if(du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qfe(t){return t.dataKey}function Yfe(t,e){return k.isValidElement(t)?k.cloneElement(t,e):typeof t=="function"?k.createElement(t,e):k.createElement(Sfe,e)}var Di=function(t){function e(){return Bfe(this,e),Wfe(this,e,arguments)}return Gfe(e,t),Ufe(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,h=i.isAnimationActive,f=i.offset,m=i.payload,p=i.payloadUniqBy,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,_=i.wrapperStyle,S=m??[];d&&S.length&&(S=R5(m.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),p,qfe));var C=S.length>0;return k.createElement(Lfe,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:h,active:s,coordinate:u,hasPayload:C,offset:f,position:v,reverseDirection:y,useTranslate3d:b,viewBox:x,wrapperStyle:_},Yfe(c,hA(hA({},this.props),{},{payload:S})))}}])}(w.PureComponent);GO(Di,"displayName","Tooltip");GO(Di,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!El.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Xfe=os,Zfe=function(){return Xfe.Date.now()},Jfe=Zfe,Qfe=/\s/;function epe(t){for(var e=t.length;e--&&Qfe.test(t.charAt(e)););return e}var tpe=epe,rpe=tpe,npe=/^\s+/;function ipe(t){return t&&t.slice(0,rpe(t)+1).replace(npe,"")}var spe=ipe,ope=spe,fA=sa,ape=Ku,pA=NaN,lpe=/^[-+]0x[0-9a-f]+$/i,cpe=/^0b[01]+$/i,upe=/^0o[0-7]+$/i,dpe=parseInt;function hpe(t){if(typeof t=="number")return t;if(ape(t))return pA;if(fA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=fA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ope(t);var r=cpe.test(t);return r||upe.test(t)?dpe(t.slice(2),r?2:8):lpe.test(t)?pA:+t}var H5=hpe,fpe=sa,Cx=Jfe,gA=H5,ppe="Expected a function",gpe=Math.max,mpe=Math.min;function vpe(t,e,r){var n,i,s,o,a,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(ppe);e=gA(e)||0,fpe(r)&&(u=!!r.leading,d="maxWait"in r,s=d?gpe(gA(r.maxWait)||0,e):s,h="trailing"in r?!!r.trailing:h);function f(C){var O=n,T=i;return n=i=void 0,c=C,o=t.apply(T,O),o}function m(C){return c=C,a=setTimeout(y,e),u?f(C):o}function p(C){var O=C-l,T=C-c,E=e-O;return d?mpe(E,s-T):E}function v(C){var O=C-l,T=C-c;return l===void 0||O>=e||O<0||d&&T>=s}function y(){var C=Cx();if(v(C))return b(C);a=setTimeout(y,p(C))}function b(C){return a=void 0,h&&n?f(C):(n=i=void 0,o)}function x(){a!==void 0&&clearTimeout(a),c=0,n=l=i=a=void 0}function _(){return a===void 0?o:b(Cx())}function S(){var C=Cx(),O=v(C);if(n=arguments,i=this,l=C,O){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(y,e),f(l)}return a===void 0&&(a=setTimeout(y,e)),o}return S.cancel=x,S.flush=_,S}var ype=vpe,bpe=ype,xpe=sa,wpe="Expected a function";function _pe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(wpe);return xpe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),bpe(t,e,{leading:n,maxWait:e,trailing:i})}var Spe=_pe;const G5=Xe(Spe);function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function mA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(r),!0).forEach(function(n){Cpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cpe(t,e,r){return e=Ope(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ope(t){var e=Tpe(t,"string");return Jh(e)=="symbol"?e:e+""}function Tpe(t,e){if(Jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Epe(t,e){return Ape(t)||jpe(t,e)||Ppe(t,e)||kpe()}function kpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ppe(t,e){if(t){if(typeof t=="string")return vA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vA(t,e)}}function vA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Ape(t){if(Array.isArray(t))return t}var Ud=w.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,f=t.children,m=t.debounce,p=m===void 0?0:m,v=t.id,y=t.className,b=t.onResize,x=t.style,_=x===void 0?{}:x,S=w.useRef(null),C=w.useRef();C.current=b,w.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var O=w.useState({containerWidth:i.width,containerHeight:i.height}),T=Epe(O,2),E=T[0],j=T[1],P=w.useCallback(function(I,R){j(function(L){var $=Math.round(I),B=Math.round(R);return L.containerWidth===$&&L.containerHeight===B?L:{containerWidth:$,containerHeight:B}})},[]);w.useEffect(function(){var I=function(M){var z,H=M[0].contentRect,U=H.width,q=H.height;P(U,q),(z=C.current)===null||z===void 0||z.call(C,U,q)};p>0&&(I=G5(I,p,{trailing:!0,leading:!1}));var R=new ResizeObserver(I),L=S.current.getBoundingClientRect(),$=L.width,B=L.height;return P($,B),R.observe(S.current),function(){R.disconnect()}},[P,p]);var A=w.useMemo(function(){var I=E.containerWidth,R=E.containerHeight;if(I<0||R<0)return null;Si(Da(o)||Da(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Si(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Da(o)?I:o,$=Da(l)?R:l;r&&r>0&&(L?$=L/r:$&&(L=$*r),h&&$>h&&($=h)),Si(L>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,$,o,l,u,d,r);var B=!Array.isArray(f)&&Ps(f.type).endsWith("Chart");return k.Children.map(f,function(N){return k.isValidElement(N)?w.cloneElement(N,rg({width:L,height:$},B?{style:rg({height:"100%",width:"100%",maxHeight:$,maxWidth:L},N.props.style)}:{})):N})},[r,f,l,h,d,u,E,o]);return k.createElement("div",{id:v?"".concat(v):void 0,className:je("recharts-responsive-container",y),style:rg(rg({},_),{},{width:o,height:l,minWidth:u,minHeight:d,maxHeight:h}),ref:S},A)}),A0=function(e){return null};A0.displayName="Cell";function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function yA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(r),!0).forEach(function(n){Npe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Npe(t,e,r){return e=Rpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rpe(t){var e=Mpe(t,"string");return Qh(e)=="symbol"?e:e+""}function Mpe(t,e){if(Qh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vl={widthCache:{},cacheCount:0},$pe=2e3,Dpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bA="recharts_measurement_span";function Ipe(t){var e=pS({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var lh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||El.isSsr)return{width:0,height:0};var n=Ipe(r),i=JSON.stringify({text:e,copyStyle:n});if(Vl.widthCache[i])return Vl.widthCache[i];try{var s=document.getElementById(bA);s||(s=document.createElement("span"),s.setAttribute("id",bA),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=pS(pS({},Dpe),n);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return Vl.widthCache[i]=l,++Vl.cacheCount>$pe&&(Vl.cacheCount=0,Vl.widthCache={}),l}catch{return{width:0,height:0}}},Lpe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function gv(t,e){return Upe(t)||zpe(t,e)||Bpe(t,e)||Fpe()}function Fpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bpe(t,e){if(t){if(typeof t=="string")return xA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xA(t,e)}}function xA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Upe(t){if(Array.isArray(t))return t}function Wpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hpe(n.key),n)}}function Vpe(t,e,r){return e&&wA(t.prototype,e),r&&wA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hpe(t){var e=Gpe(t,"string");return ef(e)=="symbol"?e:e+""}function Gpe(t,e){if(ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _A=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,K5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Ype=Object.keys(K5),hc="NaN";function Xpe(t,e){return t*K5[e]}var ng=function(){function t(e,r){Wpe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Kpe.test(r)&&(this.num=NaN,this.unit=""),Ype.includes(r)&&(this.num=Xpe(e,r),this.unit="px")}return Vpe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=qpe.exec(r))!==null&&n!==void 0?n:[],s=gv(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])}();function q5(t){if(t.includes(hc))return hc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=_A.exec(e))!==null&&r!==void 0?r:[],i=gv(n,4),s=i[1],o=i[2],a=i[3],l=ng.parse(s??""),c=ng.parse(a??""),u=o==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return hc;e=e.replace(_A,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=SA.exec(e))!==null&&d!==void 0?d:[],f=gv(h,4),m=f[1],p=f[2],v=f[3],y=ng.parse(m??""),b=ng.parse(v??""),x=p==="+"?y.add(b):y.subtract(b);if(x.isNaN())return hc;e=e.replace(SA,x.toString())}return e}var CA=/\(([^()]*)\)/;function Zpe(t){for(var e=t;e.includes("(");){var r=CA.exec(e),n=gv(r,2),i=n[1];e=e.replace(CA,q5(i))}return e}function Jpe(t){var e=t.replace(/\s+/g,"");return e=Zpe(e),e=q5(e),e}function Qpe(t){try{return Jpe(t)}catch{return hc}}function Ox(t){var e=Qpe(t.slice(5,-1));return e===hc?"":e}var ege=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tge=["dx","dy","angle","className","breakAll"];function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gS.apply(this,arguments)}function OA(t,e){if(t==null)return{};var r=rge(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function TA(t,e){return oge(t)||sge(t,e)||ige(t,e)||nge()}function nge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ige(t,e){if(t){if(typeof t=="string")return EA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EA(t,e)}}function EA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function oge(t){if(Array.isArray(t))return t}var Y5=/[ \f\n\r\t\v\u2028\u2029]+/,X5=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];ke(r)||(n?s=r.toString().split(""):s=r.toString().split(Y5));var o=s.map(function(l){return{word:l,width:lh(l,i).width}}),a=n?0:lh("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},age=function(e,r,n,i,s){var o=e.maxLines,a=e.children,l=e.style,c=e.breakAll,u=J(o),d=a,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function($,B){var N=B.word,M=B.width,z=$[$.length-1];if(z&&(i==null||s||z.width+M+n<Number(i)))z.words.push(N),z.width+=M+n;else{var H={words:[N],width:M};$.push(H)}return $},[])},f=h(r),m=function(L){return L.reduce(function($,B){return $.width>B.width?$:B})};if(!u)return f;for(var p="",v=function(L){var $=d.slice(0,L),B=X5({breakAll:c,style:l,children:$+p}).wordsWithComputedWidth,N=h(B),M=N.length>o||m(N).width>Number(i);return[M,N]},y=0,b=d.length-1,x=0,_;y<=b&&x<=d.length-1;){var S=Math.floor((y+b)/2),C=S-1,O=v(C),T=TA(O,2),E=T[0],j=T[1],P=v(S),A=TA(P,1),I=A[0];if(!E&&!I&&(y=S+1),E&&I&&(b=S-1),!E&&I){_=j;break}x++}return _||f},kA=function(e){var r=ke(e)?[]:e.toString().split(Y5);return[{words:r}]},lge=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((r||n)&&!El.isSsr){var l,c,u=X5({breakAll:o,children:i,style:s});if(u){var d=u.wordsWithComputedWidth,h=u.spaceWidth;l=d,c=h}else return kA(i);return age({breakAll:o,children:i,maxLines:a,style:s},l,c,r,n)}return kA(i)},PA="#808080",ml=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,h=e.textAnchor,f=h===void 0?"start":h,m=e.verticalAnchor,p=m===void 0?"end":m,v=e.fill,y=v===void 0?PA:v,b=OA(e,ege),x=w.useMemo(function(){return lge({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),_=b.dx,S=b.dy,C=b.angle,O=b.className,T=b.breakAll,E=OA(b,tge);if(!qt(n)||!qt(s))return null;var j=n+(J(_)?_:0),P=s+(J(S)?S:0),A;switch(p){case"start":A=Ox("calc(".concat(c,")"));break;case"middle":A=Ox("calc(".concat((x.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:A=Ox("calc(".concat(x.length-1," * -").concat(a,")"));break}var I=[];if(d){var R=x[0].width,L=b.width;I.push("scale(".concat((J(L)?L/R:1)/R,")"))}return C&&I.push("rotate(".concat(C,", ").concat(j,", ").concat(P,")")),I.length&&(E.transform=I.join(" ")),k.createElement("text",gS({},me(E,!0),{x:j,y:P,className:je("recharts-text",O),textAnchor:f,fill:y.includes("url")?PA:y}),x.map(function($,B){var N=$.words.join(T?"":" ");return k.createElement("tspan",{x:j,dy:B===0?A:a,key:"".concat(N,"-").concat(B)},N)}))};function Wo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cge(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KO(t){let e,r,n;t.length!==2?(e=Wo,r=(a,l)=>Wo(t(a),l),n=(a,l)=>t(a)-l):(e=t===Wo||t===cge?t:uge,r=t,n=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;r(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){const d=i(a,l,c,u-1);return d>c&&n(a[d-1],l)>-n(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function uge(){return 0}function Z5(t){return t===null?NaN:+t}function*dge(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const hge=KO(Wo),np=hge.right;KO(Z5).center;class jA extends Map{constructor(e,r=gge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(AA(this,e))}has(e){return super.has(AA(this,e))}set(e,r){return super.set(fge(this,e),r)}delete(e){return super.delete(pge(this,e))}}function AA({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function fge({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function pge({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function gge(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mge(t=Wo){if(t===Wo)return J5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function J5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vge=Math.sqrt(50),yge=Math.sqrt(10),bge=Math.sqrt(2);function mv(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=vge?10:s>=yge?5:s>=bge?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=r&&r<2?mv(t,e,r*2):[a,l,c]}function mS(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?mv(e,t,r):mv(t,e,r);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(n)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function vS(t,e,r){return e=+e,t=+t,r=+r,mv(t,e,r)[2]}function yS(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?vS(e,t,r):vS(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function NA(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function RA(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Q5(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?J5:mge(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),f=Math.max(r,Math.floor(e-c*d/l+h)),m=Math.min(n,Math.floor(e+(l-c)*d/l+h));Q5(t,e,f,m,i)}const s=t[e];let o=r,a=n;for(Od(t,r,e),i(t[n],s)>0&&Od(t,r,n);o<a;){for(Od(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[r],s)===0?Od(t,r,a):(++a,Od(t,a,n)),a<=e&&(r=a+1),e<=a&&(n=a-1)}return t}function Od(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function xge(t,e,r){if(t=Float64Array.from(dge(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return RA(t);if(e>=1)return NA(t);var n,i=(n-1)*e,s=Math.floor(i),o=NA(Q5(t,s).subarray(0,s+1)),a=RA(t.subarray(s+1));return o+(a-o)*(i-s)}}function wge(t,e,r=Z5){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),a=+r(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function _ge(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Vn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const bS=Symbol("implicit");function qO(){var t=new jA,e=[],r=[],n=bS;function i(s){let o=t.get(s);if(o===void 0){if(n!==bS)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new jA;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return qO(e,r).unknown(n)},Vn.apply(i,arguments),i}function tf(){var t=qO().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,a=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var h=e().length,f=i<n,m=f?i:n,p=f?n:i;s=(p-m)/Math.max(1,h-l+c*2),a&&(s=Math.floor(s)),m+=(p-m-s*(h-l))*u,o=s*(1-l),a&&(m=Math.round(m),o=Math.round(o));var v=_ge(h).map(function(y){return m+s*y});return r(f?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,a=!0,d()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},t.copy=function(){return tf(e(),[n,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},Vn.apply(d(),arguments)}function e3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e3(e())},t}function ch(){return e3(tf.apply(null,arguments).paddingInner(1))}function YO(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function t3(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ip(){}var rf=.7,vv=1/rf,Ac="\\s*([+-]?\\d+)\\s*",nf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sge=/^#([0-9a-f]{3,8})$/,Cge=new RegExp(`^rgb\\(${Ac},${Ac},${Ac}\\)$`),Oge=new RegExp(`^rgb\\(${Xi},${Xi},${Xi}\\)$`),Tge=new RegExp(`^rgba\\(${Ac},${Ac},${Ac},${nf}\\)$`),Ege=new RegExp(`^rgba\\(${Xi},${Xi},${Xi},${nf}\\)$`),kge=new RegExp(`^hsl\\(${nf},${Xi},${Xi}\\)$`),Pge=new RegExp(`^hsla\\(${nf},${Xi},${Xi},${nf}\\)$`),MA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YO(ip,sf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$A,formatHex:$A,formatHex8:jge,formatHsl:Age,formatRgb:DA,toString:DA});function $A(){return this.rgb().formatHex()}function jge(){return this.rgb().formatHex8()}function Age(){return r3(this).formatHsl()}function DA(){return this.rgb().formatRgb()}function sf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Sge.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?IA(e):r===3?new Fr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ig(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ig(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Cge.exec(t))?new Fr(e[1],e[2],e[3],1):(e=Oge.exec(t))?new Fr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Tge.exec(t))?ig(e[1],e[2],e[3],e[4]):(e=Ege.exec(t))?ig(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kge.exec(t))?BA(e[1],e[2]/100,e[3]/100,1):(e=Pge.exec(t))?BA(e[1],e[2]/100,e[3]/100,e[4]):MA.hasOwnProperty(t)?IA(MA[t]):t==="transparent"?new Fr(NaN,NaN,NaN,0):null}function IA(t){return new Fr(t>>16&255,t>>8&255,t&255,1)}function ig(t,e,r,n){return n<=0&&(t=e=r=NaN),new Fr(t,e,r,n)}function Nge(t){return t instanceof ip||(t=sf(t)),t?(t=t.rgb(),new Fr(t.r,t.g,t.b,t.opacity)):new Fr}function xS(t,e,r,n){return arguments.length===1?Nge(t):new Fr(t,e,r,n??1)}function Fr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}YO(Fr,xS,t3(ip,{brighter(t){return t=t==null?vv:Math.pow(vv,t),new Fr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rf:Math.pow(rf,t),new Fr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Fr(Ja(this.r),Ja(this.g),Ja(this.b),yv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LA,formatHex:LA,formatHex8:Rge,formatRgb:FA,toString:FA}));function LA(){return`#${Ia(this.r)}${Ia(this.g)}${Ia(this.b)}`}function Rge(){return`#${Ia(this.r)}${Ia(this.g)}${Ia(this.b)}${Ia((isNaN(this.opacity)?1:this.opacity)*255)}`}function FA(){const t=yv(this.opacity);return`${t===1?"rgb(":"rgba("}${Ja(this.r)}, ${Ja(this.g)}, ${Ja(this.b)}${t===1?")":`, ${t})`}`}function yv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ja(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ia(t){return t=Ja(t),(t<16?"0":"")+t.toString(16)}function BA(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new pi(t,e,r,n)}function r3(t){if(t instanceof pi)return new pi(t.h,t.s,t.l,t.opacity);if(t instanceof ip||(t=sf(t)),!t)return new pi;if(t instanceof pi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(r-n)/a+(r<n)*6:r===s?o=(n-e)/a+2:o=(e-r)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new pi(o,a,l,t.opacity)}function Mge(t,e,r,n){return arguments.length===1?r3(t):new pi(t,e,r,n??1)}function pi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}YO(pi,Mge,t3(ip,{brighter(t){return t=t==null?vv:Math.pow(vv,t),new pi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rf:Math.pow(rf,t),new pi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Fr(Tx(t>=240?t-240:t+120,i,n),Tx(t,i,n),Tx(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new pi(zA(this.h),sg(this.s),sg(this.l),yv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yv(this.opacity);return`${t===1?"hsl(":"hsla("}${zA(this.h)}, ${sg(this.s)*100}%, ${sg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function zA(t){return t=(t||0)%360,t<0?t+360:t}function sg(t){return Math.max(0,Math.min(1,t||0))}function Tx(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const XO=t=>()=>t;function $ge(t,e){return function(r){return t+r*e}}function Dge(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Ige(t){return(t=+t)==1?n3:function(e,r){return r-e?Dge(e,r,t):XO(isNaN(e)?r:e)}}function n3(t,e){var r=e-t;return r?$ge(t,r):XO(isNaN(t)?e:t)}const UA=function t(e){var r=Ige(e);function n(i,s){var o=r((i=xS(i)).r,(s=xS(s)).r),a=r(i.g,s.g),l=r(i.b,s.b),c=n3(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n}(1);function Lge(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function Fge(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Bge(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=rd(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(a){for(o=0;o<n;++o)s[o]=i[o](a);return s}}function zge(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function bv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Uge(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=rd(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var wS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ex=new RegExp(wS.source,"g");function Wge(t){return function(){return t}}function Vge(t){return function(e){return t(e)+""}}function Hge(t,e){var r=wS.lastIndex=Ex.lastIndex=0,n,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(n=wS.exec(t))&&(i=Ex.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),a[o]?a[o]+=s:a[++o]=s),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:bv(n,i)})),r=Ex.lastIndex;return r<e.length&&(s=e.slice(r),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Vge(l[0].x):Wge(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function rd(t,e){var r=typeof e,n;return e==null||r==="boolean"?XO(e):(r==="number"?bv:r==="string"?(n=sf(e))?(e=n,UA):Hge:e instanceof sf?UA:e instanceof Date?zge:Fge(e)?Lge:Array.isArray(e)?Bge:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Uge:bv)(t,e)}function ZO(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Gge(t,e){e===void 0&&(e=t,t=rd);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var a=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[a](o-a)}}function Kge(t){return function(){return t}}function xv(t){return+t}var WA=[0,1];function Pr(t){return t}function _S(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Kge(isNaN(e)?NaN:.5)}function qge(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Yge(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=_S(i,n),s=r(o,s)):(n=_S(n,i),s=r(s,o)),function(a){return s(n(a))}}function Xge(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=_S(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(a){var l=np(t,a,1,n)-1;return s[l](i[l](a))}}function sp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function N0(){var t=WA,e=WA,r=rd,n,i,s,o=Pr,a,l,c;function u(){var h=Math.min(t.length,e.length);return o!==Pr&&(o=qge(t[0],t[h-1])),a=h>2?Xge:Yge,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=a(t.map(n),e,r)))(n(o(h)))}return d.invert=function(h){return o(i((c||(c=a(e,t.map(n),bv)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,xv),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=ZO,u()},d.clamp=function(h){return arguments.length?(o=h?!0:Pr,u()):o!==Pr},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,f){return n=h,i=f,u()}}function JO(){return N0()(Pr,Pr)}function Zge(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function wv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function hu(t){return t=wv(Math.abs(t)),t?t[1]:NaN}function Jge(t,e){return function(r,n){for(var i=r.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),s.push(r.substring(i-=a,i+a)),!((l+=a+1)>n));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Qge(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var eme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function of(t){if(!(e=eme.exec(t)))throw new Error("invalid format: "+t);var e;return new QO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}of.prototype=QO.prototype;function QO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}QO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tme(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var i3;function rme(t,e){var r=wv(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(i3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+wv(t,Math.max(0,e+s-1))[0]}function VA(t,e){var r=wv(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const HA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Zge,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>VA(t*100,e),r:VA,s:rme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function GA(t){return t}var KA=Array.prototype.map,qA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nme(t){var e=t.grouping===void 0||t.thousands===void 0?GA:Jge(KA.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?GA:Qge(KA.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=of(d);var h=d.fill,f=d.align,m=d.sign,p=d.symbol,v=d.zero,y=d.width,b=d.comma,x=d.precision,_=d.trim,S=d.type;S==="n"?(b=!0,S="g"):HA[S]||(x===void 0&&(x=12),_=!0,S="g"),(v||h==="0"&&f==="=")&&(v=!0,h="0",f="=");var C=p==="$"?r:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",O=p==="$"?n:/[%p]/.test(S)?o:"",T=HA[S],E=/[defgprs%]/.test(S);x=x===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function j(P){var A=C,I=O,R,L,$;if(S==="c")I=T(P)+I,P="";else{P=+P;var B=P<0||1/P<0;if(P=isNaN(P)?l:T(Math.abs(P),x),_&&(P=tme(P)),B&&+P==0&&m!=="+"&&(B=!1),A=(B?m==="("?m:a:m==="-"||m==="("?"":m)+A,I=(S==="s"?qA[8+i3/3]:"")+I+(B&&m==="("?")":""),E){for(R=-1,L=P.length;++R<L;)if($=P.charCodeAt(R),48>$||$>57){I=($===46?i+P.slice(R+1):P.slice(R))+I,P=P.slice(0,R);break}}}b&&!v&&(P=e(P,1/0));var N=A.length+P.length+I.length,M=N<y?new Array(y-N+1).join(h):"";switch(b&&v&&(P=e(M+P,M.length?y-I.length:1/0),M=""),f){case"<":P=A+P+I+M;break;case"=":P=A+M+P+I;break;case"^":P=M.slice(0,N=M.length>>1)+A+P+I+M.slice(N);break;default:P=M+A+P+I;break}return s(P)}return j.toString=function(){return d+""},j}function u(d,h){var f=c((d=of(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(hu(h)/3)))*3,p=Math.pow(10,-m),v=qA[8+m/3];return function(y){return f(p*y)+v}}return{format:c,formatPrefix:u}}var og,eT,s3;ime({thousands:",",grouping:[3],currency:["$",""]});function ime(t){return og=nme(t),eT=og.format,s3=og.formatPrefix,og}function sme(t){return Math.max(0,-hu(Math.abs(t)))}function ome(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hu(e)/3)))*3-hu(Math.abs(t)))}function ame(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hu(e)-hu(t))+1}function o3(t,e,r,n){var i=yS(t,e,r),s;switch(n=of(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=ome(i,o))&&(n.precision=s),s3(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=ame(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=sme(i))&&(n.precision=s-(n.type==="%")*2);break}}return eT(n)}function oa(t){var e=t.domain;return t.ticks=function(r){var n=e();return mS(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return o3(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],a=n[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);u-- >0;){if(c=vS(o,a,r),c===l)return n[i]=o,n[s]=a,e(n);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function _v(){var t=JO();return t.copy=function(){return sp(t,_v())},Vn.apply(t,arguments),oa(t)}function a3(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,xv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return a3(t).unknown(e)},t=arguments.length?Array.from(t,xv):[0,1],oa(r)}function l3(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function YA(t){return Math.log(t)}function XA(t){return Math.exp(t)}function lme(t){return-Math.log(-t)}function cme(t){return-Math.exp(-t)}function ume(t){return isFinite(t)?+("1e"+t):t<0?0:t}function dme(t){return t===10?ume:t===Math.E?Math.exp:e=>Math.pow(t,e)}function hme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ZA(t){return(e,r)=>-t(-e,r)}function tT(t){const e=t(YA,XA),r=e.domain;let n=10,i,s;function o(){return i=hme(n),s=dme(n),r()[0]<0?(i=ZA(i),s=ZA(s),t(lme,cme)):t(YA,XA),e}return e.base=function(a){return arguments.length?(n=+a,o()):n},e.domain=function(a){return arguments.length?(r(a),o()):r()},e.ticks=a=>{const l=r();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),f=i(u),m,p;const v=a==null?10:+a;let y=[];if(!(n%1)&&f-h<v){if(h=Math.floor(h),f=Math.ceil(f),c>0){for(;h<=f;++h)for(m=1;m<n;++m)if(p=h<0?m/s(-h):m*s(h),!(p<c)){if(p>u)break;y.push(p)}}else for(;h<=f;++h)for(m=n-1;m>=1;--m)if(p=h>0?m/s(-h):m*s(h),!(p<c)){if(p>u)break;y.push(p)}y.length*2<v&&(y=mS(c,u,v))}else y=mS(h,f,Math.min(f-h,v)).map(s);return d?y.reverse():y},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=of(l)).precision==null&&(l.trim=!0),l=eT(l)),a===1/0)return l;const c=Math.max(1,n*a/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},e.nice=()=>r(l3(r(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function c3(){const t=tT(N0()).domain([1,10]);return t.copy=()=>sp(t,c3()).base(t.base()),Vn.apply(t,arguments),t}function JA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function QA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function rT(t){var e=1,r=t(JA(e),QA(e));return r.constant=function(n){return arguments.length?t(JA(e=+n),QA(e)):e},oa(r)}function u3(){var t=rT(N0());return t.copy=function(){return sp(t,u3()).constant(t.constant())},Vn.apply(t,arguments)}function e2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function fme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function pme(t){return t<0?-t*t:t*t}function nT(t){var e=t(Pr,Pr),r=1;function n(){return r===1?t(Pr,Pr):r===.5?t(fme,pme):t(e2(r),e2(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},oa(e)}function iT(){var t=nT(N0());return t.copy=function(){return sp(t,iT()).exponent(t.exponent())},Vn.apply(t,arguments),t}function gme(){return iT.apply(null,arguments).exponent(.5)}function t2(t){return Math.sign(t)*t*t}function mme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function d3(){var t=JO(),e=[0,1],r=!1,n;function i(s){var o=mme(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(t2(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,xv)).map(t2)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return d3(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Vn.apply(i,arguments),oa(i)}function h3(){var t=[],e=[],r=[],n;function i(){var o=0,a=Math.max(1,e.length);for(r=new Array(a-1);++o<a;)r[o-1]=wge(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?n:e[np(r,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Wo),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return h3().domain(t).range(e).unknown(n)},Vn.apply(s,arguments)}function f3(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[np(n,l,0,r)]:s}function a(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return f3().domain([t,e]).range(i).unknown(s)},Vn.apply(oa(o),arguments)}function p3(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[np(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return p3().domain(t).range(e).unknown(r)},Vn.apply(i,arguments)}const kx=new Date,Px=new Date;function Zt(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),t(s);while(c<s&&s<o);return l},i.filter=s=>Zt(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(kx.setTime(+s),Px.setTime(+o),t(kx),t(Px),Math.floor(r(kx,Px))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Sv=Zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Sv);Sv.range;const Ss=1e3,Mn=Ss*60,Cs=Mn*60,Bs=Cs*24,sT=Bs*7,r2=Bs*30,jx=Bs*365,La=Zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getUTCSeconds());La.range;const oT=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ss)},(t,e)=>{t.setTime(+t+e*Mn)},(t,e)=>(e-t)/Mn,t=>t.getMinutes());oT.range;const aT=Zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Mn)},(t,e)=>(e-t)/Mn,t=>t.getUTCMinutes());aT.range;const lT=Zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ss-t.getMinutes()*Mn)},(t,e)=>{t.setTime(+t+e*Cs)},(t,e)=>(e-t)/Cs,t=>t.getHours());lT.range;const cT=Zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Cs)},(t,e)=>(e-t)/Cs,t=>t.getUTCHours());cT.range;const op=Zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mn)/Bs,t=>t.getDate()-1);op.range;const R0=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bs,t=>t.getUTCDate()-1);R0.range;const g3=Zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bs,t=>Math.floor(t/Bs));g3.range;function kl(t){return Zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Mn)/sT)}const M0=kl(0),Cv=kl(1),vme=kl(2),yme=kl(3),fu=kl(4),bme=kl(5),xme=kl(6);M0.range;Cv.range;vme.range;yme.range;fu.range;bme.range;xme.range;function Pl(t){return Zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/sT)}const $0=Pl(0),Ov=Pl(1),wme=Pl(2),_me=Pl(3),pu=Pl(4),Sme=Pl(5),Cme=Pl(6);$0.range;Ov.range;wme.range;_me.range;pu.range;Sme.range;Cme.range;const uT=Zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uT.range;const dT=Zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());dT.range;const zs=Zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());zs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});zs.range;const Us=Zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Us.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Us.range;function m3(t,e,r,n,i,s){const o=[[La,1,Ss],[La,5,5*Ss],[La,15,15*Ss],[La,30,30*Ss],[s,1,Mn],[s,5,5*Mn],[s,15,15*Mn],[s,30,30*Mn],[i,1,Cs],[i,3,3*Cs],[i,6,6*Cs],[i,12,12*Cs],[n,1,Bs],[n,2,2*Bs],[r,1,sT],[e,1,r2],[e,3,3*r2],[t,1,jx]];function a(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const f=d&&typeof d.range=="function"?d:l(c,u,d),m=f?f.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,d){const h=Math.abs(u-c)/d,f=KO(([,,v])=>v).right(o,h);if(f===o.length)return t.every(yS(c/jx,u/jx,d));if(f===0)return Sv.every(Math.max(yS(c,u,d),1));const[m,p]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return m.every(p)}return[a,l]}const[Ome,Tme]=m3(Us,dT,$0,g3,cT,aT),[Eme,kme]=m3(zs,uT,M0,op,lT,oT);function Ax(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Nx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Td(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Pme(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=Ed(i),u=kd(i),d=Ed(s),h=kd(s),f=Ed(o),m=kd(o),p=Ed(a),v=kd(a),y=Ed(l),b=kd(l),x={a:B,A:N,b:M,B:z,c:null,d:l2,e:l2,f:Jme,g:lve,G:uve,H:Yme,I:Xme,j:Zme,L:v3,m:Qme,M:eve,p:H,q:U,Q:d2,s:h2,S:tve,u:rve,U:nve,V:ive,w:sve,W:ove,x:null,X:null,y:ave,Y:cve,Z:dve,"%":u2},_={a:q,A:ee,b:pe,B:Oe,c:null,d:c2,e:c2,f:gve,g:Ove,G:Eve,H:hve,I:fve,j:pve,L:b3,m:mve,M:vve,p:Q,q:we,Q:d2,s:h2,S:yve,u:bve,U:xve,V:wve,w:_ve,W:Sve,x:null,X:null,y:Cve,Y:Tve,Z:kve,"%":u2},S={a:j,A:P,b:A,B:I,c:R,d:o2,e:o2,f:Hme,g:s2,G:i2,H:a2,I:a2,j:zme,L:Vme,m:Bme,M:Ume,p:E,q:Fme,Q:Kme,s:qme,S:Wme,u:Mme,U:$me,V:Dme,w:Rme,W:Ime,x:L,X:$,y:s2,Y:i2,Z:Lme,"%":Gme};x.x=C(r,x),x.X=C(n,x),x.c=C(e,x),_.x=C(r,_),_.X=C(n,_),_.c=C(e,_);function C(Y,te){return function(re){var V=[],Ne=-1,_e=0,rt=Y.length,Qe,Ot,Mr;for(re instanceof Date||(re=new Date(+re));++Ne<rt;)Y.charCodeAt(Ne)===37&&(V.push(Y.slice(_e,Ne)),(Ot=n2[Qe=Y.charAt(++Ne)])!=null?Qe=Y.charAt(++Ne):Ot=Qe==="e"?" ":"0",(Mr=te[Qe])&&(Qe=Mr(re,Ot)),V.push(Qe),_e=Ne+1);return V.push(Y.slice(_e,Ne)),V.join("")}}function O(Y,te){return function(re){var V=Td(1900,void 0,1),Ne=T(V,Y,re+="",0),_e,rt;if(Ne!=re.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(te&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(_e=Nx(Td(V.y,0,1)),rt=_e.getUTCDay(),_e=rt>4||rt===0?Ov.ceil(_e):Ov(_e),_e=R0.offset(_e,(V.V-1)*7),V.y=_e.getUTCFullYear(),V.m=_e.getUTCMonth(),V.d=_e.getUTCDate()+(V.w+6)%7):(_e=Ax(Td(V.y,0,1)),rt=_e.getDay(),_e=rt>4||rt===0?Cv.ceil(_e):Cv(_e),_e=op.offset(_e,(V.V-1)*7),V.y=_e.getFullYear(),V.m=_e.getMonth(),V.d=_e.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),rt="Z"in V?Nx(Td(V.y,0,1)).getUTCDay():Ax(Td(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(rt+5)%7:V.w+V.U*7-(rt+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,Nx(V)):Ax(V)}}function T(Y,te,re,V){for(var Ne=0,_e=te.length,rt=re.length,Qe,Ot;Ne<_e;){if(V>=rt)return-1;if(Qe=te.charCodeAt(Ne++),Qe===37){if(Qe=te.charAt(Ne++),Ot=S[Qe in n2?te.charAt(Ne++):Qe],!Ot||(V=Ot(Y,re,V))<0)return-1}else if(Qe!=re.charCodeAt(V++))return-1}return V}function E(Y,te,re){var V=c.exec(te.slice(re));return V?(Y.p=u.get(V[0].toLowerCase()),re+V[0].length):-1}function j(Y,te,re){var V=f.exec(te.slice(re));return V?(Y.w=m.get(V[0].toLowerCase()),re+V[0].length):-1}function P(Y,te,re){var V=d.exec(te.slice(re));return V?(Y.w=h.get(V[0].toLowerCase()),re+V[0].length):-1}function A(Y,te,re){var V=y.exec(te.slice(re));return V?(Y.m=b.get(V[0].toLowerCase()),re+V[0].length):-1}function I(Y,te,re){var V=p.exec(te.slice(re));return V?(Y.m=v.get(V[0].toLowerCase()),re+V[0].length):-1}function R(Y,te,re){return T(Y,e,te,re)}function L(Y,te,re){return T(Y,r,te,re)}function $(Y,te,re){return T(Y,n,te,re)}function B(Y){return o[Y.getDay()]}function N(Y){return s[Y.getDay()]}function M(Y){return l[Y.getMonth()]}function z(Y){return a[Y.getMonth()]}function H(Y){return i[+(Y.getHours()>=12)]}function U(Y){return 1+~~(Y.getMonth()/3)}function q(Y){return o[Y.getUTCDay()]}function ee(Y){return s[Y.getUTCDay()]}function pe(Y){return l[Y.getUTCMonth()]}function Oe(Y){return a[Y.getUTCMonth()]}function Q(Y){return i[+(Y.getUTCHours()>=12)]}function we(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var te=C(Y+="",x);return te.toString=function(){return Y},te},parse:function(Y){var te=O(Y+="",!1);return te.toString=function(){return Y},te},utcFormat:function(Y){var te=C(Y+="",_);return te.toString=function(){return Y},te},utcParse:function(Y){var te=O(Y+="",!0);return te.toString=function(){return Y},te}}}var n2={"-":"",_:" ",0:"0"},sr=/^\s*\d+/,jme=/^%/,Ame=/[\\^$*+?|[\]().{}]/g;function He(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function Nme(t){return t.replace(Ame,"\\$&")}function Ed(t){return new RegExp("^(?:"+t.map(Nme).join("|")+")","i")}function kd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Rme(t,e,r){var n=sr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Mme(t,e,r){var n=sr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function $me(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Dme(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Ime(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function i2(t,e,r){var n=sr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function s2(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Lme(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Fme(t,e,r){var n=sr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Bme(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function o2(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function zme(t,e,r){var n=sr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function a2(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Ume(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Wme(t,e,r){var n=sr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Vme(t,e,r){var n=sr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Hme(t,e,r){var n=sr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Gme(t,e,r){var n=jme.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Kme(t,e,r){var n=sr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function qme(t,e,r){var n=sr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function l2(t,e){return He(t.getDate(),e,2)}function Yme(t,e){return He(t.getHours(),e,2)}function Xme(t,e){return He(t.getHours()%12||12,e,2)}function Zme(t,e){return He(1+op.count(zs(t),t),e,3)}function v3(t,e){return He(t.getMilliseconds(),e,3)}function Jme(t,e){return v3(t,e)+"000"}function Qme(t,e){return He(t.getMonth()+1,e,2)}function eve(t,e){return He(t.getMinutes(),e,2)}function tve(t,e){return He(t.getSeconds(),e,2)}function rve(t){var e=t.getDay();return e===0?7:e}function nve(t,e){return He(M0.count(zs(t)-1,t),e,2)}function y3(t){var e=t.getDay();return e>=4||e===0?fu(t):fu.ceil(t)}function ive(t,e){return t=y3(t),He(fu.count(zs(t),t)+(zs(t).getDay()===4),e,2)}function sve(t){return t.getDay()}function ove(t,e){return He(Cv.count(zs(t)-1,t),e,2)}function ave(t,e){return He(t.getFullYear()%100,e,2)}function lve(t,e){return t=y3(t),He(t.getFullYear()%100,e,2)}function cve(t,e){return He(t.getFullYear()%1e4,e,4)}function uve(t,e){var r=t.getDay();return t=r>=4||r===0?fu(t):fu.ceil(t),He(t.getFullYear()%1e4,e,4)}function dve(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+He(e/60|0,"0",2)+He(e%60,"0",2)}function c2(t,e){return He(t.getUTCDate(),e,2)}function hve(t,e){return He(t.getUTCHours(),e,2)}function fve(t,e){return He(t.getUTCHours()%12||12,e,2)}function pve(t,e){return He(1+R0.count(Us(t),t),e,3)}function b3(t,e){return He(t.getUTCMilliseconds(),e,3)}function gve(t,e){return b3(t,e)+"000"}function mve(t,e){return He(t.getUTCMonth()+1,e,2)}function vve(t,e){return He(t.getUTCMinutes(),e,2)}function yve(t,e){return He(t.getUTCSeconds(),e,2)}function bve(t){var e=t.getUTCDay();return e===0?7:e}function xve(t,e){return He($0.count(Us(t)-1,t),e,2)}function x3(t){var e=t.getUTCDay();return e>=4||e===0?pu(t):pu.ceil(t)}function wve(t,e){return t=x3(t),He(pu.count(Us(t),t)+(Us(t).getUTCDay()===4),e,2)}function _ve(t){return t.getUTCDay()}function Sve(t,e){return He(Ov.count(Us(t)-1,t),e,2)}function Cve(t,e){return He(t.getUTCFullYear()%100,e,2)}function Ove(t,e){return t=x3(t),He(t.getUTCFullYear()%100,e,2)}function Tve(t,e){return He(t.getUTCFullYear()%1e4,e,4)}function Eve(t,e){var r=t.getUTCDay();return t=r>=4||r===0?pu(t):pu.ceil(t),He(t.getUTCFullYear()%1e4,e,4)}function kve(){return"+0000"}function u2(){return"%"}function d2(t){return+t}function h2(t){return Math.floor(+t/1e3)}var Hl,w3,_3;Pve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Pve(t){return Hl=Pme(t),w3=Hl.format,Hl.parse,_3=Hl.utcFormat,Hl.utcParse,Hl}function jve(t){return new Date(t)}function Ave(t){return t instanceof Date?+t:+new Date(+t)}function hT(t,e,r,n,i,s,o,a,l,c){var u=JO(),d=u.invert,h=u.domain,f=c(".%L"),m=c(":%S"),p=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),b=c("%b %d"),x=c("%B"),_=c("%Y");function S(C){return(l(C)<C?f:a(C)<C?m:o(C)<C?p:s(C)<C?v:n(C)<C?i(C)<C?y:b:r(C)<C?x:_)(C)}return u.invert=function(C){return new Date(d(C))},u.domain=function(C){return arguments.length?h(Array.from(C,Ave)):h().map(jve)},u.ticks=function(C){var O=h();return t(O[0],O[O.length-1],C??10)},u.tickFormat=function(C,O){return O==null?S:c(O)},u.nice=function(C){var O=h();return(!C||typeof C.range!="function")&&(C=e(O[0],O[O.length-1],C??10)),C?h(l3(O,C)):u},u.copy=function(){return sp(u,hT(t,e,r,n,i,s,o,a,l,c))},u}function Nve(){return Vn.apply(hT(Eme,kme,zs,uT,M0,op,lT,oT,La,w3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Rve(){return Vn.apply(hT(Ome,Tme,Us,dT,$0,R0,cT,aT,La,_3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function D0(){var t=0,e=1,r,n,i,s,o=Pr,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(s(d)-r)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(h){var f,m;return arguments.length?([f,m]=h,o=d(f,m),c):[o(0),o(1)]}}return c.range=u(rd),c.rangeRound=u(ZO),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),c}}function aa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function S3(){var t=oa(D0()(Pr));return t.copy=function(){return aa(t,S3())},Xs.apply(t,arguments)}function C3(){var t=tT(D0()).domain([1,10]);return t.copy=function(){return aa(t,C3()).base(t.base())},Xs.apply(t,arguments)}function O3(){var t=rT(D0());return t.copy=function(){return aa(t,O3()).constant(t.constant())},Xs.apply(t,arguments)}function fT(){var t=nT(D0());return t.copy=function(){return aa(t,fT()).exponent(t.exponent())},Xs.apply(t,arguments)}function Mve(){return fT.apply(null,arguments).exponent(.5)}function T3(){var t=[],e=Pr;function r(n){if(n!=null&&!isNaN(n=+n))return e((np(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Wo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>xge(t,s/n))},r.copy=function(){return T3(e).domain(t)},Xs.apply(r,arguments)}function I0(){var t=0,e=.5,r=1,n=1,i,s,o,a,l,c=Pr,u,d=!1,h;function f(p){return isNaN(p=+p)?h:(p=.5+((p=+u(p))-s)*(n*p<n*s?a:l),c(d?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e,r]=p,i=u(t=+t),s=u(e=+e),o=u(r=+r),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),n=s<i?-1:1,f):[t,e,r]},f.clamp=function(p){return arguments.length?(d=!!p,f):d},f.interpolator=function(p){return arguments.length?(c=p,f):c};function m(p){return function(v){var y,b,x;return arguments.length?([y,b,x]=v,c=Gge(p,[y,b,x]),f):[c(0),c(.5),c(1)]}}return f.range=m(rd),f.rangeRound=m(ZO),f.unknown=function(p){return arguments.length?(h=p,f):h},function(p){return u=p,i=p(t),s=p(e),o=p(r),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),n=s<i?-1:1,f}}function E3(){var t=oa(I0()(Pr));return t.copy=function(){return aa(t,E3())},Xs.apply(t,arguments)}function k3(){var t=tT(I0()).domain([.1,1,10]);return t.copy=function(){return aa(t,k3()).base(t.base())},Xs.apply(t,arguments)}function P3(){var t=rT(I0());return t.copy=function(){return aa(t,P3()).constant(t.constant())},Xs.apply(t,arguments)}function pT(){var t=nT(I0());return t.copy=function(){return aa(t,pT()).exponent(t.exponent())},Xs.apply(t,arguments)}function $ve(){return pT.apply(null,arguments).exponent(.5)}const f2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tf,scaleDiverging:E3,scaleDivergingLog:k3,scaleDivergingPow:pT,scaleDivergingSqrt:$ve,scaleDivergingSymlog:P3,scaleIdentity:a3,scaleImplicit:bS,scaleLinear:_v,scaleLog:c3,scaleOrdinal:qO,scalePoint:ch,scalePow:iT,scaleQuantile:h3,scaleQuantize:f3,scaleRadial:d3,scaleSequential:S3,scaleSequentialLog:C3,scaleSequentialPow:fT,scaleSequentialQuantile:T3,scaleSequentialSqrt:Mve,scaleSequentialSymlog:O3,scaleSqrt:gme,scaleSymlog:u3,scaleThreshold:p3,scaleTime:Nve,scaleUtc:Rve,tickFormat:o3},Symbol.toStringTag,{value:"Module"}));var Dve=Ku;function Ive(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],o=e(s);if(o!=null&&(a===void 0?o===o&&!Dve(o):r(o,a)))var a=o,l=s}return l}var L0=Ive;function Lve(t,e){return t>e}var j3=Lve,Fve=L0,Bve=j3,zve=td;function Uve(t){return t&&t.length?Fve(t,zve,Bve):void 0}var Wve=Uve;const F0=Xe(Wve);function Vve(t,e){return t<e}var A3=Vve,Hve=L0,Gve=A3,Kve=td;function qve(t){return t&&t.length?Hve(t,Kve,Gve):void 0}var Yve=qve;const B0=Xe(Yve);var Xve=kO,Zve=as,Jve=F5,Qve=Kr;function eye(t,e){var r=Qve(t)?Xve:Jve;return r(t,Zve(e))}var tye=eye,rye=I5,nye=tye;function iye(t,e){return rye(nye(t,e),1)}var sye=iye;const oye=Xe(sye);var aye=WO;function lye(t,e){return aye(t,e)}var cye=lye;const ap=Xe(cye);var nd=1e9,uye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mT,bt=!0,Ln="[DecimalError] ",Qa=Ln+"Invalid argument: ",gT=Ln+"Exponent out of range: ",id=Math.floor,Oa=Math.pow,dye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ln,Qt=1e7,pt=7,N3=9007199254740991,Tv=id(N3/pt),oe={};oe.absoluteValue=oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};oe.comparedTo=oe.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*pt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};oe.dividedBy=oe.div=function(t){return js(this,new this.constructor(t))};oe.dividedToIntegerBy=oe.idiv=function(t){var e=this,r=e.constructor;return it(js(e,new r(t),0,1),r.precision)};oe.equals=oe.eq=function(t){return!this.cmp(t)};oe.exponent=function(){return Bt(this)};oe.greaterThan=oe.gt=function(t){return this.cmp(t)>0};oe.greaterThanOrEqualTo=oe.gte=function(t){return this.cmp(t)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(t){return this.cmp(t)<0};oe.lessThanOrEqualTo=oe.lte=function(t){return this.cmp(t)<1};oe.logarithm=oe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ln))throw Error(Ln+"NaN");if(r.s<1)throw Error(Ln+(r.s?"NaN":"-Infinity"));return r.eq(ln)?new n(0):(bt=!1,e=js(af(r,s),af(t,s),s),bt=!0,it(e,i))};oe.minus=oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$3(e,t):R3(e,(t.s=-t.s,t))};oe.modulo=oe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ln+"NaN");return r.s?(bt=!1,e=js(r,t,0,1).times(t),bt=!0,r.minus(e)):it(new n(r),i)};oe.naturalExponential=oe.exp=function(){return M3(this)};oe.naturalLogarithm=oe.ln=function(){return af(this)};oe.negated=oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};oe.plus=oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?R3(e,t):$3(e,(t.s=-t.s,t))};oe.precision=oe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qa+t);if(e=Bt(i)+1,n=i.d.length-1,r=n*pt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};oe.squareRoot=oe.sqrt=function(){var t,e,r,n,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Ln+"NaN")}for(t=Bt(a),bt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Vi(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=id((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(s=n,n=s.plus(js(a,s,o+2)).times(.5),Vi(s.d).slice(0,o)===(e=Vi(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(it(s,r+1,0),s.times(s).eq(a)){n=s;break}}else if(e!="9999")break;o+=4}return bt=!0,it(n,r)};oe.times=oe.mul=function(t){var e,r,n,i,s,o,a,l,c,u=this,d=u.constructor,h=u.d,f=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,r=u.e+t.e,l=h.length,c=f.length,l<c&&(s=h,h=f,f=s,o=l,l=c,c=o),s=[],o=l+c,n=o;n--;)s.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)a=s[i]+f[n]*h[i-n-1]+e,s[i--]=a%Qt|0,e=a/Qt|0;s[i]=(s[i]+e)%Qt|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,bt?it(t,d.precision):t};oe.toDecimalPlaces=oe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(es(t,0,nd),e===void 0?e=n.rounding:es(e,0,8),it(r,t+Bt(r)+1,e))};oe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=vl(n,!0):(es(t,0,nd),e===void 0?e=i.rounding:es(e,0,8),n=it(new i(n),t+1,e),r=vl(n,!0,t+1)),r};oe.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?vl(i):(es(t,0,nd),e===void 0?e=s.rounding:es(e,0,8),n=it(new s(i),t+Bt(i)+1,e),r=vl(n.abs(),!1,t+Bt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};oe.toInteger=oe.toint=function(){var t=this,e=t.constructor;return it(new e(t),Bt(t)+1,e.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(t){var e,r,n,i,s,o,a=this,l=a.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(ln);if(a=new l(a),!a.s){if(t.s<1)throw Error(Ln+"Infinity");return a}if(a.eq(ln))return a;if(n=l.precision,t.eq(ln))return it(a,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=a.s,o){if((r=u<0?-u:u)<=N3){for(i=new l(ln),e=Math.ceil(n/pt+4),bt=!1;r%2&&(i=i.times(a),g2(i.d,e)),r=id(r/2),r!==0;)a=a.times(a),g2(a.d,e);return bt=!0,t.s<0?new l(ln).div(i):it(i,n)}}else if(s<0)throw Error(Ln+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,a.s=1,bt=!1,i=t.times(af(a,n+c)),bt=!0,i=M3(i),i.s=s,i};oe.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Bt(i),n=vl(i,r<=s.toExpNeg||r>=s.toExpPos)):(es(t,1,nd),e===void 0?e=s.rounding:es(e,0,8),i=it(new s(i),t,e),r=Bt(i),n=vl(i,t<=r||r<=s.toExpNeg,t)),n};oe.toSignificantDigits=oe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(es(t,1,nd),e===void 0?e=n.rounding:es(e,0,8)),it(new n(r),t,e)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Bt(t),r=t.constructor;return vl(t,e<=r.toExpNeg||e>=r.toExpPos)};function R3(t,e){var r,n,i,s,o,a,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),bt?it(e,d):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(n=l,s=-s,a=c.length):(n=c,i=o,a=l.length),o=Math.ceil(d/pt),a=o>a?o+1:a+1,s>a&&(s=a,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,n=c,c=l,l=n),r=0;s;)r=(l[--s]=l[s]+c[s]+r)/Qt|0,l[s]%=Qt;for(r&&(l.unshift(r),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,bt?it(e,d):e}function es(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Qa+t)}function Vi(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=pt-n.length,r&&(s+=go(r)),s+=n;o=t[e],n=o+"",r=pt-n.length,r&&(s+=go(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var js=function(){function t(n,i){var s,o=0,a=n.length;for(n=n.slice();a--;)s=n[a]*i+o,n[a]=s%Qt|0,o=s/Qt|0;return o&&n.unshift(o),n}function e(n,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(n[a]!=i[a]){l=n[a]>i[a]?1:-1;break}return l}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Qt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var a,l,c,u,d,h,f,m,p,v,y,b,x,_,S,C,O,T,E=n.constructor,j=n.s==i.s?1:-1,P=n.d,A=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(Ln+"Division by zero");for(l=n.e-i.e,O=A.length,S=P.length,f=new E(j),m=f.d=[],c=0;A[c]==(P[c]||0);)++c;if(A[c]>(P[c]||0)&&--l,s==null?b=s=E.precision:o?b=s+(Bt(n)-Bt(i))+1:b=s,b<0)return new E(0);if(b=b/pt+2|0,c=0,O==1)for(u=0,A=A[0],b++;(c<S||u)&&b--;c++)x=u*Qt+(P[c]||0),m[c]=x/A|0,u=x%A|0;else{for(u=Qt/(A[0]+1)|0,u>1&&(A=t(A,u),P=t(P,u),O=A.length,S=P.length),_=O,p=P.slice(0,O),v=p.length;v<O;)p[v++]=0;T=A.slice(),T.unshift(0),C=A[0],A[1]>=Qt/2&&++C;do u=0,a=e(A,p,O,v),a<0?(y=p[0],O!=v&&(y=y*Qt+(p[1]||0)),u=y/C|0,u>1?(u>=Qt&&(u=Qt-1),d=t(A,u),h=d.length,v=p.length,a=e(d,p,h,v),a==1&&(u--,r(d,O<h?T:A,h))):(u==0&&(a=u=1),d=A.slice()),h=d.length,h<v&&d.unshift(0),r(p,d,v),a==-1&&(v=p.length,a=e(A,p,O,v),a<1&&(u++,r(p,O<v?T:A,v))),v=p.length):a===0&&(u++,p=[0]),m[c++]=u,a&&p[0]?p[v++]=P[_]||0:(p=[P[_]],v=1);while((_++<S||p[0]!==void 0)&&b--)}return m[0]||m.shift(),f.e=l,it(f,o?s+Bt(f)+1:s)}}();function M3(t,e){var r,n,i,s,o,a,l=0,c=0,u=t.constructor,d=u.precision;if(Bt(t)>16)throw Error(gT+Bt(t));if(!t.s)return new u(ln);for(bt=!1,a=d,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(n=Math.log(Oa(2,c))/Math.LN10*2+5|0,a+=n,r=i=s=new u(ln),u.precision=a;;){if(i=it(i.times(t),a),r=r.times(++l),o=s.plus(js(i,r,a)),Vi(o.d).slice(0,a)===Vi(s.d).slice(0,a)){for(;c--;)s=it(s.times(s),a);return u.precision=d,e==null?(bt=!0,it(s,d)):s}s=o}}function Bt(t){for(var e=t.e*pt,r=t.d[0];r>=10;r/=10)e++;return e}function Rx(t,e,r){if(e>t.LN10.sd())throw bt=!0,r&&(t.precision=r),Error(Ln+"LN10 precision limit exceeded");return it(new t(t.LN10),e)}function go(t){for(var e="";t--;)e+="0";return e}function af(t,e){var r,n,i,s,o,a,l,c,u,d=1,h=10,f=t,m=f.d,p=f.constructor,v=p.precision;if(f.s<1)throw Error(Ln+(f.s?"NaN":"-Infinity"));if(f.eq(ln))return new p(0);if(e==null?(bt=!1,c=v):c=e,f.eq(10))return e==null&&(bt=!0),Rx(p,c);if(c+=h,p.precision=c,r=Vi(m),n=r.charAt(0),s=Bt(f),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=Vi(f.d),n=r.charAt(0),d++;s=Bt(f),n>1?(f=new p("0."+r),s++):f=new p(n+"."+r.slice(1))}else return l=Rx(p,c+2,v).times(s+""),f=af(new p(n+"."+r.slice(1)),c-h).plus(l),p.precision=v,e==null?(bt=!0,it(f,v)):f;for(a=o=f=js(f.minus(ln),f.plus(ln),c),u=it(f.times(f),c),i=3;;){if(o=it(o.times(u),c),l=a.plus(js(o,new p(i),c)),Vi(l.d).slice(0,c)===Vi(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(Rx(p,c+2,v).times(s+""))),a=js(a,new p(d),c),p.precision=v,e==null?(bt=!0,it(a,v)):a;a=l,i+=2}}function p2(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=id(r/pt),t.d=[],n=(r+1)%pt,r<0&&(n+=pt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=pt;n<i;)t.d.push(+e.slice(n,n+=pt));e=e.slice(n),n=pt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),bt&&(t.e>Tv||t.e<-Tv))throw Error(gT+r)}else t.s=0,t.e=0,t.d=[0];return t}function it(t,e,r){var n,i,s,o,a,l,c,u,d=t.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=pt,i=e,c=d[u=0];else{if(u=Math.ceil((n+1)/pt),s=d.length,u>=s)return t;for(c=s=d[u],o=1;s>=10;s/=10)o++;n%=pt,i=n-pt+o}if(r!==void 0&&(s=Oa(10,o-i-1),a=c/s%10|0,l=e<0||d[u+1]!==void 0||c%s,l=r<4?(a||l)&&(r==0||r==(t.s<0?3:2)):a>5||a==5&&(r==4||l||r==6&&(n>0?i>0?c/Oa(10,o-i):0:d[u-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return l?(s=Bt(t),d.length=1,e=e-s-1,d[0]=Oa(10,(pt-e%pt)%pt),t.e=id(-e/pt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=u,s=1,u--):(d.length=u+1,s=Oa(10,pt-n),d[u]=i>0?(c/Oa(10,o-i)%Oa(10,i)|0)*s:0),l)for(;;)if(u==0){(d[0]+=s)==Qt&&(d[0]=1,++t.e);break}else{if(d[u]+=s,d[u]!=Qt)break;d[u--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(bt&&(t.e>Tv||t.e<-Tv))throw Error(gT+Bt(t));return t}function $3(t,e){var r,n,i,s,o,a,l,c,u,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),bt?it(e,f):e;if(l=t.d,d=e.d,n=e.e,c=t.e,l=l.slice(),o=c-n,o){for(u=o<0,u?(r=l,o=-o,a=d.length):(r=d,n=c,a=l.length),i=Math.max(Math.ceil(f/pt),a)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,a=d.length,u=i<a,u&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(r=l,l=d,d=r,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=Qt-1;--l[s],l[i]+=Qt}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,bt?it(e,f):e):new h(0)}function vl(t,e,r){var n,i=Bt(t),s=Vi(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+go(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+go(-i-1)+s,r&&(n=r-o)>0&&(s+=go(n))):i>=o?(s+=go(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+go(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=go(n))),t.s<0?"-"+s:s}function g2(t,e){if(t.length>e)return t.length=e,!0}function D3(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Qa+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return p2(o,s.toString())}else if(typeof s!="string")throw Error(Qa+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,dye.test(s))p2(o,s);else throw Error(Qa+s)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=D3,i.config=i.set=hye,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function hye(t){if(!t||typeof t!="object")throw Error(Ln+"Object expected");var e,r,n,i=["precision",1,nd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(id(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Qa+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Qa+r+": "+n);return this}var mT=D3(uye);ln=new mT(1);const tt=mT;function fye(t){return vye(t)||mye(t)||gye(t)||pye()}function pye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gye(t,e){if(t){if(typeof t=="string")return SS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SS(t,e)}}function mye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vye(t){if(Array.isArray(t))return SS(t)}function SS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yye=function(e){return e},I3={},L3=function(e){return e===I3},m2=function(e){return function r(){return arguments.length===0||arguments.length===1&&L3(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},bye=function t(e,r){return e===1?r:m2(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==I3}).length;return o>=e?r.apply(void 0,i):t(e-o,m2(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=i.map(function(d){return L3(d)?l.shift():d});return r.apply(void 0,fye(u).concat(l))}))})},z0=function(e){return bye(e.length,e)},CS=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},xye=z0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),wye=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return yye;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},OS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},F3=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(a,l){return a===r[l]})||(r=s,n=e.apply(void 0,s)),n}};function _ye(t){var e;return t===0?e=1:e=Math.floor(new tt(t).abs().log(10).toNumber())+1,e}function Sye(t,e,r){for(var n=new tt(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var Cye=z0(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Oye=z0(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Tye=z0(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const U0={rangeStep:Sye,getDigitCount:_ye,interpolateNumber:Cye,uninterpolateNumber:Oye,uninterpolateTruncation:Tye};function TS(t){return Pye(t)||kye(t)||B3(t)||Eye()}function Eye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Pye(t){if(Array.isArray(t))return ES(t)}function lf(t,e){return Nye(t)||Aye(t,e)||B3(t,e)||jye()}function jye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B3(t,e){if(t){if(typeof t=="string")return ES(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ES(t,e)}}function ES(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Aye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(n=(a=o.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function Nye(t){if(Array.isArray(t))return t}function z3(t){var e=lf(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function U3(t,e,r){if(t.lte(0))return new tt(0);var n=U0.getDigitCount(t.toNumber()),i=new tt(10).pow(n),s=t.div(i),o=n!==1?.05:.1,a=new tt(Math.ceil(s.div(o).toNumber())).add(r).mul(o),l=a.mul(i);return e?l:new tt(Math.ceil(l))}function Rye(t,e,r){var n=1,i=new tt(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new tt(10).pow(U0.getDigitCount(t)-1),i=new tt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new tt(Math.floor(t)))}else t===0?i=new tt(Math.floor((e-1)/2)):r||(i=new tt(Math.floor(t)));var o=Math.floor((e-1)/2),a=wye(xye(function(l){return i.add(new tt(l-o).mul(n)).toNumber()}),CS);return a(0,e)}function W3(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new tt(0),tickMin:new tt(0),tickMax:new tt(0)};var s=U3(new tt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new tt(0):(o=new tt(t).add(e).div(2),o=o.sub(new tt(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new tt(e).sub(o).div(s).toNumber()),c=a+l+1;return c>r?W3(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,a=e>0?a:a+(r-c)),{step:s,tickMin:o.sub(new tt(a).mul(s)),tickMax:o.add(new tt(l).mul(s))})}function Mye(t){var e=lf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=z3([r,n]),l=lf(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(TS(CS(0,i-1).map(function(){return 1/0}))):[].concat(TS(CS(0,i-1).map(function(){return-1/0})),[u]);return r>n?OS(d):d}if(c===u)return Rye(c,i,s);var h=W3(c,u,o,s),f=h.step,m=h.tickMin,p=h.tickMax,v=U0.rangeStep(m,p.add(new tt(.1).mul(f)),f);return r>n?OS(v):v}function $ye(t,e){var r=lf(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=z3([n,i]),a=lf(o,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),d=U3(new tt(c).sub(l).div(u-1),s,0),h=[].concat(TS(U0.rangeStep(new tt(l),new tt(c).sub(new tt(.99).mul(d)),d)),[c]);return n>i?OS(h):h}var Dye=F3(Mye),Iye=F3($ye),Lye="Invariant failed";function yl(t,e){throw new Error(Lye)}var Fye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ev.apply(this,arguments)}function Bye(t,e){return Vye(t)||Wye(t,e)||Uye(t,e)||zye()}function zye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uye(t,e){if(t){if(typeof t=="string")return v2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v2(t,e)}}function v2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Vye(t){if(Array.isArray(t))return t}function Hye(t,e){if(t==null)return{};var r=Gye(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G3(n.key),n)}}function Yye(t,e,r){return e&&qye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xye(t,e,r){return e=kv(e),Zye(t,V3()?Reflect.construct(e,r||[],kv(t).constructor):e.apply(t,r))}function Zye(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jye(t)}function Jye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V3=function(){return!!t})()}function kv(t){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kv(t)}function Qye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kS(t,e)}function kS(t,e){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kS(t,e)}function H3(t,e,r){return e=G3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G3(t){var e=e0e(t,"string");return gu(e)=="symbol"?e:e+""}function e0e(t,e){if(gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lp=function(t){function e(){return Kye(this,e),Xye(this,e,arguments)}return Qye(e,t),Yye(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,a=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,d=n.yAxis,h=Hye(n,Fye),f=me(h,!1);this.props.direction==="x"&&u.type!=="number"&&yl();var m=l.map(function(p){var v=c(p,a),y=v.x,b=v.y,x=v.value,_=v.errorVal;if(!_)return null;var S=[],C,O;if(Array.isArray(_)){var T=Bye(_,2);C=T[0],O=T[1]}else C=O=_;if(s==="vertical"){var E=u.scale,j=b+i,P=j+o,A=j-o,I=E(x-C),R=E(x+O);S.push({x1:R,y1:P,x2:R,y2:A}),S.push({x1:I,y1:j,x2:R,y2:j}),S.push({x1:I,y1:P,x2:I,y2:A})}else if(s==="horizontal"){var L=d.scale,$=y+i,B=$-o,N=$+o,M=L(x-C),z=L(x+O);S.push({x1:B,y1:z,x2:N,y2:z}),S.push({x1:$,y1:M,x2:$,y2:z}),S.push({x1:B,y1:M,x2:N,y2:M})}return k.createElement(Ve,Ev({className:"recharts-errorBar",key:"bar-".concat(S.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},f),S.map(function(H){return k.createElement("line",Ev({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return k.createElement(Ve,{className:"recharts-errorBars"},m)}}])}(k.Component);H3(lp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});H3(lp,"displayName","ErrorBar");function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function y2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(r),!0).forEach(function(n){t0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t0e(t,e,r){return e=r0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r0e(t){var e=n0e(t,"string");return cf(e)=="symbol"?e:e+""}function n0e(t,e){if(cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K3=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=rn(r,Uo);if(!o)return null;var a=Uo.defaultProps,l=a!==void 0?pa(pa({},a),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:s==="children"?c=(n||[]).reduce(function(u,d){var h=d.item,f=d.props,m=f.sectors||f.data||[];return u.concat(m.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):c=(n||[]).map(function(u){var d=u.item,h=d.type.defaultProps,f=h!==void 0?pa(pa({},h),d.props):{},m=f.dataKey,p=f.name,v=f.legendType,y=f.hide;return{inactive:y,dataKey:m,type:l.iconType||v||"square",color:vT(d),value:p||m,payload:f}}),pa(pa(pa({},l),Uo.getWithHeight(o,i)),{},{payload:c,item:o})};function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function b2(t){return a0e(t)||o0e(t)||s0e(t)||i0e()}function i0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s0e(t,e){if(t){if(typeof t=="string")return PS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PS(t,e)}}function o0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a0e(t){if(Array.isArray(t))return PS(t)}function PS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function x2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(r),!0).forEach(function(n){Nc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nc(t,e,r){return e=l0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l0e(t){var e=c0e(t,"string");return uf(e)=="symbol"?e:e+""}function c0e(t,e){if(uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gt(t,e,r){return ke(t)||ke(e)?r:qt(e)?hn(t,e,r):xe(e)?e(t):r}function uh(t,e,r,n){var i=oye(t,function(a){return Gt(a,e)});if(r==="number"){var s=i.filter(function(a){return J(a)||parseFloat(a)});return s.length?[B0(s),F0(s)]:[1/0,-1/0]}var o=n?i.filter(function(a){return!ke(a)}):i;return o.map(function(a){return qt(a)||a instanceof Date?a:""})}var u0e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<a;c++){var u=c>0?i[c-1].coordinate:i[a-1].coordinate,d=i[c].coordinate,h=c>=a-1?i[0].coordinate:i[c+1].coordinate,f=void 0;if(Er(d-u)!==Er(h-d)){var m=[];if(Er(h-d)===Er(l[1]-l[0])){f=h;var p=d+l[1]-l[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{f=u;var v=h+l[1]-l[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var y=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){o=i[c].index;break}}else{var b=Math.min(u,h),x=Math.max(u,h);if(e>(b+d)/2&&e<=(x+d)/2){o=i[c].index;break}}}else for(var _=0;_<a;_++)if(_===0&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<a-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===a-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},vT=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?kt(kt({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},d0e=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,c=a.length;l<c;l++)for(var u=s[a[l]].stackGroups,d=Object.keys(u),h=0,f=d.length;h<f;h++){var m=u[d[h]],p=m.items,v=m.cateAxisId,y=p.filter(function(O){return Ps(O.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,x=b!==void 0?kt(kt({},b),y[0].props):y[0].props,_=x.barSize,S=x[v];o[S]||(o[S]=[]);var C=ke(_)?r:_;o[S].push({item:y[0],stackList:y.slice(1),barSize:ke(C)?void 0:kr(C,n,0)})}}return o},h0e=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var c=kr(r,i,0,!0),u,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,f=i/l,m=o.reduce(function(_,S){return _+S.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&f>0&&(h=!0,f*=.9,m=l*f);var p=(i-m)/2>>0,v={offset:p-c,size:0};u=o.reduce(function(_,S){var C={item:S.item,position:{offset:v.offset+v.size+c,size:h?f:S.barSize}},O=[].concat(b2(_),[C]);return v=O[O.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){O.push({item:T,position:v})}),O},d)}else{var y=kr(n,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var b=(i-2*y-(l-1)*c)/l;b>1&&(b>>=0);var x=a===+a?Math.min(b,a):b;u=o.reduce(function(_,S,C){var O=[].concat(b2(_),[{item:S.item,position:{offset:y+(b+c)*C+(b-x)/2,size:x}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){O.push({item:T,position:O[O.length-1].position})}),O},d)}return u},f0e=function(e,r,n,i){var s=n.children,o=n.width,a=n.margin,l=o-(a.left||0)-(a.right||0),c=K3({children:s,legendWidth:l});if(c){var u=i||{},d=u.width,h=u.height,f=c.align,m=c.verticalAlign,p=c.layout;if((p==="vertical"||p==="horizontal"&&m==="middle")&&f!=="center"&&J(e[f]))return kt(kt({},e),{},Nc({},f,e[f]+(d||0)));if((p==="horizontal"||p==="vertical"&&f==="center")&&m!=="middle"&&J(e[m]))return kt(kt({},e),{},Nc({},m,e[m]+(h||0)))}return e},p0e=function(e,r,n){return ke(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},q3=function(e,r,n,i,s){var o=r.props.children,a=fn(o,lp).filter(function(c){return p0e(i,s,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Gt(u,n);if(ke(d))return c;var h=Array.isArray(d)?[B0(d),F0(d)]:[d,d],f=l.reduce(function(m,p){var v=Gt(u,p,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(f[0],c[0]),Math.max(f[1],c[1])]},[1/0,-1/0])}return null},g0e=function(e,r,n,i,s){var o=r.map(function(a){return q3(e,a,n,s,i)}).filter(function(a){return!ke(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},Y3=function(e,r,n,i,s){var o=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&q3(e,l,c,i)||uh(e,c,n,s)});if(n==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)a[c[u]]||(a[c[u]]=!0,l.push(c[u]));return l},[])},X3=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Z3=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===r&&(s=!0),l.coordinate===n&&(o=!0),l.coordinate});return s||a.push(r),o||a.push(n),a},Os=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Er(a[0]-a[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return u.filter(function(d){return!tp(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:s?s[d]:d,index:h,offset:c}})},Mx=new WeakMap,ag=function(e,r){if(typeof r!="function")return e;Mx.has(e)||Mx.set(e,new WeakMap);var n=Mx.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},J3=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:tf(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:_v(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ch(),realScaleType:"point"}:s==="category"?{scale:tf(),realScaleType:"band"}:{scale:_v(),realScaleType:"linear"};if(pl(i)){var l="scale".concat(C0(i));return{scale:(f2[l]||ch)(),realScaleType:f2[l]?l:"point"}}return xe(i)?{scale:i}:{scale:ch(),realScaleType:"point"}},w2=1e-4,Q3=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-w2,o=Math.max(i[0],i[1])+w2,a=e(r[0]),l=e(r[n-1]);(a<s||a>o||l<s||l>o)&&e.domain([r[0],r[n-1]])}},m0e=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},v0e=function(e,r){if(!r||r.length!==2||!J(r[0])||!J(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!J(e[0])||e[0]<n)&&(s[0]=n),(!J(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},y0e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,a=0;a<r;++a){var l=tp(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=s,e[a][n][1]=s+l,s=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+l,o=e[a][n][1])}},b0e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var a=tp(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=s,e[o][n][1]=s+a,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},x0e={sign:y0e,expand:Fse,none:au,silhouette:Bse,wiggle:zse,positive:b0e},w0e=function(e,r,n){var i=r.map(function(a){return a.props.dataKey}),s=x0e[n],o=Lse().keys(i).value(function(a,l){return+Gt(a,l,0)}).order(eS).offset(s);return o(e)},_0e=function(e,r,n,i,s,o){if(!e)return null;var a=o?r.reverse():r,l={},c=a.reduce(function(d,h){var f,m=(f=h.type)!==null&&f!==void 0&&f.defaultProps?kt(kt({},h.type.defaultProps),h.props):h.props,p=m.stackId,v=m.hide;if(v)return d;var y=m[n],b=d[y]||{hasStack:!1,stackGroups:{}};if(qt(p)){var x=b.stackGroups[p]||{numericAxisId:n,cateAxisId:i,items:[]};x.items.push(h),b.hasStack=!0,b.stackGroups[p]=x}else b.stackGroups[Ju("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return kt(kt({},d),{},Nc({},y,b))},l),u={};return Object.keys(c).reduce(function(d,h){var f=c[h];if(f.hasStack){var m={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(p,v){var y=f.stackGroups[v];return kt(kt({},p),{},Nc({},v,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:w0e(e,y.items,s)}))},m)}return kt(kt({},d),{},Nc({},h,f))},u)},ez=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,a=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Dye(c,s,a);return e.domain([B0(u),F0(u)]),{niceTicks:u}}if(s&&i==="number"){var d=e.domain(),h=Iye(d,s,a);return{niceTicks:h}}return null};function _2(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ke(i[e.dataKey])){var a=tv(r,"value",i[e.dataKey]);if(a)return a.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=Gt(i,ke(o)?e.dataKey:o);return ke(l)?null:e.scale(l)}var S2=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(r.type==="category")return n[a]?n[a].coordinate+i:null;var l=Gt(o,r.dataKey,r.domain[a]);return ke(l)?null:r.scale(l)-s/2+i},S0e=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},C0e=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?kt(kt({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(qt(s)){var o=r[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},O0e=function(e){return e.reduce(function(r,n){return[B0(n.concat([r[0]]).filter(J)),F0(n.concat([r[1]]).filter(J))]},[1/0,-1/0])},tz=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(c,u){var d=O0e(u.slice(r,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},C2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,O2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jS=function(e,r,n){if(xe(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(J(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(C2.test(e[0])){var s=+C2.exec(e[0])[1];i[0]=r[0]-s}else xe(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(J(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(O2.test(e[1])){var o=+O2.exec(e[1])[1];i[1]=r[1]+o}else xe(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Pv=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=HO(r,function(d){return d.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var c=s[a],u=s[a-1];o=Math.min((c.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},T2=function(e,r,n){return!e||!e.length||ap(e,hn(n,"type.defaultProps.domain"))?r:e},rz=function(e,r){var n=e.type.defaultProps?kt(kt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,a=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return kt(kt({},me(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:vT(e),value:Gt(r,i),type:l,payload:r,chartType:c,hide:u})};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function E2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(r),!0).forEach(function(n){nz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nz(t,e,r){return e=T0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T0e(t){var e=E0e(t,"string");return df(e)=="symbol"?e:e+""}function E0e(t,e){if(df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k0e(t,e){return N0e(t)||A0e(t,e)||j0e(t,e)||P0e()}function P0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j0e(t,e){if(t){if(typeof t=="string")return k2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k2(t,e)}}function k2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function N0e(t){if(Array.isArray(t))return t}var jv=Math.PI/180,R0e=function(e){return e*180/Math.PI},ut=function(e,r,n,i){return{x:e+Math.cos(-jv*i)*n,y:r+Math.sin(-jv*i)*n}},iz=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},M0e=function(e,r,n,i,s){var o=e.width,a=e.height,l=e.startAngle,c=e.endAngle,u=kr(e.cx,o,o/2),d=kr(e.cy,a,a/2),h=iz(o,a,n),f=kr(e.innerRadius,h,0),m=kr(e.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(v,y){var b=r[y],x=b.domain,_=b.reversed,S;if(ke(b.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[f,m]),_&&(S=[S[1],S[0]]);else{S=b.range;var C=S,O=k0e(C,2);l=O[0],c=O[1]}var T=J3(b,s),E=T.realScaleType,j=T.scale;j.domain(x).range(S),Q3(j);var P=ez(j,gs(gs({},b),{},{realScaleType:E})),A=gs(gs(gs({},b),P),{},{range:S,radius:m,realScaleType:E,scale:j,cx:u,cy:d,innerRadius:f,outerRadius:m,startAngle:l,endAngle:c});return gs(gs({},v),{},nz({},y,A))},{})},$0e=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},D0e=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,a=$0e({x:n,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(n-s)/a,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:a,angle:R0e(c),angleInRadian:c}},I0e=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},L0e=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},P2=function(e,r){var n=e.x,i=e.y,s=D0e({x:n,y:i},r),o=s.radius,a=s.angle,l=r.innerRadius,c=r.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var u=I0e(r),d=u.startAngle,h=u.endAngle,f=a,m;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;m=f>=h&&f<=d}return m?gs(gs({},r),{},{radius:o,angle:L0e(f,r)}):null},sz=function(e){return!w.isValidElement(e)&&!xe(e)&&typeof e!="boolean"?e.className:""};function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}var F0e=["offset"];function B0e(t){return V0e(t)||W0e(t)||U0e(t)||z0e()}function z0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U0e(t,e){if(t){if(typeof t=="string")return AS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AS(t,e)}}function W0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V0e(t){if(Array.isArray(t))return AS(t)}function AS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H0e(t,e){if(t==null)return{};var r=G0e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function j2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(r),!0).forEach(function(n){K0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K0e(t,e,r){return e=q0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q0e(t){var e=Y0e(t,"string");return hf(e)=="symbol"?e:e+""}function Y0e(t,e){if(hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ff.apply(this,arguments)}var X0e=function(e){var r=e.value,n=e.formatter,i=ke(e.children)?r:e.children;return xe(n)?n(i):i},Z0e=function(e,r){var n=Er(r-e),i=Math.min(Math.abs(r-e),360);return n*i},J0e=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,c=l.cx,u=l.cy,d=l.innerRadius,h=l.outerRadius,f=l.startAngle,m=l.endAngle,p=l.clockWise,v=(d+h)/2,y=Z0e(f,m),b=y>=0?1:-1,x,_;i==="insideStart"?(x=f+b*o,_=p):i==="insideEnd"?(x=m-b*o,_=!p):i==="end"&&(x=m+b*o,_=p),_=y<=0?_:!_;var S=ut(c,u,v,x),C=ut(c,u,v,x+(_?1:-1)*359),O="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(C.x,",").concat(C.y),T=ke(e.id)?Ju("recharts-radial-line-"):e.id;return k.createElement("text",ff({},n,{dominantBaseline:"central",className:je("recharts-radial-bar-label",a)}),k.createElement("defs",null,k.createElement("path",{id:T,d:O})),k.createElement("textPath",{xlinkHref:"#".concat(T)},r))},Q0e=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,a=s.cy,l=s.innerRadius,c=s.outerRadius,u=s.startAngle,d=s.endAngle,h=(u+d)/2;if(i==="outside"){var f=ut(o,a,c+n,h),m=f.x,p=f.y;return{x:m,y:p,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=ut(o,a,v,h),b=y.x,x=y.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},ebe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,a=o.x,l=o.y,c=o.width,u=o.height,d=u>=0?1:-1,h=d*i,f=d>0?"end":"start",m=d>0?"start":"end",p=c>=0?1:-1,v=p*i,y=p>0?"end":"start",b=p>0?"start":"end";if(s==="top"){var x={x:a+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:f};return Ut(Ut({},x),n?{height:Math.max(l-n.y,0),width:c}:{})}if(s==="bottom"){var _={x:a+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return Ut(Ut({},_),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(s==="left"){var S={x:a-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Ut(Ut({},S),n?{width:Math.max(S.x-n.x,0),height:u}:{})}if(s==="right"){var C={x:a+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Ut(Ut({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:u}:{})}var O=n?{width:c,height:u}:{};return s==="insideLeft"?Ut({x:a+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},O):s==="insideRight"?Ut({x:a+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},O):s==="insideTop"?Ut({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},O):s==="insideBottom"?Ut({x:a+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:f},O):s==="insideTopLeft"?Ut({x:a+v,y:l+h,textAnchor:b,verticalAnchor:m},O):s==="insideTopRight"?Ut({x:a+c-v,y:l+h,textAnchor:y,verticalAnchor:m},O):s==="insideBottomLeft"?Ut({x:a+v,y:l+u-h,textAnchor:b,verticalAnchor:f},O):s==="insideBottomRight"?Ut({x:a+c-v,y:l+u-h,textAnchor:y,verticalAnchor:f},O):qu(s)&&(J(s.x)||Da(s.x))&&(J(s.y)||Da(s.y))?Ut({x:a+kr(s.x,c),y:l+kr(s.y,u),textAnchor:"end",verticalAnchor:"end"},O):Ut({x:a+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},O)},tbe=function(e){return"cx"in e&&J(e.cx)};function nr(t){var e=t.offset,r=e===void 0?5:e,n=H0e(t,F0e),i=Ut({offset:r},n),s=i.viewBox,o=i.position,a=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,h=i.textBreakAll;if(!s||ke(a)&&ke(l)&&!w.isValidElement(c)&&!xe(c))return null;if(w.isValidElement(c))return w.cloneElement(c,i);var f;if(xe(c)){if(f=w.createElement(c,i),w.isValidElement(f))return f}else f=X0e(i);var m=tbe(s),p=me(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return J0e(i,f,p);var v=m?Q0e(i):ebe(i);return k.createElement(ml,ff({className:je("recharts-label",d)},p,v,{breakAll:h}),f)}nr.displayName="Label";var oz=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,h=e.y,f=e.top,m=e.left,p=e.width,v=e.height,y=e.clockWise,b=e.labelViewBox;if(b)return b;if(J(p)&&J(v)){if(J(d)&&J(h))return{x:d,y:h,width:p,height:v};if(J(f)&&J(m))return{x:f,y:m,width:p,height:v}}return J(d)&&J(h)?{x:d,y:h,width:0,height:0}:J(r)&&J(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:y}:e.viewBox?e.viewBox:{}},rbe=function(e,r){return e?e===!0?k.createElement(nr,{key:"label-implicit",viewBox:r}):qt(e)?k.createElement(nr,{key:"label-implicit",viewBox:r,value:e}):w.isValidElement(e)?e.type===nr?w.cloneElement(e,{key:"label-implicit",viewBox:r}):k.createElement(nr,{key:"label-implicit",content:e,viewBox:r}):xe(e)?k.createElement(nr,{key:"label-implicit",content:e,viewBox:r}):qu(e)?k.createElement(nr,ff({viewBox:r},e,{key:"label-implicit"})):null:null},nbe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=oz(e),o=fn(i,nr).map(function(l,c){return w.cloneElement(l,{viewBox:r||s,key:"label-".concat(c)})});if(!n)return o;var a=rbe(e.label,r||s);return[a].concat(B0e(o))};nr.parseViewBox=oz;nr.renderCallByParent=nbe;function ibe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var sbe=ibe;const obe=Xe(sbe);function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}var abe=["valueAccessor"],lbe=["data","dataKey","clockWise","id","textBreakAll"];function cbe(t){return fbe(t)||hbe(t)||dbe(t)||ube()}function ube(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dbe(t,e){if(t){if(typeof t=="string")return NS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NS(t,e)}}function hbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fbe(t){if(Array.isArray(t))return NS(t)}function NS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Av.apply(this,arguments)}function A2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(r),!0).forEach(function(n){pbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pbe(t,e,r){return e=gbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gbe(t){var e=mbe(t,"string");return pf(e)=="symbol"?e:e+""}function mbe(t,e){if(pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R2(t,e){if(t==null)return{};var r=vbe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ybe=function(e){return Array.isArray(e.value)?obe(e.value):e.value};function As(t){var e=t.valueAccessor,r=e===void 0?ybe:e,n=R2(t,abe),i=n.data,s=n.dataKey,o=n.clockWise,a=n.id,l=n.textBreakAll,c=R2(n,lbe);return!i||!i.length?null:k.createElement(Ve,{className:"recharts-label-list"},i.map(function(u,d){var h=ke(s)?r(u,d):Gt(u&&u.payload,s),f=ke(a)?{}:{id:"".concat(a,"-").concat(d)};return k.createElement(nr,Av({},me(u,!0),c,f,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:nr.parseViewBox(ke(o)?u:N2(N2({},u),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}As.displayName="LabelList";function bbe(t,e){return t?t===!0?k.createElement(As,{key:"labelList-implicit",data:e}):k.isValidElement(t)||xe(t)?k.createElement(As,{key:"labelList-implicit",data:e,content:t}):qu(t)?k.createElement(As,Av({data:e},t,{key:"labelList-implicit"})):null:null}function xbe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=fn(n,As).map(function(o,a){return w.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!r)return i;var s=bbe(t.label,e);return[s].concat(cbe(i))}As.renderCallByParent=xbe;function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function RS(){return RS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RS.apply(this,arguments)}function M2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(r),!0).forEach(function(n){wbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wbe(t,e,r){return e=_be(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _be(t){var e=Sbe(t,"string");return gf(e)=="symbol"?e:e+""}function Sbe(t,e){if(gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cbe=function(e,r){var n=Er(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},lg=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(a?1:-1)+i,d=Math.asin(l/u)/jv,h=c?s:s+o*d,f=ut(r,n,u,h),m=ut(r,n,i,h),p=c?s-o*d:s,v=ut(r,n,u*Math.cos(d*jv),p);return{center:f,circleTangency:m,lineTangency:v,theta:d}},az=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=Cbe(o,a),c=o+l,u=ut(r,n,s,o),d=ut(r,n,s,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var f=ut(r,n,i,o),m=ut(r,n,i,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Obe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=Er(u-c),h=lg({cx:r,cy:n,radius:s,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),f=h.circleTangency,m=h.lineTangency,p=h.theta,v=lg({cx:r,cy:n,radius:s,angle:u,sign:-d,cornerRadius:o,cornerIsExternal:l}),y=v.circleTangency,b=v.lineTangency,x=v.theta,_=l?Math.abs(c-u):Math.abs(c-u)-p-x;if(_<0)return a?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):az({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var C=lg({cx:r,cy:n,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=C.circleTangency,T=C.lineTangency,E=C.theta,j=lg({cx:r,cy:n,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=j.circleTangency,A=j.lineTangency,I=j.theta,R=l?Math.abs(c-u):Math.abs(c-u)-E-I;if(R<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},Tbe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lz=function(e){var r=$2($2({},Tbe),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,a=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,d=r.endAngle,h=r.className;if(o<s||u===d)return null;var f=je("recharts-sector",h),m=o-s,p=kr(a,m,0,!0),v;return p>0&&Math.abs(u-d)<360?v=Obe({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=az({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:u,endAngle:d}),k.createElement("path",RS({},me(r,!0),{className:f,d:v,role:"img"}))};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function MS(){return MS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MS.apply(this,arguments)}function D2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function I2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(r),!0).forEach(function(n){Ebe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ebe(t,e,r){return e=kbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kbe(t){var e=Pbe(t,"string");return mf(e)=="symbol"?e:e+""}function Pbe(t,e){if(mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L2={curveBasisClosed:Ese,curveBasisOpen:kse,curveBasis:Tse,curveBumpX:hse,curveBumpY:fse,curveLinearClosed:Pse,curveLinear:T0,curveMonotoneX:jse,curveMonotoneY:Ase,curveNatural:Nse,curveStep:Rse,curveStepAfter:$se,curveStepBefore:Mse},cg=function(e){return e.x===+e.x&&e.y===+e.y},Pd=function(e){return e.x},jd=function(e){return e.y},jbe=function(e,r){if(xe(e))return e;var n="curve".concat(C0(e));return(n==="curveMonotone"||n==="curveBump")&&r?L2["".concat(n).concat(r==="vertical"?"Y":"X")]:L2[n]||T0},Abe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=jbe(n,a),d=c?s.filter(function(p){return cg(p)}):s,h;if(Array.isArray(o)){var f=c?o.filter(function(p){return cg(p)}):o,m=d.map(function(p,v){return I2(I2({},p),{},{base:f[v]})});return a==="vertical"?h=Qp().y(jd).x1(Pd).x0(function(p){return p.base.x}):h=Qp().x(Pd).y1(jd).y0(function(p){return p.base.y}),h.defined(cg).curve(u),h(m)}return a==="vertical"&&J(o)?h=Qp().y(jd).x1(Pd).x0(o):J(o)?h=Qp().x(Pd).y1(jd).y0(o):h=r5().x(Pd).y(jd),h.defined(cg).curve(u),h(d)},Nv=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Abe(e):i;return w.createElement("path",MS({},me(e,!1),rv(e),{className:je("recharts-curve",r),d:o,ref:s}))},cz={exports:{}},Nbe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Rbe=Nbe,Mbe=Rbe;function uz(){}function dz(){}dz.resetWarningCache=uz;var $be=function(){function t(n,i,s,o,a,l){if(l!==Mbe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:dz,resetWarningCache:uz};return r.PropTypes=r,r};cz.exports=$be();var Dbe=cz.exports;const Ge=Xe(Dbe);var Ibe=Object.getOwnPropertyNames,Lbe=Object.getOwnPropertySymbols,Fbe=Object.prototype.hasOwnProperty;function F2(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function ug(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),a=s.get(n);if(o&&a)return o===n&&a===r;s.set(r,n),s.set(n,r);var l=t(r,n,i);return s.delete(r),s.delete(n),l}}function Bbe(t){return t!=null?t[Symbol.toStringTag]:void 0}function B2(t){return Ibe(t).concat(Lbe(t))}var zbe=Object.hasOwn||function(t,e){return Fbe.call(t,e)};function jl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Ube="__v",Wbe="__o",Vbe="_owner",z2=Object.getOwnPropertyDescriptor,U2=Object.keys;function Hbe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Gbe(t,e){return jl(t.getTime(),e.getTime())}function Kbe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function qbe(t,e){return t===e}function W2(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var c=e.entries(),u=!1,d=0;(a=c.next())&&!a.done;){if(i[d]){d++;continue}var h=o.value,f=a.value;if(r.equals(h[0],f[0],l,d,t,e,r)&&r.equals(h[1],f[1],h[0],f[0],t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var Ybe=jl;function Xbe(t,e,r){var n=U2(t),i=n.length;if(U2(e).length!==i)return!1;for(;i-- >0;)if(!hz(t,e,r,n[i]))return!1;return!0}function Ad(t,e,r){var n=B2(t),i=n.length;if(B2(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=n[i],!hz(t,e,r,s)||(o=z2(t,s),a=z2(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function Zbe(t,e){return jl(t.valueOf(),e.valueOf())}function Jbe(t,e){return t.source===e.source&&t.flags===e.flags}function V2(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var l=e.values(),c=!1,u=0;(a=l.next())&&!a.done;){if(!i[u]&&r.equals(o.value,a.value,o.value,a.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Qbe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function exe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function hz(t,e,r,n){return(n===Vbe||n===Wbe||n===Ube)&&(t.$$typeof||e.$$typeof)?!0:zbe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var txe="[object Arguments]",rxe="[object Boolean]",nxe="[object Date]",ixe="[object Error]",sxe="[object Map]",oxe="[object Number]",axe="[object Object]",lxe="[object RegExp]",cxe="[object Set]",uxe="[object String]",dxe="[object URL]",hxe=Array.isArray,H2=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,G2=Object.assign,fxe=Object.prototype.toString.call.bind(Object.prototype.toString);function pxe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual,f=t.unknownTagComparators;return function(p,v,y){if(p===v)return!0;if(p==null||v==null)return!1;var b=typeof p;if(b!==typeof v)return!1;if(b!=="object")return b==="number"?o(p,v,y):b==="function"?i(p,v,y):!1;var x=p.constructor;if(x!==v.constructor)return!1;if(x===Object)return a(p,v,y);if(hxe(p))return e(p,v,y);if(H2!=null&&H2(p))return d(p,v,y);if(x===Date)return r(p,v,y);if(x===RegExp)return c(p,v,y);if(x===Map)return s(p,v,y);if(x===Set)return u(p,v,y);var _=fxe(p);if(_===nxe)return r(p,v,y);if(_===lxe)return c(p,v,y);if(_===sxe)return s(p,v,y);if(_===cxe)return u(p,v,y);if(_===axe)return typeof p.then!="function"&&typeof v.then!="function"&&a(p,v,y);if(_===dxe)return h(p,v,y);if(_===ixe)return n(p,v,y);if(_===txe)return a(p,v,y);if(_===rxe||_===oxe||_===uxe)return l(p,v,y);if(f){var S=f[_];if(!S){var C=Bbe(p);C&&(S=f[C])}if(S)return S(p,v,y)}return!1}}function gxe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Ad:Hbe,areDatesEqual:Gbe,areErrorsEqual:Kbe,areFunctionsEqual:qbe,areMapsEqual:n?F2(W2,Ad):W2,areNumbersEqual:Ybe,areObjectsEqual:n?Ad:Xbe,arePrimitiveWrappersEqual:Zbe,areRegExpsEqual:Jbe,areSetsEqual:n?F2(V2,Ad):V2,areTypedArraysEqual:n?Ad:Qbe,areUrlsEqual:exe,unknownTagComparators:void 0};if(r&&(i=G2({},i,r(i))),e){var s=ug(i.areArraysEqual),o=ug(i.areMapsEqual),a=ug(i.areObjectsEqual),l=ug(i.areSetsEqual);i=G2({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function mxe(t){return function(e,r,n,i,s,o,a){return t(e,r,a)}}function vxe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(l,c){var u=n(),d=u.cache,h=d===void 0?e?new WeakMap:void 0:d,f=u.meta;return r(l,c,{cache:h,equals:i,meta:f,strict:s})};if(e)return function(l,c){return r(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return r(l,c,o)}}var yxe=la();la({strict:!0});la({circular:!0});la({circular:!0,strict:!0});la({createInternalComparator:function(){return jl}});la({strict:!0,createInternalComparator:function(){return jl}});la({circular:!0,createInternalComparator:function(){return jl}});la({circular:!0,createInternalComparator:function(){return jl},strict:!0});function la(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=gxe(t),l=pxe(a),c=n?n(l):mxe(l);return vxe({circular:r,comparator:l,createState:i,equals:c,strict:o})}function bxe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function K2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):bxe(i)};requestAnimationFrame(n)}function $S(t){"@babel/helpers - typeof";return $S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$S(t)}function xxe(t){return Cxe(t)||Sxe(t)||_xe(t)||wxe()}function wxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _xe(t,e){if(t){if(typeof t=="string")return q2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q2(t,e)}}function q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cxe(t){if(Array.isArray(t))return t}function Oxe(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,a=xxe(o),l=a[0],c=a.slice(1);if(typeof l=="number"){K2(i.bind(null,c),l);return}i(l),K2(i.bind(null,c));return}$S(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function Y2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(r),!0).forEach(function(n){fz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fz(t,e,r){return e=Txe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Txe(t){var e=Exe(t,"string");return vf(e)==="symbol"?e:String(e)}function Exe(t,e){if(vf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kxe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},Pxe=function(e){return e},jxe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},dh=function(e,r){return Object.keys(r).reduce(function(n,i){return X2(X2({},n),{},fz({},i,e(i,r[i])))},{})},Z2=function(e,r,n){return e.map(function(i){return"".concat(jxe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Axe(t,e){return Mxe(t)||Rxe(t,e)||pz(t,e)||Nxe()}function Nxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Mxe(t){if(Array.isArray(t))return t}function $xe(t){return Lxe(t)||Ixe(t)||pz(t)||Dxe()}function Dxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pz(t,e){if(t){if(typeof t=="string")return DS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DS(t,e)}}function Ixe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lxe(t){if(Array.isArray(t))return DS(t)}function DS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Rv=1e-4,gz=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},mz=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},J2=function(e,r){return function(n){var i=gz(e,r);return mz(i,n)}},Fxe=function(e,r){return function(n){var i=gz(e,r),s=[].concat($xe(i.map(function(o,a){return o*a}).slice(1)),[0]);return mz(s,n)}},Q2=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],a=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=Axe(c,4);i=u[0],s=u[1],o=u[2],a=u[3]}}}var d=J2(i,o),h=J2(s,a),f=Fxe(i,o),m=function(y){return y>1?1:y<0?0:y},p=function(y){for(var b=y>1?1:y,x=b,_=0;_<8;++_){var S=d(x)-b,C=f(x);if(Math.abs(S-b)<Rv||C<Rv)return h(x);x=m(x-S/C)}return h(x)};return p.isStepper=!1,p},Bxe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(u,d,h){var f=-(u-d)*n,m=h*s,p=h+(f-m)*a/1e3,v=h*a/1e3+u;return Math.abs(v-d)<Rv&&Math.abs(p)<Rv?[d,0]:[v,p]};return l.isStepper=!0,l.dt=a,l},zxe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Q2(i);case"spring":return Bxe();default:if(i.split("(")[0]==="cubic-bezier")return Q2(i)}return typeof i=="function"?i:null};function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function eN(t){return Vxe(t)||Wxe(t)||vz(t)||Uxe()}function Uxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vxe(t){if(Array.isArray(t))return LS(t)}function tN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(r),!0).forEach(function(n){IS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IS(t,e,r){return e=Hxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hxe(t){var e=Gxe(t,"string");return yf(e)==="symbol"?e:String(e)}function Gxe(t,e){if(yf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kxe(t,e){return Xxe(t)||Yxe(t,e)||vz(t,e)||qxe()}function qxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vz(t,e){if(t){if(typeof t=="string")return LS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LS(t,e)}}function LS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Xxe(t){if(Array.isArray(t))return t}var Mv=function(e,r,n){return e+(r-e)*n},FS=function(e){var r=e.from,n=e.to;return r!==n},Zxe=function t(e,r,n){var i=dh(function(s,o){if(FS(o)){var a=e(o.from,o.to,o.velocity),l=Kxe(a,2),c=l[0],u=l[1];return ar(ar({},o),{},{from:c,velocity:u})}return o},r);return n<1?dh(function(s,o){return FS(o)?ar(ar({},o),{},{velocity:Mv(o.velocity,i[s].velocity,n),from:Mv(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const Jxe=function(t,e,r,n,i){var s=kxe(t,e),o=s.reduce(function(v,y){return ar(ar({},v),{},IS({},y,[t[y],e[y]]))},{}),a=s.reduce(function(v,y){return ar(ar({},v),{},IS({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,u,d=function(){return null},h=function(){return dh(function(y,b){return b.from},a)},f=function(){return!Object.values(a).filter(FS).length},m=function(y){c||(c=y);var b=y-c,x=b/r.dt;a=Zxe(r,a,x),i(ar(ar(ar({},t),e),h())),c=y,f()||(l=requestAnimationFrame(d))},p=function(y){u||(u=y);var b=(y-u)/n,x=dh(function(S,C){return Mv.apply(void 0,eN(C).concat([r(b)]))},o);if(i(ar(ar(ar({},t),e),x)),b<1)l=requestAnimationFrame(d);else{var _=dh(function(S,C){return Mv.apply(void 0,eN(C).concat([r(1)]))},o);i(ar(ar(ar({},t),e),_))}};return d=r.isStepper?m:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}var Qxe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ewe(t,e){if(t==null)return{};var r=twe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function twe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function $x(t){return swe(t)||iwe(t)||nwe(t)||rwe()}function rwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nwe(t,e){if(t){if(typeof t=="string")return BS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BS(t,e)}}function iwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function swe(t){if(Array.isArray(t))return BS(t)}function BS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(r),!0).forEach(function(n){Wd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wd(t,e,r){return e=yz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function owe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function awe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yz(n.key),n)}}function lwe(t,e,r){return e&&awe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yz(t){var e=cwe(t,"string");return mu(e)==="symbol"?e:String(e)}function cwe(t,e){if(mu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zS(t,e)}function zS(t,e){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zS(t,e)}function dwe(t){var e=hwe();return function(){var n=$v(t),i;if(e){var s=$v(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return US(this,i)}}function US(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WS(t)}function WS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$v(t)}var ts=function(t){uwe(r,t);var e=dwe(r);function r(n,i){var s;owe(this,r),s=e.call(this,n,i);var o=s.props,a=o.isActive,l=o.attributeName,c=o.from,u=o.to,d=o.steps,h=o.children,f=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(WS(s)),s.changeStyle=s.changeStyle.bind(WS(s)),!a||f<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:u}),US(s);if(d&&d.length)s.state={style:d[0].style};else if(c){if(typeof h=="function")return s.state={style:c},US(s);s.state={style:l?Wd({},l,c):c}}else s.state={style:{}};return s}return lwe(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,u=s.to,d=s.from,h=this.state.style;if(a){if(!o){var f={style:l?Wd({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(f);return}if(!(yxe(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=m||c?d:i.to;if(this.state&&h){var v={style:l?Wd({},l,p):p};(l&&h[l]!==p||!l&&h!==p)&&this.setState(v)}this.runAnimation(Zn(Zn({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,f=Jxe(o,a,zxe(c),l,this.changeStyle),m=function(){s.stopJSAnimation=f()};this.manager.start([h,u,m,l,d])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,c=o[0],u=c.style,d=c.duration,h=d===void 0?0:d,f=function(p,v,y){if(y===0)return p;var b=v.duration,x=v.easing,_=x===void 0?"ease":x,S=v.style,C=v.properties,O=v.onAnimationEnd,T=y>0?o[y-1]:v,E=C||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat($x(p),[s.runJSAnimation.bind(s,{from:T.style,to:S,duration:b,easing:_}),b]);var j=Z2(E,b,_),P=Zn(Zn(Zn({},T.style),S),{},{transition:j});return[].concat($x(p),[P,b,O]).filter(Pxe)};return this.manager.start([l].concat($x(o.reduce(f,[u,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Oxe());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,f=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof f=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var p=a?Wd({},a,l):l,v=Z2(Object.keys(p),o,c);m.start([u,s,Zn(Zn({},p),{},{transition:v}),o,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=ewe(i,Qxe),c=w.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!a||c===0||o<=0)return s;var d=function(f){var m=f.props,p=m.style,v=p===void 0?{}:p,y=m.className,b=w.cloneElement(f,Zn(Zn({},l),{},{style:Zn(Zn({},v),u),className:y}));return b};return c===1?d(w.Children.only(s)):k.createElement("div",null,w.Children.map(s,function(h){return d(h)}))}}]),r}(w.PureComponent);ts.displayName="Animate";ts.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ts.propTypes={from:Ge.oneOfType([Ge.object,Ge.string]),to:Ge.oneOfType([Ge.object,Ge.string]),attributeName:Ge.string,duration:Ge.number,begin:Ge.number,easing:Ge.oneOfType([Ge.string,Ge.func]),steps:Ge.arrayOf(Ge.shape({duration:Ge.number.isRequired,style:Ge.object.isRequired,easing:Ge.oneOfType([Ge.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ge.func]),properties:Ge.arrayOf("string"),onAnimationEnd:Ge.func})),children:Ge.oneOfType([Ge.node,Ge.func]),isActive:Ge.bool,canBegin:Ge.bool,onAnimationEnd:Ge.func,shouldReAnimate:Ge.bool,onAnimationStart:Ge.func,onAnimationReStart:Ge.func};function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dv.apply(this,arguments)}function fwe(t,e){return vwe(t)||mwe(t,e)||gwe(t,e)||pwe()}function pwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gwe(t,e){if(t){if(typeof t=="string")return nN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nN(t,e)}}function nN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function vwe(t){if(Array.isArray(t))return t}function iN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(r),!0).forEach(function(n){ywe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ywe(t,e,r){return e=bwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bwe(t){var e=xwe(t,"string");return bf(e)=="symbol"?e:e+""}function xwe(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oN=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),a=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=s[h]>o?o:s[h];u="M".concat(e,",").concat(r+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(r)),u+="L ".concat(e+n-l*d[1],",").concat(r),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+a*d[1])),u+="L ".concat(e+n,",").concat(r+i-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+n-l*d[2],",").concat(r+i)),u+="L ".concat(e+l*d[3],",").concat(r+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-a*d[3])),u+="Z"}else if(o>0&&s===+s&&s>0){var m=Math.min(o,s);u="M ".concat(e,",").concat(r+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(r,`
            L `).concat(e+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n,",").concat(r+a*m,`
            L `).concat(e+n,",").concat(r+i-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n-l*m,",").concat(r+i,`
            L `).concat(e+l*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(r+i-a*m," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},wwe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,a=r.width,l=r.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(s,s+a),u=Math.max(s,s+a),d=Math.min(o,o+l),h=Math.max(o,o+l);return n>=c&&n<=u&&i>=d&&i<=h}return!1},_we={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yT=function(e){var r=sN(sN({},_we),e),n=w.useRef(),i=w.useState(-1),s=fwe(i,2),o=s[0],a=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&a(_)}catch{}},[]);var l=r.x,c=r.y,u=r.width,d=r.height,h=r.radius,f=r.className,m=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var x=je("recharts-rectangle",f);return b?k.createElement(ts,{canBegin:o>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:p,animationEasing:m,isActive:b},function(_){var S=_.width,C=_.height,O=_.x,T=_.y;return k.createElement(ts,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:y,easing:m},k.createElement("path",Dv({},me(r,!0),{className:x,d:oN(O,T,S,C,h),ref:n})))}):k.createElement("path",Dv({},me(r,!0),{className:x,d:oN(l,c,u,d,h)}))},Swe=["points","className","baseLinePoints","connectNulls"];function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fc.apply(this,arguments)}function Cwe(t,e){if(t==null)return{};var r=Owe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Owe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aN(t){return Pwe(t)||kwe(t)||Ewe(t)||Twe()}function Twe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ewe(t,e){if(t){if(typeof t=="string")return VS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VS(t,e)}}function kwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pwe(t){if(Array.isArray(t))return VS(t)}function VS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var lN=function(e){return e&&e.x===+e.x&&e.y===+e.y},jwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){lN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),lN(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},hh=function(e,r){var n=jwe(e);r&&(n=[n.reduce(function(s,o){return[].concat(aN(s),aN(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,a,l){return"".concat(o).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Awe=function(e,r,n){var i=hh(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(hh(r.reverse(),n).slice(1))},Nwe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,o=Cwe(e,Swe);if(!r||!r.length)return null;var a=je("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=Awe(r,i,s);return k.createElement("g",{className:a},k.createElement("path",fc({},me(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?k.createElement("path",fc({},me(o,!0),{fill:"none",d:hh(r,s)})):null,l?k.createElement("path",fc({},me(o,!0),{fill:"none",d:hh(i,s)})):null)}var u=hh(r,s);return k.createElement("path",fc({},me(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:a,d:u}))};function HS(){return HS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HS.apply(this,arguments)}var W0=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=je("recharts-dot",s);return r===+r&&n===+n&&i===+i?w.createElement("circle",HS({},me(e,!1),rv(e),{className:o,cx:r,cy:n,r:i})):null};function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}var Rwe=["x","y","top","left","width","height","className"];function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GS.apply(this,arguments)}function cN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mwe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cN(Object(r),!0).forEach(function(n){$we(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $we(t,e,r){return e=Dwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dwe(t){var e=Iwe(t,"string");return xf(e)=="symbol"?e:e+""}function Iwe(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lwe(t,e){if(t==null)return{};var r=Fwe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Bwe=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},zwe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,h=e.height,f=h===void 0?0:h,m=e.className,p=Lwe(e,Rwe),v=Mwe({x:n,y:s,top:a,left:c,width:d,height:f},p);return!J(n)||!J(s)||!J(d)||!J(f)||!J(a)||!J(c)?null:k.createElement("path",GS({},me(v,!0),{className:je("recharts-cross",m),d:Bwe(n,s,d,f,a,c)}))},Uwe=L0,Wwe=j3,Vwe=as;function Hwe(t,e){return t&&t.length?Uwe(t,Vwe(e),Wwe):void 0}var Gwe=Hwe;const Kwe=Xe(Gwe);var qwe=L0,Ywe=as,Xwe=A3;function Zwe(t,e){return t&&t.length?qwe(t,Ywe(e),Xwe):void 0}var Jwe=Zwe;const Qwe=Xe(Jwe);var e_e=["cx","cy","angle","ticks","axisLine"],t_e=["ticks","tick","angle","tickFormatter","stroke"];function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fh.apply(this,arguments)}function uN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(r),!0).forEach(function(n){V0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dN(t,e){if(t==null)return{};var r=r_e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function n_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xz(n.key),n)}}function i_e(t,e,r){return e&&hN(t.prototype,e),r&&hN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s_e(t,e,r){return e=Iv(e),o_e(t,bz()?Reflect.construct(e,r||[],Iv(t).constructor):e.apply(t,r))}function o_e(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a_e(t)}function a_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bz=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iv(t)}function l_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KS(t,e)}function KS(t,e){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KS(t,e)}function V0(t,e,r){return e=xz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xz(t){var e=c_e(t,"string");return vu(e)=="symbol"?e:e+""}function c_e(t,e){if(vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H0=function(t){function e(){return n_e(this,e),s_e(this,e,arguments)}return l_e(e,t),i_e(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,a=s.cx,l=s.cy;return ut(a,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,a=n.ticks,l=Kwe(a,function(u){return u.coordinate||0}),c=Qwe(a,function(u){return u.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,a=n.ticks,l=n.axisLine,c=dN(n,e_e),u=a.reduce(function(m,p){return[Math.min(m[0],p.coordinate),Math.max(m[1],p.coordinate)]},[1/0,-1/0]),d=ut(i,s,u[0],o),h=ut(i,s,u[1],o),f=ga(ga(ga({},me(c,!1)),{},{fill:"none"},me(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return k.createElement("line",fh({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,a=i.angle,l=i.tickFormatter,c=i.stroke,u=dN(i,t_e),d=this.getTickTextAnchor(),h=me(u,!1),f=me(o,!1),m=s.map(function(p,v){var y=n.getTickValueCoord(p),b=ga(ga(ga(ga({textAnchor:d,transform:"rotate(".concat(90-a,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:c},f),{},{index:v},y),{},{payload:p});return k.createElement(Ve,fh({className:je("recharts-polar-radius-axis-tick",sz(o)),key:"tick-".concat(p.coordinate)},gl(n.props,p,v)),e.renderTickItem(o,b,l?l(p.value,v):p.value))});return k.createElement(Ve,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:k.createElement(Ve,{className:je("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),nr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return k.isValidElement(n)?o=k.cloneElement(n,i):xe(n)?o=n(i):o=k.createElement(ml,fh({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(w.PureComponent);V0(H0,"displayName","PolarRadiusAxis");V0(H0,"axisType","radiusAxis");V0(H0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pa.apply(this,arguments)}function fN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fN(Object(r),!0).forEach(function(n){G0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_z(n.key),n)}}function d_e(t,e,r){return e&&pN(t.prototype,e),r&&pN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function h_e(t,e,r){return e=Lv(e),f_e(t,wz()?Reflect.construct(e,r||[],Lv(t).constructor):e.apply(t,r))}function f_e(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p_e(t)}function p_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wz=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lv(t)}function g_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qS(t,e)}function qS(t,e){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qS(t,e)}function G0(t,e,r){return e=_z(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _z(t){var e=m_e(t,"string");return yu(e)=="symbol"?e:e+""}function m_e(t,e){if(yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var v_e=Math.PI/180,gN=1e-5,K0=function(t){function e(){return u_e(this,e),h_e(this,e,arguments)}return g_e(e,t),d_e(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,a=i.radius,l=i.orientation,c=i.tickSize,u=c||8,d=ut(s,o,a,n.coordinate),h=ut(s,o,a+(l==="inner"?-1:1)*u,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*v_e),o;return s>gN?o=i==="outer"?"start":"end":s<-gN?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,a=n.axisLine,l=n.axisLineType,c=ma(ma({},me(this.props,!1)),{},{fill:"none"},me(a,!1));if(l==="circle")return k.createElement(W0,Pa({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:o}));var u=this.props.ticks,d=u.map(function(h){return ut(i,s,o,h.coordinate)});return k.createElement(Nwe,Pa({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,a=i.tickLine,l=i.tickFormatter,c=i.stroke,u=me(this.props,!1),d=me(o,!1),h=ma(ma({},u),{},{fill:"none"},me(a,!1)),f=s.map(function(m,p){var v=n.getTickLineCoord(m),y=n.getTickTextAnchor(m),b=ma(ma(ma({textAnchor:y},u),{},{stroke:"none",fill:c},d),{},{index:p,payload:m,x:v.x2,y:v.y2});return k.createElement(Ve,Pa({className:je("recharts-polar-angle-axis-tick",sz(o)),key:"tick-".concat(m.coordinate)},gl(n.props,m,p)),a&&k.createElement("line",Pa({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&e.renderTickItem(o,b,l?l(m.value,p):m.value))});return k.createElement(Ve,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:k.createElement(Ve,{className:je("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return k.isValidElement(n)?o=k.cloneElement(n,i):xe(n)?o=n(i):o=k.createElement(ml,Pa({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(w.PureComponent);G0(K0,"displayName","PolarAngleAxis");G0(K0,"axisType","angleAxis");G0(K0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var y_e=T5,b_e=y_e(Object.getPrototypeOf,Object),x_e=b_e,w_e=qs,__e=x_e,S_e=Ys,C_e="[object Object]",O_e=Function.prototype,T_e=Object.prototype,Sz=O_e.toString,E_e=T_e.hasOwnProperty,k_e=Sz.call(Object);function P_e(t){if(!S_e(t)||w_e(t)!=C_e)return!1;var e=__e(t);if(e===null)return!0;var r=E_e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Sz.call(r)==k_e}var j_e=P_e;const A_e=Xe(j_e);var N_e=qs,R_e=Ys,M_e="[object Boolean]";function $_e(t){return t===!0||t===!1||R_e(t)&&N_e(t)==M_e}var D_e=$_e;const I_e=Xe(D_e);function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fv.apply(this,arguments)}function L_e(t,e){return U_e(t)||z_e(t,e)||B_e(t,e)||F_e()}function F_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B_e(t,e){if(t){if(typeof t=="string")return mN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mN(t,e)}}function mN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function U_e(t){if(Array.isArray(t))return t}function vN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(r),!0).forEach(function(n){W_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W_e(t,e,r){return e=V_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V_e(t){var e=H_e(t,"string");return wf(e)=="symbol"?e:e+""}function H_e(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bN=function(e,r,n,i,s){var o=n-i,a;return a="M ".concat(e,",").concat(r),a+="L ".concat(e+n,",").concat(r),a+="L ".concat(e+n-o/2,",").concat(r+s),a+="L ".concat(e+n-o/2-i,",").concat(r+s),a+="L ".concat(e,",").concat(r," Z"),a},G_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},K_e=function(e){var r=yN(yN({},G_e),e),n=w.useRef(),i=w.useState(-1),s=L_e(i,2),o=s[0],a=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&a(x)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,d=r.lowerWidth,h=r.height,f=r.className,m=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||h!==+h||u===0&&d===0||h===0)return null;var b=je("recharts-trapezoid",f);return y?k.createElement(ts,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:h,x:l,y:c},duration:p,animationEasing:m,isActive:y},function(x){var _=x.upperWidth,S=x.lowerWidth,C=x.height,O=x.x,T=x.y;return k.createElement(ts,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:m},k.createElement("path",Fv({},me(r,!0),{className:b,d:bN(O,T,_,S,C),ref:n})))}):k.createElement("g",null,k.createElement("path",Fv({},me(r,!0),{className:b,d:bN(l,c,u,d,h)})))},q_e=["option","shapeType","propTransformer","activeClassName","isActive"];function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function Y_e(t,e){if(t==null)return{};var r=X_e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(r),!0).forEach(function(n){Z_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z_e(t,e,r){return e=J_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J_e(t){var e=Q_e(t,"string");return _f(e)=="symbol"?e:e+""}function Q_e(t,e){if(_f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eSe(t,e){return Bv(Bv({},e),t)}function tSe(t,e){return t==="symbols"}function wN(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return k.createElement(yT,r);case"trapezoid":return k.createElement(K_e,r);case"sector":return k.createElement(lz,r);case"symbols":if(tSe(e))return k.createElement(IO,r);break;default:return null}}function rSe(t){return w.isValidElement(t)?t.props:t}function Cz(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?eSe:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=Y_e(t,q_e),c;if(w.isValidElement(e))c=w.cloneElement(e,Bv(Bv({},l),rSe(e)));else if(xe(e))c=e(l);else if(A_e(e)&&!I_e(e)){var u=i(e,l);c=k.createElement(wN,{shapeType:r,elementProps:u})}else{var d=l;c=k.createElement(wN,{shapeType:r,elementProps:d})}return a?k.createElement(Ve,{className:o},c):c}function q0(t,e){return e!=null&&"trapezoids"in t.props}function Y0(t,e){return e!=null&&"sectors"in t.props}function Sf(t,e){return e!=null&&"points"in t.props}function nSe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function iSe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function sSe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function oSe(t,e){var r;return q0(t,e)?r=nSe:Y0(t,e)?r=iSe:Sf(t,e)&&(r=sSe),r}function aSe(t,e){var r;return q0(t,e)?r="trapezoids":Y0(t,e)?r="sectors":Sf(t,e)&&(r="points"),r}function lSe(t,e){if(q0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Y0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Sf(t,e)?e.payload:{}}function cSe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=aSe(r,e),s=lSe(r,e),o=n.filter(function(l,c){var u=ap(s,l),d=r.props[i].filter(function(m){var p=oSe(r,e);return p(m,e)}),h=r.props[i].indexOf(d[d.length-1]),f=c===h;return u&&f}),a=n.indexOf(o[o.length-1]);return a}var nm;function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pc.apply(this,arguments)}function _N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(r),!0).forEach(function(n){Pn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tz(n.key),n)}}function dSe(t,e,r){return e&&SN(t.prototype,e),r&&SN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hSe(t,e,r){return e=zv(e),fSe(t,Oz()?Reflect.construct(e,r||[],zv(t).constructor):e.apply(t,r))}function fSe(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pSe(t)}function pSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oz=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(t)}function gSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YS(t,e)}function YS(t,e){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YS(t,e)}function Pn(t,e,r){return e=Tz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tz(t){var e=mSe(t,"string");return bu(e)=="symbol"?e:e+""}function mSe(t,e){if(bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zs=function(t){function e(r){var n;return uSe(this,e),n=hSe(this,e,[r]),Pn(n,"pieRef",null),Pn(n,"sectorRefs",[]),Pn(n,"id",Ju("recharts-pie-")),Pn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),xe(i)&&i()}),Pn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),xe(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return gSe(e,t),dSe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,l=s.dataKey,c=s.valueKey,u=me(this.props,!1),d=me(o,!1),h=me(a,!1),f=o&&o.offsetRadius||20,m=n.map(function(p,v){var y=(p.startAngle+p.endAngle)/2,b=ut(p.cx,p.cy,p.outerRadius+f,y),x=ot(ot(ot(ot({},u),p),{},{stroke:"none"},d),{},{index:v,textAnchor:e.getTextAnchor(b.x,p.cx)},b),_=ot(ot(ot(ot({},u),p),{},{fill:"none",stroke:p.fill},h),{},{index:v,points:[ut(p.cx,p.cy,p.outerRadius,y),b]}),S=l;return ke(l)&&ke(c)?S="value":ke(l)&&(S=c),k.createElement(Ve,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},a&&e.renderLabelLineItem(a,_,"line"),e.renderLabelItem(o,x,Gt(p,S)))});return k.createElement(Ve,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,a=s.blendStroke,l=s.inactiveShape;return n.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&n.length!==1)return null;var d=i.isActiveIndex(u),h=l&&i.hasActiveIndex()?l:null,f=d?o:h,m=ot(ot({},c),{},{stroke:a?c.fill:c.stroke,tabIndex:-1});return k.createElement(Ve,pc({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},gl(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),k.createElement(Cz,pc({option:f,isActive:d,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state,h=d.prevSectors,f=d.prevIsAnimationActive;return k.createElement(ts,{begin:a,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var p=m.t,v=[],y=s&&s[0],b=y.startAngle;return s.forEach(function(x,_){var S=h&&h[_],C=_>0?hn(x,"paddingAngle",0):0;if(S){var O=sn(S.endAngle-S.startAngle,x.endAngle-x.startAngle),T=ot(ot({},x),{},{startAngle:b+C,endAngle:b+O(p)+C});v.push(T),b=T.endAngle}else{var E=x.endAngle,j=x.startAngle,P=sn(0,E-j),A=P(p),I=ot(ot({},x),{},{startAngle:b+C,endAngle:b+A+C});v.push(I),b=I.endAngle}}),k.createElement(Ve,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!ap(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,a=i.className,l=i.label,c=i.cx,u=i.cy,d=i.innerRadius,h=i.outerRadius,f=i.isAnimationActive,m=this.state.isAnimationFinished;if(s||!o||!o.length||!J(c)||!J(u)||!J(d)||!J(h))return null;var p=je("recharts-pie",a);return k.createElement(Ve,{tabIndex:this.props.rootTabIndex,className:p,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(o),nr.renderCallByParent(this.props,null,!1),(!f||m)&&As.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(k.isValidElement(n))return k.cloneElement(n,i);if(xe(n))return n(i);var o=je("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return k.createElement(Nv,pc({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(k.isValidElement(n))return k.cloneElement(n,i);var o=s;if(xe(n)&&(o=n(i),k.isValidElement(o)))return o;var a=je("recharts-pie-label-text",typeof n!="boolean"&&!xe(n)?n.className:"");return k.createElement(ml,pc({},i,{alignmentBaseline:"middle",className:a}),o)}}])}(w.PureComponent);nm=Zs;Pn(Zs,"displayName","Pie");Pn(Zs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!El.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Pn(Zs,"parseDeltaAngle",function(t,e){var r=Er(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Pn(Zs,"getRealPieData",function(t){var e=t.data,r=t.children,n=me(t,!1),i=fn(r,A0);return e&&e.length?e.map(function(s,o){return ot(ot(ot({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return ot(ot({},n),s.props)}):[]});Pn(Zs,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=iz(i,s),a=n+kr(t.cx,i,i/2),l=r+kr(t.cy,s,s/2),c=kr(t.innerRadius,o,0),u=kr(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:a,cy:l,innerRadius:c,outerRadius:u,maxRadius:d}});Pn(Zs,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?ot(ot({},e.type.defaultProps),e.props):e.props,i=nm.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,a=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,h=n.tooltipType,f=Math.abs(n.minAngle),m=nm.parseCoordinateOfPie(n,r),p=nm.parseDeltaAngle(o,a),v=Math.abs(p),y=c;ke(c)&&ke(d)?(Si(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):ke(c)&&(Si(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=d);var b=i.filter(function(T){return Gt(T,y,0)!==0}).length,x=(v>=360?b:b-1)*l,_=v-b*f-x,S=i.reduce(function(T,E){var j=Gt(E,y,0);return T+(J(j)?j:0)},0),C;if(S>0){var O;C=i.map(function(T,E){var j=Gt(T,y,0),P=Gt(T,u,E),A=(J(j)?j:0)/S,I;E?I=O.endAngle+Er(p)*l*(j!==0?1:0):I=o;var R=I+Er(p)*((j!==0?f:0)+A*_),L=(I+R)/2,$=(m.innerRadius+m.outerRadius)/2,B=[{name:P,value:j,payload:T,dataKey:y,type:h}],N=ut(m.cx,m.cy,$,L);return O=ot(ot(ot({percent:A,cornerRadius:s,name:P,tooltipPayload:B,midAngle:L,middleRadius:$,tooltipPosition:N},T),m),{},{value:Gt(T,y),startAngle:I,endAngle:R,payload:T,paddingAngle:Er(p)*l}),O})}return ot(ot({},m),{},{sectors:C,data:i})});var vSe=Math.ceil,ySe=Math.max;function bSe(t,e,r,n){for(var i=-1,s=ySe(vSe((e-t)/(r||1)),0),o=Array(s);s--;)o[n?s:++i]=t,t+=r;return o}var xSe=bSe,wSe=H5,CN=1/0,_Se=17976931348623157e292;function SSe(t){if(!t)return t===0?t:0;if(t=wSe(t),t===CN||t===-CN){var e=t<0?-1:1;return e*_Se}return t===t?t:0}var Ez=SSe,CSe=xSe,OSe=j0,Dx=Ez;function TSe(t){return function(e,r,n){return n&&typeof n!="number"&&OSe(e,r,n)&&(r=n=void 0),e=Dx(e),r===void 0?(r=e,e=0):r=Dx(r),n=n===void 0?e<r?1:-1:Dx(n),CSe(e,r,n,t)}}var ESe=TSe,kSe=ESe,PSe=kSe(),jSe=PSe;const Uv=Xe(jSe);function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function ON(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(r),!0).forEach(function(n){kz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kz(t,e,r){return e=ASe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ASe(t){var e=NSe(t,"string");return Cf(e)=="symbol"?e:e+""}function NSe(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RSe=["Webkit","Moz","O","ms"],MSe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=RSe.reduce(function(s,o){return TN(TN({},s),{},kz({},o+n,r))},{});return i[e]=r,i};function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wv.apply(this,arguments)}function EN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ix(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(r),!0).forEach(function(n){en(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jz(n.key),n)}}function DSe(t,e,r){return e&&kN(t.prototype,e),r&&kN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ISe(t,e,r){return e=Vv(e),LSe(t,Pz()?Reflect.construct(e,r||[],Vv(t).constructor):e.apply(t,r))}function LSe(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FSe(t)}function FSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pz=function(){return!!t})()}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(t)}function BSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XS(t,e)}function XS(t,e){return XS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XS(t,e)}function en(t,e,r){return e=jz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jz(t){var e=zSe(t,"string");return xu(e)=="symbol"?e:e+""}function zSe(t,e){if(xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var USe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=ch().domain(Uv(0,l)).range([s,s+o-a]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},PN=function(e){return e.changedTouches&&!!e.changedTouches.length},wu=function(t){function e(r){var n;return $Se(this,e),n=ISe(this,e,[r]),en(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),en(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),en(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),n.detachDragEndListener()}),en(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),en(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),en(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),en(n,"handleSlideDragStart",function(i){var s=PN(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return BSe(e,t),DSe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,u=c.length-1,d=Math.min(i,s),h=Math.max(i,s),f=e.getIndexInRange(o,d),m=e.getIndexInRange(o,h);return{startIndex:f-f%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=Gt(s[n],a,n);return xe(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,h=l.startIndex,f=l.endIndex,m=l.onChange,p=n.pageX-s;p>0?p=Math.min(p,c+u-d-a,c+u-d-o):p<0&&(p=Math.max(p,c-o,c-a));var v=this.getIndex({startX:o+p,endX:a+p});(v.startIndex!==h||v.endIndex!==f)&&m&&m(v),this.setState({startX:o+p,endX:a+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=PN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[o],u=this.props,d=u.x,h=u.width,f=u.travellerWidth,m=u.onChange,p=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,d+h-f-c):b<0&&(b=Math.max(b,d-c)),y[o]=c+b;var x=this.getIndex(y),_=x.startIndex,S=x.endIndex,C=function(){var T=v.length-1;return o==="startX"&&(a>l?_%p===0:S%p===0)||a<l&&S===T||o==="endX"&&(a>l?S%p===0:_%p===0)||a>l&&S===T};this.setState(en(en({},o,c+b),"brushMoveStartX",n.pageX),function(){m&&C()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,c=o.endX,u=this.state[i],d=a.indexOf(u);if(d!==-1){var h=d+n;if(!(h===-1||h>=a.length)){var f=a[h];i==="startX"&&f>=c||i==="endX"&&f<=l||this.setState(en({},i,f),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,a=n.height,l=n.fill,c=n.stroke;return k.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,a=n.height,l=n.data,c=n.children,u=n.padding,d=w.Children.only(c);return d?k.cloneElement(d,{x:i,y:s,width:o,height:a,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,a=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,h=l.traveller,f=l.ariaLabel,m=l.data,p=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),b=Ix(Ix({},me(this.props,!1)),{},{x:y,y:c,width:u,height:d}),x=f||"Min value: ".concat((s=m[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=m[v])===null||o===void 0?void 0:o.name);return k.createElement(Ve,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,c=s.travellerWidth,u=Math.min(n,i)+c,d=Math.max(Math.abs(i-n)-c,0);return k.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:o,width:d,height:a})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,a=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,d=u.startX,h=u.endX,f=5,m={pointerEvents:"none",fill:c};return k.createElement(Ve,{className:"recharts-brush-texts"},k.createElement(ml,Wv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:o+a/2},m),this.getTextOfTick(i)),k.createElement(ml,Wv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+f,y:o+a/2},m),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,a=n.x,l=n.y,c=n.width,u=n.height,d=n.alwaysShowText,h=this.state,f=h.startX,m=h.endX,p=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!J(a)||!J(l)||!J(c)||!J(u)||c<=0||u<=0)return null;var x=je("recharts-brush",s),_=k.Children.count(o)===1,S=MSe("userSelect","none");return k.createElement(Ve,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(f,m),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(m,"endX"),(p||v||y||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,a=n.height,l=n.stroke,c=Math.floor(s+a/2)-1;return k.createElement(k.Fragment,null,k.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),k.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),k.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return k.isValidElement(n)?s=k.cloneElement(n,i):xe(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,a=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,d=n.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return Ix({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o},s&&s.length?USe({data:s,width:o,x:a,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var h=i.scale.domain().map(function(f){return i.scale(f)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);n[l]>i?a=l:o=l}return i>=n[a]?a:o}}])}(w.PureComponent);en(wu,"displayName","Brush");en(wu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var WSe=VO;function VSe(t,e){var r;return WSe(t,function(n,i,s){return r=e(n,i,s),!r}),!!r}var HSe=VSe,GSe=y5,KSe=as,qSe=HSe,YSe=Kr,XSe=j0;function ZSe(t,e,r){var n=YSe(t)?GSe:qSe;return r&&XSe(t,e,r)&&(e=void 0),n(t,KSe(e))}var JSe=ZSe;const QSe=Xe(JSe);var Zi=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},jN=B5;function e1e(t,e,r){e=="__proto__"&&jN?jN(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var t1e=e1e,r1e=t1e,n1e=L5,i1e=as;function s1e(t,e){var r={};return e=i1e(e),n1e(t,function(n,i,s){r1e(r,i,e(n,i,s))}),r}var o1e=s1e;const a1e=Xe(o1e);function l1e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var c1e=l1e,u1e=VO;function d1e(t,e){var r=!0;return u1e(t,function(n,i,s){return r=!!e(n,i,s),r}),r}var h1e=d1e,f1e=c1e,p1e=h1e,g1e=as,m1e=Kr,v1e=j0;function y1e(t,e,r){var n=m1e(t)?f1e:p1e;return r&&v1e(t,e,r)&&(e=void 0),n(t,g1e(e))}var b1e=y1e;const Az=Xe(b1e);var x1e=["x","y"];function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function ZS(){return ZS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZS.apply(this,arguments)}function AN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(r),!0).forEach(function(n){w1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w1e(t,e,r){return e=_1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _1e(t){var e=S1e(t,"string");return Of(e)=="symbol"?e:e+""}function S1e(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C1e(t,e){if(t==null)return{};var r=O1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function T1e(t,e){var r=t.x,n=t.y,i=C1e(t,x1e),s="".concat(r),o=parseInt(s,10),a="".concat(n),l=parseInt(a,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Nd(Nd(Nd(Nd(Nd({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:e.name,radius:e.radius})}function NN(t){return k.createElement(Cz,ZS({shapeType:"rectangle",propTransformer:T1e,activeClassName:"recharts-active-bar"},t))}var E1e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=J(n)||Zne(n);return s?e(n,i):(s||yl(),r)}},k1e=["value","background"],Nz;function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function P1e(t,e){if(t==null)return{};var r=j1e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function j1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hv.apply(this,arguments)}function RN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(r),!0).forEach(function(n){Ao(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mz(n.key),n)}}function N1e(t,e,r){return e&&MN(t.prototype,e),r&&MN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function R1e(t,e,r){return e=Gv(e),M1e(t,Rz()?Reflect.construct(e,r||[],Gv(t).constructor):e.apply(t,r))}function M1e(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $1e(t)}function $1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rz=function(){return!!t})()}function Gv(t){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gv(t)}function D1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JS(t,e)}function JS(t,e){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JS(t,e)}function Ao(t,e,r){return e=Mz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mz(t){var e=I1e(t,"string");return _u(e)=="symbol"?e:e+""}function I1e(t,e){if(_u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ns=function(t){function e(){var r;A1e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=R1e(this,e,[].concat(i)),Ao(r,"state",{isAnimationFinished:!1}),Ao(r,"id",Ju("recharts-bar-")),Ao(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ao(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return D1e(e,t),N1e(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,c=s.activeBar,u=me(this.props,!1);return n&&n.map(function(d,h){var f=h===l,m=f?c:o,p=Rt(Rt(Rt({},u),d),{},{isActive:f,option:m,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return k.createElement(Ve,Hv({className:"recharts-bar-rectangle"},gl(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),k.createElement(NN,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state.prevData;return k.createElement(ts,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var m=f.t,p=s.map(function(v,y){var b=h&&h[y];if(b){var x=sn(b.x,v.x),_=sn(b.y,v.y),S=sn(b.width,v.width),C=sn(b.height,v.height);return Rt(Rt({},v),{},{x:x(m),y:_(m),width:S(m),height:C(m)})}if(o==="horizontal"){var O=sn(0,v.height),T=O(m);return Rt(Rt({},v),{},{y:v.y+v.height-T,height:T})}var E=sn(0,v.width),j=E(m);return Rt(Rt({},v),{},{width:j})});return k.createElement(Ve,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!ap(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=me(this.props.background,!1);return s.map(function(c,u){c.value;var d=c.background,h=P1e(c,k1e);if(!d)return null;var f=Rt(Rt(Rt(Rt(Rt({},h),{},{fill:"#eee"},d),l),gl(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return k.createElement(NN,Hv({key:"background-bar-".concat(u),option:n.props.background,isActive:u===a},f))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,d=fn(u,lp);if(!d)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,f=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Gt(v,y)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return k.createElement(Ve,m,d.map(function(p){return k.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,a=n.xAxis,l=n.yAxis,c=n.left,u=n.top,d=n.width,h=n.height,f=n.isAnimationActive,m=n.background,p=n.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=je("recharts-bar",o),b=a&&a.allowDataOverflow,x=l&&l.allowDataOverflow,_=b||x,S=ke(p)?this.id:p;return k.createElement(Ve,{className:y},b||x?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(S)},k.createElement("rect",{x:b?c:c-d/2,y:x?u:u-h/2,width:b?d:d*2,height:x?h:h*2}))):null,k.createElement(Ve,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!f||v)&&As.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(w.PureComponent);Nz=Ns;Ao(Ns,"displayName","Bar");Ao(Ns,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!El.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ao(Ns,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,h=t.offset,f=m0e(n,r);if(!f)return null;var m=e.layout,p=r.type.defaultProps,v=p!==void 0?Rt(Rt({},p),r.props):r.props,y=v.dataKey,b=v.children,x=v.minPointSize,_=m==="horizontal"?o:s,S=c?_.scale.domain():null,C=S0e({numericAxis:_}),O=fn(b,A0),T=d.map(function(E,j){var P,A,I,R,L,$;c?P=v0e(c[u+j],S):(P=Gt(E,y),Array.isArray(P)||(P=[C,P]));var B=E1e(x,Nz.defaultProps.minPointSize)(P[1],j);if(m==="horizontal"){var N,M=[o.scale(P[0]),o.scale(P[1])],z=M[0],H=M[1];A=S2({axis:s,ticks:a,bandSize:i,offset:f.offset,entry:E,index:j}),I=(N=H??z)!==null&&N!==void 0?N:void 0,R=f.size;var U=z-H;if(L=Number.isNaN(U)?0:U,$={x:A,y:o.y,width:R,height:o.height},Math.abs(B)>0&&Math.abs(L)<Math.abs(B)){var q=Er(L||B)*(Math.abs(B)-Math.abs(L));I-=q,L+=q}}else{var ee=[s.scale(P[0]),s.scale(P[1])],pe=ee[0],Oe=ee[1];if(A=pe,I=S2({axis:o,ticks:l,bandSize:i,offset:f.offset,entry:E,index:j}),R=Oe-pe,L=f.size,$={x:s.x,y:I,width:s.width,height:L},Math.abs(B)>0&&Math.abs(R)<Math.abs(B)){var Q=Er(R||B)*(Math.abs(B)-Math.abs(R));R+=Q}}return Rt(Rt(Rt({},E),{},{x:A,y:I,width:R,height:L,value:c?P:P[1],payload:E,background:$},O&&O[j]&&O[j].props),{},{tooltipPayload:[rz(r,E)],tooltipPosition:{x:A+R/2,y:I+L/2}})});return Rt({data:T,layout:m},h)});function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function L1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$z(n.key),n)}}function F1e(t,e,r){return e&&$N(t.prototype,e),r&&$N(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(r),!0).forEach(function(n){X0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X0(t,e,r){return e=$z(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $z(t){var e=B1e(t,"string");return Tf(e)=="symbol"?e:e+""}function B1e(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dz=function(e,r,n,i,s){var o=e.width,a=e.height,l=e.layout,c=e.children,u=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},h=!!rn(c,Ns);return u.reduce(function(f,m){var p=r[m],v=p.orientation,y=p.domain,b=p.padding,x=b===void 0?{}:b,_=p.mirror,S=p.reversed,C="".concat(v).concat(_?"Mirror":""),O,T,E,j,P;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var A=y[1]-y[0],I=1/0,R=p.categoricalDomain.sort(eie);if(R.forEach(function(ee,pe){pe>0&&(I=Math.min((ee||0)-(R[pe-1]||0),I))}),Number.isFinite(I)){var L=I/A,$=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(O=L*$/2),p.padding==="no-gap"){var B=kr(e.barCategoryGap,L*$),N=L*$/2;O=N-B-(N-B)/$*B}}}i==="xAxis"?T=[n.left+(x.left||0)+(O||0),n.left+n.width-(x.right||0)-(O||0)]:i==="yAxis"?T=l==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(O||0),n.top+n.height-(x.bottom||0)-(O||0)]:T=p.range,S&&(T=[T[1],T[0]]);var M=J3(p,s,h),z=M.scale,H=M.realScaleType;z.domain(y).range(T),Q3(z);var U=ez(z,ui(ui({},p),{},{realScaleType:H}));i==="xAxis"?(P=v==="top"&&!_||v==="bottom"&&_,E=n.left,j=d[C]-P*p.height):i==="yAxis"&&(P=v==="left"&&!_||v==="right"&&_,E=d[C]-P*p.width,j=n.top);var q=ui(ui(ui({},p),U),{},{realScaleType:H,x:E,y:j,scale:z,width:i==="xAxis"?n.width:p.width,height:i==="yAxis"?n.height:p.height});return q.bandSize=Pv(q,U),!p.hide&&i==="xAxis"?d[C]+=(P?-1:1)*q.height:p.hide||(d[C]+=(P?-1:1)*q.width),ui(ui({},f),{},X0({},m,q))},{})},Iz=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},z1e=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return Iz({x:r,y:n},{x:i,y:s})},Lz=function(){function t(e){L1e(this,t),this.scale=e}return F1e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(r)+a}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();X0(Lz,"EPS",1e-4);var bT=function(e){var r=Object.keys(e).reduce(function(n,i){return ui(ui({},n),{},X0({},i,Lz.create(e[i])))},{});return ui(ui({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return a1e(i,function(l,c){return r[c].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return Az(i,function(s,o){return r[o].isInRange(s)})}})};function U1e(t){return(t%180+180)%180}var W1e=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=U1e(i),o=s*Math.PI/180,a=Math.atan(n/r),l=o>a&&o<Math.PI-a?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},V1e=as,H1e=rp,G1e=k0;function K1e(t){return function(e,r,n){var i=Object(e);if(!H1e(e)){var s=V1e(r);e=G1e(e),r=function(a){return s(i[a],a,i)}}var o=t(e,r,n);return o>-1?i[s?e[o]:o]:void 0}}var q1e=K1e,Y1e=Ez;function X1e(t){var e=Y1e(t),r=e%1;return e===e?r?e-r:e:0}var Z1e=X1e,J1e=N5,Q1e=as,eCe=Z1e,tCe=Math.max;function rCe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:eCe(r);return i<0&&(i=tCe(n+i,0)),J1e(t,Q1e(e),i)}var nCe=rCe,iCe=q1e,sCe=nCe,oCe=iCe(sCe),aCe=oCe;const lCe=Xe(aCe);var cCe=nne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),xT=w.createContext(void 0),wT=w.createContext(void 0),Fz=w.createContext(void 0),Bz=w.createContext({}),zz=w.createContext(void 0),Uz=w.createContext(0),Wz=w.createContext(0),IN=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,a=e.children,l=e.width,c=e.height,u=cCe(s);return k.createElement(xT.Provider,{value:n},k.createElement(wT.Provider,{value:i},k.createElement(Bz.Provider,{value:s},k.createElement(Fz.Provider,{value:u},k.createElement(zz.Provider,{value:o},k.createElement(Uz.Provider,{value:c},k.createElement(Wz.Provider,{value:l},a)))))))},uCe=function(){return w.useContext(zz)},Vz=function(e){var r=w.useContext(xT);r==null&&yl();var n=r[e];return n==null&&yl(),n},dCe=function(){var e=w.useContext(xT);return bo(e)},hCe=function(){var e=w.useContext(wT),r=lCe(e,function(n){return Az(n.domain,Number.isFinite)});return r||bo(e)},Hz=function(e){var r=w.useContext(wT);r==null&&yl();var n=r[e];return n==null&&yl(),n},fCe=function(){var e=w.useContext(Fz);return e},pCe=function(){return w.useContext(Bz)},_T=function(){return w.useContext(Wz)},ST=function(){return w.useContext(Uz)};function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function gCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kz(n.key),n)}}function vCe(t,e,r){return e&&mCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yCe(t,e,r){return e=Kv(e),bCe(t,Gz()?Reflect.construct(e,r||[],Kv(t).constructor):e.apply(t,r))}function bCe(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xCe(t)}function xCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gz=function(){return!!t})()}function Kv(t){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kv(t)}function wCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QS(t,e)}function QS(t,e){return QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QS(t,e)}function LN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(r),!0).forEach(function(n){CT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CT(t,e,r){return e=Kz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kz(t){var e=_Ce(t,"string");return Su(e)=="symbol"?e:e+""}function _Ce(t,e){if(Su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function SCe(t,e){return ECe(t)||TCe(t,e)||OCe(t,e)||CCe()}function CCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OCe(t,e){if(t){if(typeof t=="string")return BN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BN(t,e)}}function BN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TCe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function ECe(t){if(Array.isArray(t))return t}function e1(){return e1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e1.apply(this,arguments)}var kCe=function(e,r){var n;return k.isValidElement(e)?n=k.cloneElement(e,r):xe(e)?n=e(r):n=k.createElement("line",e1({},r,{className:"recharts-reference-line-line"})),n},PCe=function(e,r,n,i,s,o,a,l,c){var u=s.x,d=s.y,h=s.width,f=s.height;if(n){var m=c.y,p=e.y.apply(m,{position:o});if(Zi(c,"discard")&&!e.y.isInRange(p))return null;var v=[{x:u+h,y:p},{x:u,y:p}];return l==="left"?v.reverse():v}if(r){var y=c.x,b=e.x.apply(y,{position:o});if(Zi(c,"discard")&&!e.x.isInRange(b))return null;var x=[{x:b,y:d+f},{x:b,y:d}];return a==="top"?x.reverse():x}if(i){var _=c.segment,S=_.map(function(C){return e.apply(C,{position:o})});return Zi(c,"discard")&&QSe(S,function(C){return!e.isInRange(C)})?null:S}return null};function jCe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,c=uCe(),u=Vz(i),d=Hz(s),h=fCe();if(!c||!h)return null;Si(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=bT({x:u.scale,y:d.scale}),m=qt(e),p=qt(r),v=n&&n.length===2,y=PCe(f,m,p,v,h,t.position,u.orientation,d.orientation,t);if(!y)return null;var b=SCe(y,2),x=b[0],_=x.x,S=x.y,C=b[1],O=C.x,T=C.y,E=Zi(t,"hidden")?"url(#".concat(c,")"):void 0,j=FN(FN({clipPath:E},me(t,!0)),{},{x1:_,y1:S,x2:O,y2:T});return k.createElement(Ve,{className:je("recharts-reference-line",a)},kCe(o,j),nr.renderCallByParent(t,z1e({x1:_,y1:S,x2:O,y2:T})))}var OT=function(t){function e(){return gCe(this,e),yCe(this,e,arguments)}return wCe(e,t),vCe(e,[{key:"render",value:function(){return k.createElement(jCe,this.props)}}])}(k.Component);CT(OT,"displayName","ReferenceLine");CT(OT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t1.apply(this,arguments)}function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function zN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(r),!0).forEach(function(n){Z0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ACe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yz(n.key),n)}}function RCe(t,e,r){return e&&NCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MCe(t,e,r){return e=qv(e),$Ce(t,qz()?Reflect.construct(e,r||[],qv(t).constructor):e.apply(t,r))}function $Ce(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DCe(t)}function DCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qz=function(){return!!t})()}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qv(t)}function ICe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r1(t,e)}function r1(t,e){return r1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r1(t,e)}function Z0(t,e,r){return e=Yz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yz(t){var e=LCe(t,"string");return Cu(e)=="symbol"?e:e+""}function LCe(t,e){if(Cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FCe=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=bT({x:i.scale,y:s.scale}),a=o.apply({x:r,y:n},{bandAware:!0});return Zi(e,"discard")&&!o.isInRange(a)?null:a},J0=function(t){function e(){return ACe(this,e),MCe(this,e,arguments)}return ICe(e,t),RCe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,a=n.alwaysShow,l=n.clipPathId,c=qt(i),u=qt(s);if(Si(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=FCe(this.props);if(!d)return null;var h=d.x,f=d.y,m=this.props,p=m.shape,v=m.className,y=Zi(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=UN(UN({clipPath:y},me(this.props,!0)),{},{cx:h,cy:f});return k.createElement(Ve,{className:je("recharts-reference-dot",v)},e.renderDot(p,b),nr.renderCallByParent(this.props,{x:h-o,y:f-o,width:2*o,height:2*o}))}}])}(k.Component);Z0(J0,"displayName","ReferenceDot");Z0(J0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Z0(J0,"renderDot",function(t,e){var r;return k.isValidElement(t)?r=k.cloneElement(t,e):xe(t)?r=t(e):r=k.createElement(W0,t1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function n1(){return n1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n1.apply(this,arguments)}function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function WN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(r),!0).forEach(function(n){Q0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zCe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zz(n.key),n)}}function UCe(t,e,r){return e&&zCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WCe(t,e,r){return e=Yv(e),VCe(t,Xz()?Reflect.construct(e,r||[],Yv(t).constructor):e.apply(t,r))}function VCe(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HCe(t)}function HCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xz=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yv(t)}function GCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i1(t,e)}function i1(t,e){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i1(t,e)}function Q0(t,e,r){return e=Zz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zz(t){var e=KCe(t,"string");return Ou(e)=="symbol"?e:e+""}function KCe(t,e){if(Ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qCe=function(e,r,n,i,s){var o=s.x1,a=s.x2,l=s.y1,c=s.y2,u=s.xAxis,d=s.yAxis;if(!u||!d)return null;var h=bT({x:u.scale,y:d.scale}),f={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Zi(s,"discard")&&(!h.isInRange(f)||!h.isInRange(m))?null:Iz(f,m)},eb=function(t){function e(){return BCe(this,e),WCe(this,e,arguments)}return GCe(e,t),UCe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,a=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Si(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=qt(i),h=qt(s),f=qt(o),m=qt(a),p=this.props.shape;if(!d&&!h&&!f&&!m&&!p)return null;var v=qCe(d,h,f,m,this.props);if(!v&&!p)return null;var y=Zi(this.props,"hidden")?"url(#".concat(u,")"):void 0;return k.createElement(Ve,{className:je("recharts-reference-area",l)},e.renderRect(p,VN(VN({clipPath:y},me(this.props,!0)),v)),nr.renderCallByParent(this.props,v))}}])}(k.Component);Q0(eb,"displayName","ReferenceArea");Q0(eb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Q0(eb,"renderRect",function(t,e){var r;return k.isValidElement(t)?r=k.cloneElement(t,e):xe(t)?r=t(e):r=k.createElement(yT,n1({},e,{className:"recharts-reference-area-rect"})),r});function Jz(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function YCe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return W1e(n,r)}function XCe(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:n?i:s,end:n?i+o:s+a}:{start:n?i+o:s+a,end:n?i:s}}function Xv(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function ZCe(t,e){return Jz(t,e+1)}function JCe(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,a=e.end,l=0,c=1,u=o,d=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:Jz(n,c)};var p=l,v,y=function(){return v===void 0&&(v=r(m,p)),v},b=m.coordinate,x=l===0||Xv(t,b,y,u,a);x||(l=0,u=o,c+=1),x&&(u=b+t*(y()/2+i),l+=c)},h;c<=s.length;)if(h=d(),h)return h.v;return[]}function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function HN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HN(Object(r),!0).forEach(function(n){QCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QCe(t,e,r){return e=eOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eOe(t){var e=tOe(t,"string");return Ef(e)=="symbol"?e:e+""}function tOe(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rOe(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,a=e.start,l=e.end,c=function(h){var f=s[h],m,p=function(){return m===void 0&&(m=r(f,h)),m};if(h===o-1){var v=t*(f.coordinate+t*p()/2-l);s[h]=f=gr(gr({},f),{},{tickCoord:v>0?f.coordinate-v*t:f.coordinate})}else s[h]=f=gr(gr({},f),{},{tickCoord:f.coordinate});var y=Xv(t,f.tickCoord,p,a,l);y&&(l=f.tickCoord-t*(p()/2+i),s[h]=gr(gr({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return s}function nOe(t,e,r,n,i,s){var o=(n||[]).slice(),a=o.length,l=e.start,c=e.end;if(s){var u=n[a-1],d=r(u,a-1),h=t*(u.coordinate+t*d/2-c);o[a-1]=u=gr(gr({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var f=Xv(t,u.tickCoord,function(){return d},l,c);f&&(c=u.tickCoord-t*(d/2+i),o[a-1]=gr(gr({},u),{},{isShow:!0}))}for(var m=s?a-1:a,p=function(b){var x=o[b],_,S=function(){return _===void 0&&(_=r(x,b)),_};if(b===0){var C=t*(x.coordinate-t*S()/2-l);o[b]=x=gr(gr({},x),{},{tickCoord:C<0?x.coordinate-C*t:x.coordinate})}else o[b]=x=gr(gr({},x),{},{tickCoord:x.coordinate});var O=Xv(t,x.tickCoord,S,l,c);O&&(l=x.tickCoord+t*(S()/2+i),o[b]=gr(gr({},x),{},{isShow:!0}))},v=0;v<m;v++)p(v);return o}function TT(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!n)return[];if(J(l)||El.isSsr)return ZCe(i,typeof l=="number"&&J(l)?l:0);var h=[],f=a==="top"||a==="bottom"?"width":"height",m=u&&f==="width"?lh(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},p=function(x,_){var S=xe(c)?c(x.value,_):x.value;return f==="width"?YCe(lh(S,{fontSize:e,letterSpacing:r}),m,d):lh(S,{fontSize:e,letterSpacing:r})[f]},v=i.length>=2?Er(i[1].coordinate-i[0].coordinate):1,y=XCe(s,v,f);return l==="equidistantPreserveStart"?JCe(v,y,p,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=nOe(v,y,p,i,o,l==="preserveStartEnd"):h=rOe(v,y,p,i,o),h.filter(function(b){return b.isShow}))}var iOe=["viewBox"],sOe=["viewBox"],oOe=["ticks"];function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gc.apply(this,arguments)}function GN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(r),!0).forEach(function(n){ET(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lx(t,e){if(t==null)return{};var r=aOe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eU(n.key),n)}}function cOe(t,e,r){return e&&KN(t.prototype,e),r&&KN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uOe(t,e,r){return e=Zv(e),dOe(t,Qz()?Reflect.construct(e,r||[],Zv(t).constructor):e.apply(t,r))}function dOe(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hOe(t)}function hOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qz=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(t)}function fOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s1(t,e)}function s1(t,e){return s1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s1(t,e)}function ET(t,e,r){return e=eU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eU(t){var e=pOe(t,"string");return Tu(e)=="symbol"?e:e+""}function pOe(t,e){if(Tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sd=function(t){function e(r){var n;return lOe(this,e),n=uOe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return fOe(e,t),cOe(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=Lx(n,iOe),a=this.props,l=a.viewBox,c=Lx(a,sOe);return!jc(s,l)||!jc(o,c)||!jc(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,h=i.tickMargin,f,m,p,v,y,b,x=d?-1:1,_=n.tickSize||u,S=J(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":f=m=n.coordinate,v=o+ +!d*l,p=v-x*_,b=p-x*h,y=S;break;case"left":p=v=n.coordinate,m=s+ +!d*a,f=m-x*_,y=f-x*h,b=S;break;case"right":p=v=n.coordinate,m=s+ +d*a,f=m+x*_,y=f+x*h,b=S;break;default:f=m=n.coordinate,v=o+ +d*l,p=v+x*_,b=p+x*h,y=S;break}return{line:{x1:f,y1:p,x2:m,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,a=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,d=zt(zt(zt({},me(this.props,!1)),me(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=zt(zt({},d),{},{x1:i,y1:s+h*a,x2:i+o,y2:s+h*a})}else{var f=+(l==="left"&&!c||l==="right"&&c);d=zt(zt({},d),{},{x1:i+f*o,y1:s,x2:i+f*o,y2:s+a})}return k.createElement("line",gc({},d,{className:je("recharts-cartesian-axis-line",hn(u,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,a=this.props,l=a.tickLine,c=a.stroke,u=a.tick,d=a.tickFormatter,h=a.unit,f=TT(zt(zt({},this.props),{},{ticks:n}),i,s),m=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=me(this.props,!1),y=me(u,!1),b=zt(zt({},v),{},{fill:"none"},me(l,!1)),x=f.map(function(_,S){var C=o.getTickLineCoord(_),O=C.line,T=C.tick,E=zt(zt(zt(zt({textAnchor:m,verticalAnchor:p},v),{},{stroke:"none",fill:c},y),T),{},{index:S,payload:_,visibleTicksCount:f.length,tickFormatter:d});return k.createElement(Ve,gc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},gl(o.props,_,S)),l&&k.createElement("line",gc({},b,O,{className:je("recharts-cartesian-axis-tick-line",hn(l,"className"))})),u&&e.renderTickItem(u,E,"".concat(xe(d)?d(_.value,S):_.value).concat(h||"")))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,h=d.ticks,f=Lx(d,oOe),m=h;return xe(l)&&(m=h&&h.length>0?l(this.props):l(f)),o<=0||a<=0||!m||!m.length?null:k.createElement(Ve,{className:je("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),nr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,a=je(i.className,"recharts-cartesian-axis-tick-value");return k.isValidElement(n)?o=k.cloneElement(n,zt(zt({},i),{},{className:a})):xe(n)?o=n(zt(zt({},i),{},{className:a})):o=k.createElement(ml,gc({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(w.Component);ET(sd,"displayName","CartesianAxis");ET(sd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gOe=["x1","y1","x2","y2","key"],mOe=["offset"];function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function qN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(r),!0).forEach(function(n){vOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vOe(t,e,r){return e=yOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yOe(t){var e=bOe(t,"string");return bl(e)=="symbol"?e:e+""}function bOe(t,e){if(bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fa.apply(this,arguments)}function YN(t,e){if(t==null)return{};var r=xOe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wOe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,l=e.ry;return k.createElement("rect",{x:i,y:s,ry:l,width:o,height:a,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function tU(t,e){var r;if(k.isValidElement(t))r=k.cloneElement(t,e);else if(xe(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,l=YN(e,gOe),c=me(l,!1);c.offset;var u=YN(c,mOe);r=k.createElement("line",Fa({},u,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:a}))}return r}function _Oe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=vr(vr({},t),{},{x1:e,y1:a,x2:e+r,y2:a,key:"line-".concat(l),index:l});return tU(i,c)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function SOe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=vr(vr({},t),{},{x1:a,y1:e,x2:a,y2:e+r,key:"line-".concat(l),index:l});return tU(i,c)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function COe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,f){return h-f});i!==u[0]&&u.unshift(0);var d=u.map(function(h,f){var m=!u[f+1],p=m?i+o-h:u[f+1]-h;if(p<=0)return null;var v=f%e.length;return k.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:p,width:s,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function OOe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,f){return h-f});s!==u[0]&&u.unshift(0);var d=u.map(function(h,f){var m=!u[f+1],p=m?s+a-h:u[f+1]-h;if(p<=0)return null;var v=f%n.length;return k.createElement("rect",{key:"react-".concat(f),x:h,y:o,width:p,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var TOe=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return Z3(TT(vr(vr(vr({},sd.defaultProps),n),{},{ticks:Os(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},EOe=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return Z3(TT(vr(vr(vr({},sd.defaultProps),n),{},{ticks:Os(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},Gl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function im(t){var e,r,n,i,s,o,a=_T(),l=ST(),c=pCe(),u=vr(vr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Gl.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Gl.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Gl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Gl.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Gl.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Gl.verticalFill,x:J(t.x)?t.x:c.left,y:J(t.y)?t.y:c.top,width:J(t.width)?t.width:c.width,height:J(t.height)?t.height:c.height}),d=u.x,h=u.y,f=u.width,m=u.height,p=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,b=dCe(),x=hCe();if(!J(f)||f<=0||!J(m)||m<=0||!J(d)||d!==+d||!J(h)||h!==+h)return null;var _=u.verticalCoordinatesGenerator||TOe,S=u.horizontalCoordinatesGenerator||EOe,C=u.horizontalPoints,O=u.verticalPoints;if((!C||!C.length)&&xe(S)){var T=v&&v.length,E=S({yAxis:x?vr(vr({},x),{},{ticks:T?v:x.ticks}):void 0,width:a,height:l,offset:c},T?!0:p);Si(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bl(E),"]")),Array.isArray(E)&&(C=E)}if((!O||!O.length)&&xe(_)){var j=y&&y.length,P=_({xAxis:b?vr(vr({},b),{},{ticks:j?y:b.ticks}):void 0,width:a,height:l,offset:c},j?!0:p);Si(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bl(P),"]")),Array.isArray(P)&&(O=P)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(wOe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),k.createElement(_Oe,Fa({},u,{offset:c,horizontalPoints:C,xAxis:b,yAxis:x})),k.createElement(SOe,Fa({},u,{offset:c,verticalPoints:O,xAxis:b,yAxis:x})),k.createElement(COe,Fa({},u,{horizontalPoints:C})),k.createElement(OOe,Fa({},u,{verticalPoints:O})))}im.displayName="CartesianGrid";var kOe=["type","layout","connectNulls","ref"],POe=["key"];function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function XN(t,e){if(t==null)return{};var r=jOe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ph.apply(this,arguments)}function ZN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(r),!0).forEach(function(n){di(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kl(t){return MOe(t)||ROe(t)||NOe(t)||AOe()}function AOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NOe(t,e){if(t){if(typeof t=="string")return o1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o1(t,e)}}function ROe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MOe(t){if(Array.isArray(t))return o1(t)}function o1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $Oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nU(n.key),n)}}function DOe(t,e,r){return e&&JN(t.prototype,e),r&&JN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IOe(t,e,r){return e=Jv(e),LOe(t,rU()?Reflect.construct(e,r||[],Jv(t).constructor):e.apply(t,r))}function LOe(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FOe(t)}function FOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rU=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jv(t)}function BOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a1(t,e)}function a1(t,e){return a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a1(t,e)}function di(t,e,r){return e=nU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nU(t){var e=zOe(t,"string");return Eu(e)=="symbol"?e:e+""}function zOe(t,e){if(Eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ku=function(t){function e(){var r;$Oe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=IOe(this,e,[].concat(i)),di(r,"state",{isAnimationFinished:!0,totalLength:0}),di(r,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),di(r,"getStrokeDasharray",function(o,a,l){var c=l.reduce(function(y,b){return y+b});if(!c)return r.generateSimpleStrokeDasharray(a,o);for(var u=Math.floor(o/c),d=o%c,h=a-o,f=[],m=0,p=0;m<l.length;p+=l[m],++m)if(p+l[m]>d){f=[].concat(Kl(l.slice(0,m)),[d-p]);break}var v=f.length%2===0?[0,h]:[h];return[].concat(Kl(e.repeat(l,u)),Kl(f),v).map(function(y){return"".concat(y,"px")}).join(", ")}),di(r,"id",Ju("recharts-line-")),di(r,"pathRef",function(o){r.mainCurve=o}),di(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),di(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return BOe(e,t),DOe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,d=fn(u,lp);if(!d)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:Gt(p.payload,v)}},f={clipPath:n?"url(#clipPath-".concat(i,")"):null};return k.createElement(Ve,f,d.map(function(m){return k.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,u=a.dataKey,d=me(this.props,!1),h=me(l,!0),f=c.map(function(p,v){var y=Qr(Qr(Qr({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:u,payload:p.payload,points:c});return e.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return k.createElement(Ve,ph({className:"recharts-line-dots",key:"dots"},m),f)}},{key:"renderCurveStatically",value:function(n,i,s,o){var a=this.props,l=a.type,c=a.layout,u=a.connectNulls;a.ref;var d=XN(a,kOe),h=Qr(Qr(Qr({},me(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:l,layout:c,connectNulls:u});return k.createElement(Nv,ph({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,a=o.points,l=o.strokeDasharray,c=o.isAnimationActive,u=o.animationBegin,d=o.animationDuration,h=o.animationEasing,f=o.animationId,m=o.animateNewValues,p=o.width,v=o.height,y=this.state,b=y.prevPoints,x=y.totalLength;return k.createElement(ts,{begin:u,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(b){var C=b.length/a.length,O=a.map(function(A,I){var R=Math.floor(I*C);if(b[R]){var L=b[R],$=sn(L.x,A.x),B=sn(L.y,A.y);return Qr(Qr({},A),{},{x:$(S),y:B(S)})}if(m){var N=sn(p*2,A.x),M=sn(v/2,A.y);return Qr(Qr({},A),{},{x:N(S),y:M(S)})}return Qr(Qr({},A),{},{x:A.x,y:A.y})});return s.renderCurveStatically(O,n,i)}var T=sn(0,x),E=T(S),j;if(l){var P="".concat(l).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});j=s.getStrokeDasharray(E,x,P)}else j=s.generateSimpleStrokeDasharray(x,E);return s.renderCurveStatically(a,n,i,{strokeDasharray:j})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,a=s.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return a&&o&&o.length&&(!c&&u>0||!ap(c,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,h=i.left,f=i.width,m=i.height,p=i.isAnimationActive,v=i.id;if(s||!a||!a.length)return null;var y=this.state.isAnimationFinished,b=a.length===1,x=je("recharts-line",l),_=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,C=_||S,O=ke(v)?this.id:v,T=(n=me(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=T.r,j=E===void 0?3:E,P=T.strokeWidth,A=P===void 0?2:P,I=cie(o)?o:{},R=I.clipDot,L=R===void 0?!0:R,$=j*2+A;return k.createElement(Ve,{className:x},_||S?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(O)},k.createElement("rect",{x:_?h:h-f/2,y:S?d:d-m/2,width:_?f:f*2,height:S?m:m*2})),!L&&k.createElement("clipPath",{id:"clipPath-dots-".concat(O)},k.createElement("rect",{x:h-$/2,y:d-$/2,width:f+$,height:m+$}))):null,!b&&this.renderCurve(C,O),this.renderErrorBar(C,O),(b||o)&&this.renderDots(C,L,O),(!p||y)&&As.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(Kl(n),[0]):n,o=[],a=0;a<i;++a)o=[].concat(Kl(o),Kl(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(k.isValidElement(n))s=k.cloneElement(n,i);else if(xe(n))s=n(i);else{var o=i.key,a=XN(i,POe),l=je("recharts-line-dot",typeof n!="boolean"?n.className:"");s=k.createElement(W0,ph({key:o},a,{className:l}))}return s}}])}(w.PureComponent);di(ku,"displayName","Line");di(ku,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!El.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});di(ku,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,d=l.map(function(h,f){var m=Gt(h,o);return u==="horizontal"?{x:_2({axis:r,ticks:i,bandSize:a,entry:h,index:f}),y:ke(m)?null:n.scale(m),value:m,payload:h}:{x:ke(m)?null:r.scale(m),y:_2({axis:n,ticks:s,bandSize:a,entry:h,index:f}),value:m,payload:h}});return Qr({points:d,layout:u},c)});function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function UOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oU(n.key),n)}}function VOe(t,e,r){return e&&WOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HOe(t,e,r){return e=Qv(e),GOe(t,iU()?Reflect.construct(e,r||[],Qv(t).constructor):e.apply(t,r))}function GOe(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KOe(t)}function KOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iU=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qv(t)}function qOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l1(t,e)}function l1(t,e){return l1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l1(t,e)}function sU(t,e,r){return e=oU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oU(t){var e=YOe(t,"string");return Pu(e)=="symbol"?e:e+""}function YOe(t,e){if(Pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c1.apply(this,arguments)}function XOe(t){var e=t.xAxisId,r=_T(),n=ST(),i=Vz(e);return i==null?null:w.createElement(sd,c1({},i,{className:je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Os(o,!0)}}))}var el=function(t){function e(){return UOe(this,e),HOe(this,e,arguments)}return qOe(e,t),VOe(e,[{key:"render",value:function(){return w.createElement(XOe,this.props)}}])}(w.Component);sU(el,"displayName","XAxis");sU(el,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function ZOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cU(n.key),n)}}function QOe(t,e,r){return e&&JOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eTe(t,e,r){return e=ey(e),tTe(t,aU()?Reflect.construct(e,r||[],ey(t).constructor):e.apply(t,r))}function tTe(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rTe(t)}function rTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aU=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ey(t)}function nTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u1(t,e)}function u1(t,e){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u1(t,e)}function lU(t,e,r){return e=cU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cU(t){var e=iTe(t,"string");return ju(e)=="symbol"?e:e+""}function iTe(t,e){if(ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function d1(){return d1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d1.apply(this,arguments)}var sTe=function(e){var r=e.yAxisId,n=_T(),i=ST(),s=Hz(r);return s==null?null:w.createElement(sd,d1({},s,{className:je("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(a){return Os(a,!0)}}))},tl=function(t){function e(){return ZOe(this,e),eTe(this,e,arguments)}return nTe(e,t),QOe(e,[{key:"render",value:function(){return w.createElement(sTe,this.props)}}])}(w.Component);lU(tl,"displayName","YAxis");lU(tl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function QN(t){return cTe(t)||lTe(t)||aTe(t)||oTe()}function oTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aTe(t,e){if(t){if(typeof t=="string")return h1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h1(t,e)}}function lTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cTe(t){if(Array.isArray(t))return h1(t)}function h1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f1=function(e,r,n,i,s){var o=fn(e,OT),a=fn(e,J0),l=[].concat(QN(o),QN(a)),c=fn(e,eb),u="".concat(i,"Id"),d=i[0],h=r;if(l.length&&(h=l.reduce(function(p,v){if(v.props[u]===n&&Zi(v.props,"extendDomain")&&J(v.props[d])){var y=v.props[d];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},h)),c.length){var f="".concat(d,"1"),m="".concat(d,"2");h=c.reduce(function(p,v){if(v.props[u]===n&&Zi(v.props,"extendDomain")&&J(v.props[f])&&J(v.props[m])){var y=v.props[f],b=v.props[m];return[Math.min(p[0],y,b),Math.max(p[1],y,b)]}return p},h)}return s&&s.length&&(h=s.reduce(function(p,v){return J(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},uU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new i(u,d||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],f]:l._events[m].push(f):(l._events[m]=f,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,m=new Array(f);h<f;h++)m[h]=d[h].fn;return m},a.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,h,f,m){var p=r?r+c:c;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,b,x;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,f),!0;case 6:return v.fn.call(v.context,u,d,h,f,m),!0}for(x=1,b=new Array(y-1);x<y;x++)b[x-1]=arguments[x];v.fn.apply(v.context,b)}else{var _=v.length,S;for(x=0;x<_;x++)switch(v[x].once&&this.removeListener(c,v[x].fn,void 0,!0),y){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,u);break;case 3:v[x].fn.call(v[x].context,u,d);break;case 4:v[x].fn.call(v[x].context,u,d,h);break;default:if(!b)for(S=1,b=new Array(y-1);S<y;S++)b[S-1]=arguments[S];v[x].fn.apply(v[x].context,b)}}return!0},a.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,h){var f=r?r+c:c;if(!this._events[f])return this;if(!u)return o(this,f),this;var m=this._events[f];if(m.fn)m.fn===u&&(!h||m.once)&&(!d||m.context===d)&&o(this,f);else{for(var p=0,v=[],y=m.length;p<y;p++)(m[p].fn!==u||h&&!m[p].once||d&&m[p].context!==d)&&v.push(m[p]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(uU);var uTe=uU.exports;const dTe=Xe(uTe);var Fx=new dTe,Bx="recharts.syncMouseEvents";function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function hTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dU(n.key),n)}}function pTe(t,e,r){return e&&fTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zx(t,e,r){return e=dU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dU(t){var e=gTe(t,"string");return kf(e)=="symbol"?e:e+""}function gTe(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mTe=function(){function t(){hTe(this,t),zx(this,"activeIndex",0),zx(this,"coordinateList",[]),zx(this,"layout","horizontal")}return pTe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,a=o===void 0?null:o,l=r.layout,c=l===void 0?null:l,u=r.offset,d=u===void 0?null:u,h=r.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=s+l+c,h=o+this.offset.top+a/2+u;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function vTe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&J(n)&&J(i))return!0}return!1}function yTe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function hU(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=ut(e,r,n,i),a=ut(e,r,n,s);return{points:[o,a],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function bTe(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,h=ut(a,l,c,d),f=ut(a,l,u,d);n=h.x,i=h.y,s=f.x,o=f.y}else return hU(e);return[{x:n,y:i},{x:s,y:o}]}function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function eR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(r),!0).forEach(function(n){xTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xTe(t,e,r){return e=wTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wTe(t){var e=_Te(t,"string");return Pf(e)=="symbol"?e:e+""}function _Te(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function STe(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var m,p=Nv;if(h==="ScatterChart")m=o,p=zwe;else if(h==="BarChart")m=yTe(d,o,l,u),p=yT;else if(d==="radial"){var v=hU(o),y=v.cx,b=v.cy,x=v.radius,_=v.startAngle,S=v.endAngle;m={cx:y,cy:b,startAngle:_,endAngle:S,innerRadius:x,outerRadius:x},p=lz}else m={points:bTe(d,o,l)},p=Nv;var C=dg(dg(dg(dg({stroke:"#ccc",pointerEvents:"none"},l),m),me(f,!1)),{},{payload:a,payloadIndex:c,className:je("recharts-tooltip-cursor",f.className)});return w.isValidElement(f)?w.cloneElement(f,C):w.createElement(p,C)}var CTe=["item"],OTe=["children","className","width","height","style","compact","title","desc"];function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mc.apply(this,arguments)}function tR(t,e){return kTe(t)||ETe(t,e)||pU(t,e)||TTe()}function TTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ETe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function kTe(t){if(Array.isArray(t))return t}function rR(t,e){if(t==null)return{};var r=PTe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ATe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gU(n.key),n)}}function NTe(t,e,r){return e&&ATe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RTe(t,e,r){return e=ty(e),MTe(t,fU()?Reflect.construct(e,r||[],ty(t).constructor):e.apply(t,r))}function MTe(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Te(t)}function $Te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fU=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ty(t)}function DTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p1(t,e)}function p1(t,e){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p1(t,e)}function Nu(t){return FTe(t)||LTe(t)||pU(t)||ITe()}function ITe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pU(t,e){if(t){if(typeof t=="string")return g1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g1(t,e)}}function LTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FTe(t){if(Array.isArray(t))return g1(t)}function g1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(r),!0).forEach(function(n){ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ve(t,e,r){return e=gU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gU(t){var e=BTe(t,"string");return Au(e)=="symbol"?e:e+""}function BTe(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zTe={xAxis:["bottom","top"],yAxis:["left","right"]},UTe={width:"100%",height:"100%"},mU={x:0,y:0};function hg(t){return t}var WTe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},VTe=function(e,r,n,i){var s=r.find(function(u){return u&&u.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return G(G(G({},i),ut(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,c=i.angle;return G(G(G({},i),ut(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return mU},tb=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(Nu(a),Nu(c)):a},[]);return o.length>0?o:e&&e.length&&J(i)&&J(s)?e.slice(i,s+1):[]};function vU(t){return t==="number"?[0,"auto"]:void 0}var m1=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,a=tb(r,e);return n<0||!s||!s.length||n>=a.length?null:s.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var f=d===void 0?a:d;h=tv(f,o.dataKey,i)}else h=d&&d[n]||a[n];return h?[].concat(Nu(l),[rz(c,h)]):l},[])},iR=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=WTe(s,n),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=u0e(o,a,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,h=m1(e,r,u,d),f=VTe(n,a,u,s);return{activeTooltipIndex:u,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},HTe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,d=e.children,h=e.stackOffset,f=X3(u,s);return n.reduce(function(m,p){var v,y=p.type.defaultProps!==void 0?G(G({},p.type.defaultProps),p.props):p.props,b=y.type,x=y.dataKey,_=y.allowDataOverflow,S=y.allowDuplicatedCategory,C=y.scale,O=y.ticks,T=y.includeHidden,E=y[o];if(m[E])return m;var j=tb(e.data,{graphicalItems:i.filter(function(U){var q,ee=o in U.props?U.props[o]:(q=U.type.defaultProps)===null||q===void 0?void 0:q[o];return ee===E}),dataStartIndex:l,dataEndIndex:c}),P=j.length,A,I,R;vTe(y.domain,_,b)&&(A=jS(y.domain,null,_),f&&(b==="number"||C!=="auto")&&(R=uh(j,x,"category")));var L=vU(b);if(!A||A.length===0){var $,B=($=y.domain)!==null&&$!==void 0?$:L;if(x){if(A=uh(j,x,b),b==="category"&&f){var N=Qne(A);S&&N?(I=A,A=Uv(0,P)):S||(A=T2(B,A,p).reduce(function(U,q){return U.indexOf(q)>=0?U:[].concat(Nu(U),[q])},[]))}else if(b==="category")S?A=A.filter(function(U){return U!==""&&!ke(U)}):A=T2(B,A,p).reduce(function(U,q){return U.indexOf(q)>=0||q===""||ke(q)?U:[].concat(Nu(U),[q])},[]);else if(b==="number"){var M=g0e(j,i.filter(function(U){var q,ee,pe=o in U.props?U.props[o]:(q=U.type.defaultProps)===null||q===void 0?void 0:q[o],Oe="hide"in U.props?U.props.hide:(ee=U.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return pe===E&&(T||!Oe)}),x,s,u);M&&(A=M)}f&&(b==="number"||C!=="auto")&&(R=uh(j,x,"category"))}else f?A=Uv(0,P):a&&a[E]&&a[E].hasStack&&b==="number"?A=h==="expand"?[0,1]:tz(a[E].stackGroups,l,c):A=Y3(j,i.filter(function(U){var q=o in U.props?U.props[o]:U.type.defaultProps[o],ee="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return q===E&&(T||!ee)}),b,u,!0);if(b==="number")A=f1(d,A,E,s,O),B&&(A=jS(B,A,_));else if(b==="category"&&B){var z=B,H=A.every(function(U){return z.indexOf(U)>=0});H&&(A=z)}}return G(G({},m),{},ve({},E,G(G({},y),{},{axisType:s,domain:A,categoricalDomain:R,duplicateDomain:I,originalDomain:(v=y.domain)!==null&&v!==void 0?v:L,isCategorical:f,layout:u})))},{})},GTe=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,d=e.children,h=tb(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),f=h.length,m=X3(u,s),p=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?G(G({},y.type.defaultProps),y.props):y.props,x=b[o],_=vU("number");if(!v[x]){p++;var S;return m?S=Uv(0,f):a&&a[x]&&a[x].hasStack?(S=tz(a[x].stackGroups,l,c),S=f1(d,S,x,s)):(S=jS(_,Y3(h,n.filter(function(C){var O,T,E=o in C.props?C.props[o]:(O=C.type.defaultProps)===null||O===void 0?void 0:O[o],j="hide"in C.props?C.props.hide:(T=C.type.defaultProps)===null||T===void 0?void 0:T.hide;return E===x&&!j}),"number",u),i.defaultProps.allowDataOverflow),S=f1(d,S,x,s)),G(G({},v),{},ve({},x,G(G({axisType:s},i.defaultProps),{},{hide:!0,orientation:hn(zTe,"".concat(s,".").concat(p%2),null),domain:S,originalDomain:_,isCategorical:m,layout:u})))}return v},{})},KTe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,d="".concat(i,"Id"),h=fn(u,s),f={};return h&&h.length?f=HTe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(f=GTe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),f},qTe=function(e){var r=bo(e),n=Os(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:HO(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Pv(r,n)}},sR=function(e){var r=e.children,n=e.defaultShowTooltip,i=rn(r,wu),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},YTe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ps(r&&r.type);return n&&n.indexOf("Bar")>=0})},oR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},XTe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,c=n.width,u=n.height,d=n.children,h=n.margin||{},f=rn(d,wu),m=rn(d,Uo),p=Object.keys(l).reduce(function(S,C){var O=l[C],T=O.orientation;return!O.mirror&&!O.hide?G(G({},S),{},ve({},T,S[T]+O.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(S,C){var O=o[C],T=O.orientation;return!O.mirror&&!O.hide?G(G({},S),{},ve({},T,hn(S,"".concat(T))+O.height)):S},{top:h.top||0,bottom:h.bottom||0}),y=G(G({},v),p),b=y.bottom;f&&(y.bottom+=f.props.height||wu.defaultProps.height),m&&r&&(y=f0e(y,i,n,r));var x=c-y.left-y.right,_=u-y.top-y.bottom;return G(G({brushBottom:b},y),{},{width:Math.max(x,0),height:Math.max(_,0)})},ZTe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},kT=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(y,b){var x=b.graphicalItems,_=b.stackGroups,S=b.offset,C=b.updateId,O=b.dataStartIndex,T=b.dataEndIndex,E=y.barSize,j=y.layout,P=y.barGap,A=y.barCategoryGap,I=y.maxBarSize,R=oR(j),L=R.numericAxisName,$=R.cateAxisName,B=YTe(x),N=[];return x.forEach(function(M,z){var H=tb(y.data,{graphicalItems:[M],dataStartIndex:O,dataEndIndex:T}),U=M.type.defaultProps!==void 0?G(G({},M.type.defaultProps),M.props):M.props,q=U.dataKey,ee=U.maxBarSize,pe=U["".concat(L,"Id")],Oe=U["".concat($,"Id")],Q={},we=l.reduce(function(Yr,Ni){var Hn=b["".concat(Ni.axisType,"Map")],hp=U["".concat(Ni.axisType,"Id")];Hn&&Hn[hp]||Ni.axisType==="zAxis"||yl();var fp=Hn[hp];return G(G({},Yr),{},ve(ve({},Ni.axisType,fp),"".concat(Ni.axisType,"Ticks"),Os(fp)))},Q),Y=we[$],te=we["".concat($,"Ticks")],re=_&&_[pe]&&_[pe].hasStack&&C0e(M,_[pe].stackGroups),V=Ps(M.type).indexOf("Bar")>=0,Ne=Pv(Y,te),_e=[],rt=B&&d0e({barSize:E,stackGroups:_,totalSize:ZTe(we,$)});if(V){var Qe,Ot,Mr=ke(ee)?I:ee,qr=(Qe=(Ot=Pv(Y,te,!0))!==null&&Ot!==void 0?Ot:Mr)!==null&&Qe!==void 0?Qe:0;_e=h0e({barGap:P,barCategoryGap:A,bandSize:qr!==Ne?qr:Ne,sizeList:rt[Oe],maxBarSize:Mr}),qr!==Ne&&(_e=_e.map(function(Yr){return G(G({},Yr),{},{position:G(G({},Yr.position),{},{offset:Yr.position.offset-qr/2})})}))}var ua=M&&M.type&&M.type.getComposedData;ua&&N.push({props:G(G({},ua(G(G({},we),{},{displayedData:H,props:y,dataKey:q,item:M,bandSize:Ne,barPosition:_e,offset:S,stackedData:re,layout:j,dataStartIndex:O,dataEndIndex:T}))),{},ve(ve(ve({key:M.key||"item-".concat(z)},L,we[L]),$,we[$]),"animationId",C)),childIndex:hie(M,y.children),item:M})}),N},f=function(y,b){var x=y.props,_=y.dataStartIndex,S=y.dataEndIndex,C=y.updateId;if(!bj({props:x}))return null;var O=x.children,T=x.layout,E=x.stackOffset,j=x.data,P=x.reverseStackOrder,A=oR(T),I=A.numericAxisName,R=A.cateAxisName,L=fn(O,n),$=_0e(j,L,"".concat(I,"Id"),"".concat(R,"Id"),E,P),B=l.reduce(function(U,q){var ee="".concat(q.axisType,"Map");return G(G({},U),{},ve({},ee,KTe(x,G(G({},q),{},{graphicalItems:L,stackGroups:q.axisType===I&&$,dataStartIndex:_,dataEndIndex:S}))))},{}),N=XTe(G(G({},B),{},{props:x,graphicalItems:L}),b==null?void 0:b.legendBBox);Object.keys(B).forEach(function(U){B[U]=u(x,B[U],N,U.replace("Map",""),r)});var M=B["".concat(R,"Map")],z=qTe(M),H=h(x,G(G({},B),{},{dataStartIndex:_,dataEndIndex:S,updateId:C,graphicalItems:L,stackGroups:$,offset:N}));return G(G({formattedGraphicalItems:H,graphicalItems:L,offset:N,stackGroups:$},z),B)},m=function(v){function y(b){var x,_,S;return jTe(this,y),S=RTe(this,y,[b]),ve(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(S,"accessibilityManager",new mTe),ve(S,"handleLegendBBoxUpdate",function(C){if(C){var O=S.state,T=O.dataStartIndex,E=O.dataEndIndex,j=O.updateId;S.setState(G({legendBBox:C},f({props:S.props,dataStartIndex:T,dataEndIndex:E,updateId:j},G(G({},S.state),{},{legendBBox:C}))))}}),ve(S,"handleReceiveSyncEvent",function(C,O,T){if(S.props.syncId===C){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(O)}}),ve(S,"handleBrushChange",function(C){var O=C.startIndex,T=C.endIndex;if(O!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var E=S.state.updateId;S.setState(function(){return G({dataStartIndex:O,dataEndIndex:T},f({props:S.props,dataStartIndex:O,dataEndIndex:T,updateId:E},S.state))}),S.triggerSyncEvent({dataStartIndex:O,dataEndIndex:T})}}),ve(S,"handleMouseEnter",function(C){var O=S.getMouseInfo(C);if(O){var T=G(G({},O),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var E=S.props.onMouseEnter;xe(E)&&E(T,C)}}),ve(S,"triggeredAfterMouseMove",function(C){var O=S.getMouseInfo(C),T=O?G(G({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var E=S.props.onMouseMove;xe(E)&&E(T,C)}),ve(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),ve(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ve(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),ve(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};S.setState(O),S.triggerSyncEvent(O);var T=S.props.onMouseLeave;xe(T)&&T(O,C)}),ve(S,"handleOuterEvent",function(C){var O=die(C),T=hn(S.props,"".concat(O));if(O&&xe(T)){var E,j;/.*touch.*/i.test(O)?j=S.getMouseInfo(C.changedTouches[0]):j=S.getMouseInfo(C),T((E=j)!==null&&E!==void 0?E:{},C)}}),ve(S,"handleClick",function(C){var O=S.getMouseInfo(C);if(O){var T=G(G({},O),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var E=S.props.onClick;xe(E)&&E(T,C)}}),ve(S,"handleMouseDown",function(C){var O=S.props.onMouseDown;if(xe(O)){var T=S.getMouseInfo(C);O(T,C)}}),ve(S,"handleMouseUp",function(C){var O=S.props.onMouseUp;if(xe(O)){var T=S.getMouseInfo(C);O(T,C)}}),ve(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),ve(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),ve(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),ve(S,"handleDoubleClick",function(C){var O=S.props.onDoubleClick;if(xe(O)){var T=S.getMouseInfo(C);O(T,C)}}),ve(S,"handleContextMenu",function(C){var O=S.props.onContextMenu;if(xe(O)){var T=S.getMouseInfo(C);O(T,C)}}),ve(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&Fx.emit(Bx,S.props.syncId,C,S.eventEmitterSymbol)}),ve(S,"applySyncEvent",function(C){var O=S.props,T=O.layout,E=O.syncMethod,j=S.state.updateId,P=C.dataStartIndex,A=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(G({dataStartIndex:P,dataEndIndex:A},f({props:S.props,dataStartIndex:P,dataEndIndex:A,updateId:j},S.state)));else if(C.activeTooltipIndex!==void 0){var I=C.chartX,R=C.chartY,L=C.activeTooltipIndex,$=S.state,B=$.offset,N=$.tooltipTicks;if(!B)return;if(typeof E=="function")L=E(N,C);else if(E==="value"){L=-1;for(var M=0;M<N.length;M++)if(N[M].value===C.activeLabel){L=M;break}}var z=G(G({},B),{},{x:B.left,y:B.top}),H=Math.min(I,z.x+z.width),U=Math.min(R,z.y+z.height),q=N[L]&&N[L].value,ee=m1(S.state,S.props.data,L),pe=N[L]?{x:T==="horizontal"?N[L].coordinate:H,y:T==="horizontal"?U:N[L].coordinate}:mU;S.setState(G(G({},C),{},{activeLabel:q,activeCoordinate:pe,activePayload:ee,activeTooltipIndex:L}))}else S.setState(C)}),ve(S,"renderCursor",function(C){var O,T=S.state,E=T.isTooltipActive,j=T.activeCoordinate,P=T.activePayload,A=T.offset,I=T.activeTooltipIndex,R=T.tooltipAxisBandSize,L=S.getTooltipEventType(),$=(O=C.props.active)!==null&&O!==void 0?O:E,B=S.props.layout,N=C.key||"_recharts-cursor";return k.createElement(STe,{key:N,activeCoordinate:j,activePayload:P,activeTooltipIndex:I,chartName:r,element:C,isActive:$,layout:B,offset:A,tooltipAxisBandSize:R,tooltipEventType:L})}),ve(S,"renderPolarAxis",function(C,O,T){var E=hn(C,"type.axisType"),j=hn(S.state,"".concat(E,"Map")),P=C.type.defaultProps,A=P!==void 0?G(G({},P),C.props):C.props,I=j&&j[A["".concat(E,"Id")]];return w.cloneElement(C,G(G({},I),{},{className:je(E,I.className),key:C.key||"".concat(O,"-").concat(T),ticks:Os(I,!0)}))}),ve(S,"renderPolarGrid",function(C){var O=C.props,T=O.radialLines,E=O.polarAngles,j=O.polarRadius,P=S.state,A=P.radiusAxisMap,I=P.angleAxisMap,R=bo(A),L=bo(I),$=L.cx,B=L.cy,N=L.innerRadius,M=L.outerRadius;return w.cloneElement(C,{polarAngles:Array.isArray(E)?E:Os(L,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(j)?j:Os(R,!0).map(function(z){return z.coordinate}),cx:$,cy:B,innerRadius:N,outerRadius:M,key:C.key||"polar-grid",radialLines:T})}),ve(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,O=S.props,T=O.children,E=O.width,j=O.height,P=S.props.margin||{},A=E-(P.left||0)-(P.right||0),I=K3({children:T,formattedGraphicalItems:C,legendWidth:A,legendContent:c});if(!I)return null;var R=I.item,L=rR(I,CTe);return w.cloneElement(R,G(G({},L),{},{chartWidth:E,chartHeight:j,margin:P,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ve(S,"renderTooltip",function(){var C,O=S.props,T=O.children,E=O.accessibilityLayer,j=rn(T,Di);if(!j)return null;var P=S.state,A=P.isTooltipActive,I=P.activeCoordinate,R=P.activePayload,L=P.activeLabel,$=P.offset,B=(C=j.props.active)!==null&&C!==void 0?C:A;return w.cloneElement(j,{viewBox:G(G({},$),{},{x:$.left,y:$.top}),active:B,label:L,payload:B?R:[],coordinate:I,accessibilityLayer:E})}),ve(S,"renderBrush",function(C){var O=S.props,T=O.margin,E=O.data,j=S.state,P=j.offset,A=j.dataStartIndex,I=j.dataEndIndex,R=j.updateId;return w.cloneElement(C,{key:C.key||"_recharts-brush",onChange:ag(S.handleBrushChange,C.props.onChange),data:E,x:J(C.props.x)?C.props.x:P.left,y:J(C.props.y)?C.props.y:P.top+P.height+P.brushBottom-(T.bottom||0),width:J(C.props.width)?C.props.width:P.width,startIndex:A,endIndex:I,updateId:"brush-".concat(R)})}),ve(S,"renderReferenceElement",function(C,O,T){if(!C)return null;var E=S,j=E.clipPathId,P=S.state,A=P.xAxisMap,I=P.yAxisMap,R=P.offset,L=C.type.defaultProps||{},$=C.props,B=$.xAxisId,N=B===void 0?L.xAxisId:B,M=$.yAxisId,z=M===void 0?L.yAxisId:M;return w.cloneElement(C,{key:C.key||"".concat(O,"-").concat(T),xAxis:A[N],yAxis:I[z],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:j})}),ve(S,"renderActivePoints",function(C){var O=C.item,T=C.activePoint,E=C.basePoint,j=C.childIndex,P=C.isRange,A=[],I=O.props.key,R=O.item.type.defaultProps!==void 0?G(G({},O.item.type.defaultProps),O.item.props):O.item.props,L=R.activeDot,$=R.dataKey,B=G(G({index:j,dataKey:$,cx:T.x,cy:T.y,r:4,fill:vT(O.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},me(L,!1)),rv(L));return A.push(y.renderActiveDot(L,B,"".concat(I,"-activePoint-").concat(j))),E?A.push(y.renderActiveDot(L,G(G({},B),{},{cx:E.x,cy:E.y}),"".concat(I,"-basePoint-").concat(j))):P&&A.push(null),A}),ve(S,"renderGraphicChild",function(C,O,T){var E=S.filterFormatItem(C,O,T);if(!E)return null;var j=S.getTooltipEventType(),P=S.state,A=P.isTooltipActive,I=P.tooltipAxis,R=P.activeTooltipIndex,L=P.activeLabel,$=S.props.children,B=rn($,Di),N=E.props,M=N.points,z=N.isRange,H=N.baseLine,U=E.item.type.defaultProps!==void 0?G(G({},E.item.type.defaultProps),E.item.props):E.item.props,q=U.activeDot,ee=U.hide,pe=U.activeBar,Oe=U.activeShape,Q=!!(!ee&&A&&B&&(q||pe||Oe)),we={};j!=="axis"&&B&&B.props.trigger==="click"?we={onClick:ag(S.handleItemMouseEnter,C.props.onClick)}:j!=="axis"&&(we={onMouseLeave:ag(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:ag(S.handleItemMouseEnter,C.props.onMouseEnter)});var Y=w.cloneElement(C,G(G({},E.props),we));function te(Ni){return typeof I.dataKey=="function"?I.dataKey(Ni.payload):null}if(Q)if(R>=0){var re,V;if(I.dataKey&&!I.allowDuplicatedCategory){var Ne=typeof I.dataKey=="function"?te:"payload.".concat(I.dataKey.toString());re=tv(M,Ne,L),V=z&&H&&tv(H,Ne,L)}else re=M==null?void 0:M[R],V=z&&H&&H[R];if(Oe||pe){var _e=C.props.activeIndex!==void 0?C.props.activeIndex:R;return[w.cloneElement(C,G(G(G({},E.props),we),{},{activeIndex:_e})),null,null]}if(!ke(re))return[Y].concat(Nu(S.renderActivePoints({item:E,activePoint:re,basePoint:V,childIndex:R,isRange:z})))}else{var rt,Qe=(rt=S.getItemByXY(S.state.activeCoordinate))!==null&&rt!==void 0?rt:{graphicalItem:Y},Ot=Qe.graphicalItem,Mr=Ot.item,qr=Mr===void 0?C:Mr,ua=Ot.childIndex,Yr=G(G(G({},E.props),we),{},{activeIndex:ua});return[w.cloneElement(qr,Yr),null,null]}return z?[Y,null,null]:[Y,null]}),ve(S,"renderCustomized",function(C,O,T){return w.cloneElement(C,G(G({key:"recharts-customized-".concat(T)},S.props),S.state))}),ve(S,"renderMap",{CartesianGrid:{handler:hg,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:hg},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:hg},YAxis:{handler:hg},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:Ju("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=G5(S.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return DTe(y,v),NTe(y,[{key:"componentDidMount",value:function(){var x,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,_=x.children,S=x.data,C=x.height,O=x.layout,T=rn(_,Di);if(T){var E=T.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var j=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,P=m1(this.state,S,E,j),A=this.state.tooltipTicks[E].coordinate,I=(this.state.offset.top+C)/2,R=O==="horizontal",L=R?{x:A,y:I}:{y:A,x:I},$=this.state.formattedGraphicalItems.find(function(N){var M=N.item;return M.type.name==="Scatter"});$&&(L=G(G({},L),$.props.points[E].tooltipPosition),P=$.props.points[E].tooltipPayload);var B={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:j,activePayload:P,activeCoordinate:L};this.setState(B),this.renderCursor(T),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(x){H_([rn(x.children,Di)],[rn(this.props.children,Di)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=rn(this.props.children,Di);if(x&&typeof x.props.shared=="boolean"){var _=x.props.shared?"axis":"item";return a.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),C=Lpe(S),O={chartX:Math.round(x.pageX-C.left),chartY:Math.round(x.pageY-C.top)},T=S.width/_.offsetWidth||1,E=this.inRange(O.chartX,O.chartY,T);if(!E)return null;var j=this.state,P=j.xAxisMap,A=j.yAxisMap,I=this.getTooltipEventType(),R=iR(this.state,this.props.data,this.props.layout,E);if(I!=="axis"&&P&&A){var L=bo(P).scale,$=bo(A).scale,B=L&&L.invert?L.invert(O.chartX):null,N=$&&$.invert?$.invert(O.chartY):null;return G(G({},O),{},{xValue:B,yValue:N},R)}return R?G(G({},O),R):null}},{key:"inRange",value:function(x,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,O=x/S,T=_/S;if(C==="horizontal"||C==="vertical"){var E=this.state.offset,j=O>=E.left&&O<=E.left+E.width&&T>=E.top&&T<=E.top+E.height;return j?{x:O,y:T}:null}var P=this.state,A=P.angleAxisMap,I=P.radiusAxisMap;if(A&&I){var R=bo(A);return P2({x:O,y:T},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,_=this.getTooltipEventType(),S=rn(x,Di),C={};S&&_==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=rv(this.props,this.handleOuterEvent);return G(G({},O),C)}},{key:"addListener",value:function(){Fx.on(Bx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Fx.removeListener(Bx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,_,S){for(var C=this.state.formattedGraphicalItems,O=0,T=C.length;O<T;O++){var E=C[O];if(E.item===x||E.props.key===x.key||_===Ps(E.item.type)&&S===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,_=this.state.offset,S=_.left,C=_.top,O=_.height,T=_.width;return k.createElement("defs",null,k.createElement("clipPath",{id:x},k.createElement("rect",{x:S,y:C,height:O,width:T})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(_,S){var C=tR(S,2),O=C[0],T=C[1];return G(G({},_),{},ve({},O,T.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(_,S){var C=tR(S,2),O=C[0],T=C[1];return G(G({},_),{},ve({},O,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(x){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(x){var _=this.state,S=_.formattedGraphicalItems,C=_.activeItem;if(S&&S.length)for(var O=0,T=S.length;O<T;O++){var E=S[O],j=E.props,P=E.item,A=P.type.defaultProps!==void 0?G(G({},P.type.defaultProps),P.props):P.props,I=Ps(P.type);if(I==="Bar"){var R=(j.data||[]).find(function(N){return wwe(x,N)});if(R)return{graphicalItem:E,payload:R}}else if(I==="RadialBar"){var L=(j.data||[]).find(function(N){return P2(x,N)});if(L)return{graphicalItem:E,payload:L}}else if(q0(E,C)||Y0(E,C)||Sf(E,C)){var $=cSe({graphicalItem:E,activeTooltipItem:C,itemData:A.data}),B=A.activeIndex===void 0?$:A.activeIndex;return{graphicalItem:G(G({},E),{},{childIndex:B}),payload:Sf(E,C)?A.data[$]:E.props.data[$]}}}return null}},{key:"render",value:function(){var x=this;if(!bj(this))return null;var _=this.props,S=_.children,C=_.className,O=_.width,T=_.height,E=_.style,j=_.compact,P=_.title,A=_.desc,I=rR(_,OTe),R=me(I,!1);if(j)return k.createElement(IN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement(K_,mc({},R,{width:O,height:T,title:P,desc:A}),this.renderClipPath(),wj(S,this.renderMap)));if(this.props.accessibilityLayer){var L,$;R.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,R.role=($=this.props.role)!==null&&$!==void 0?$:"application",R.onKeyDown=function(N){x.accessibilityManager.keyboardEvent(N)},R.onFocus=function(){x.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return k.createElement(IN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement("div",mc({className:je("recharts-wrapper",C),style:G({position:"relative",cursor:"default",width:O,height:T},E)},B,{ref:function(M){x.container=M}}),k.createElement(K_,mc({},R,{width:O,height:T,title:P,desc:A,style:UTe}),this.renderClipPath(),wj(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);ve(m,"displayName",r),ve(m,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ve(m,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,x=v.data,_=v.children,S=v.width,C=v.height,O=v.layout,T=v.stackOffset,E=v.margin,j=y.dataStartIndex,P=y.dataEndIndex;if(y.updateId===void 0){var A=sR(v);return G(G(G({},A),{},{updateId:0},f(G(G({props:v},A),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:x,prevWidth:S,prevHeight:C,prevLayout:O,prevStackOffset:T,prevMargin:E,prevChildren:_})}if(b!==y.prevDataKey||x!==y.prevData||S!==y.prevWidth||C!==y.prevHeight||O!==y.prevLayout||T!==y.prevStackOffset||!jc(E,y.prevMargin)){var I=sR(v),R={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},L=G(G({},iR(y,x,O)),{},{updateId:y.updateId+1}),$=G(G(G({},I),R),L);return G(G(G({},$),f(G({props:v},$),y)),{},{prevDataKey:b,prevData:x,prevWidth:S,prevHeight:C,prevLayout:O,prevStackOffset:T,prevMargin:E,prevChildren:_})}if(!H_(_,y.prevChildren)){var B,N,M,z,H=rn(_,wu),U=H&&(B=(N=H.props)===null||N===void 0?void 0:N.startIndex)!==null&&B!==void 0?B:j,q=H&&(M=(z=H.props)===null||z===void 0?void 0:z.endIndex)!==null&&M!==void 0?M:P,ee=U!==j||q!==P,pe=!ke(x),Oe=pe&&!ee?y.updateId:y.updateId+1;return G(G({updateId:Oe},f(G(G({props:v},y),{},{updateId:Oe,dataStartIndex:U,dataEndIndex:q}),y)),{},{prevChildren:_,dataStartIndex:U,dataEndIndex:q})}return null}),ve(m,"renderActiveDot",function(v,y,b){var x;return w.isValidElement(v)?x=w.cloneElement(v,y):xe(v)?x=v(y):x=k.createElement(W0,y),k.createElement(Ve,{className:"recharts-active-dot",key:b},x)});var p=w.forwardRef(function(y,b){return k.createElement(m,mc({},y,{ref:b}))});return p.displayName=m.displayName,p},JTe=kT({chartName:"LineChart",GraphicalChild:ku,axisComponents:[{axisType:"xAxis",AxisComp:el},{axisType:"yAxis",AxisComp:tl}],formatAxisMap:Dz}),aR=kT({chartName:"BarChart",GraphicalChild:Ns,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:el},{axisType:"yAxis",AxisComp:tl}],formatAxisMap:Dz}),QTe=kT({chartName:"PieChart",GraphicalChild:Zs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:K0},{axisType:"radiusAxis",AxisComp:H0}],formatAxisMap:M0e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const eEe={light:"",dark:".dark"},yU=w.createContext(null);function bU(){const t=w.useContext(yU);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const Vd=w.forwardRef(({id:t,className:e,children:r,config:n,...i},s)=>{const o=w.useId(),a=`chart-${t||o.replace(/:/g,"")}`;return g.jsx(yU.Provider,{value:{config:n},children:g.jsxs("div",{"data-chart":a,ref:s,className:ae("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...i,children:[g.jsx(tEe,{id:a,config:n}),g.jsx(Ud,{children:r})]})})});Vd.displayName="Chart";const tEe=({id:t,config:e})=>{const r=Object.entries(e).filter(([n,i])=>i.theme||i.color);return r.length?g.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(eEe).map(([n,i])=>`
${i} [data-chart=${t}] {
${r.map(([s,o])=>{var l;const a=((l=o.theme)==null?void 0:l[n])||o.color;return a?`  --color-${s}: ${a};`:null}).join(`
`)}
}
`).join(`
`)}}):null},fg=Di,Hd=w.forwardRef(({active:t,payload:e,className:r,indicator:n="dot",hideLabel:i=!1,hideIndicator:s=!1,label:o,labelFormatter:a,labelClassName:l,formatter:c,color:u,nameKey:d,labelKey:h},f)=>{const{config:m}=bU(),p=w.useMemo(()=>{var S;if(i||!(e!=null&&e.length))return null;const[y]=e,b=`${h||y.dataKey||y.name||"value"}`,x=v1(m,y,b),_=!h&&typeof o=="string"?((S=m[o])==null?void 0:S.label)||o:x==null?void 0:x.label;return a?g.jsx("div",{className:ae("font-medium",l),children:a(_,e)}):_?g.jsx("div",{className:ae("font-medium",l),children:_}):null},[o,a,e,i,l,m,h]);if(!t||!(e!=null&&e.length))return null;const v=e.length===1&&n!=="dot";return g.jsxs("div",{ref:f,className:ae("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:p,g.jsx("div",{className:"grid gap-1.5",children:e.map((y,b)=>{const x=`${d||y.name||y.dataKey||"value"}`,_=v1(m,y,x),S=u||y.payload.fill||y.color;return g.jsx("div",{className:ae("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:c&&(y==null?void 0:y.value)!==void 0&&y.name?c(y.value,y.name,y,b,y.payload):g.jsxs(g.Fragment,{children:[_!=null&&_.icon?g.jsx(_.icon,{}):!s&&g.jsx("div",{className:ae("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),g.jsxs("div",{className:ae("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[g.jsxs("div",{className:"grid gap-1.5",children:[v?p:null,g.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||y.name})]}),y.value&&g.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});Hd.displayName="ChartTooltip";const rEe=w.forwardRef(({className:t,hideIcon:e=!1,payload:r,verticalAlign:n="bottom",nameKey:i},s)=>{const{config:o}=bU();return r!=null&&r.length?g.jsx("div",{ref:s,className:ae("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",t),children:r.map(a=>{const l=`${i||a.dataKey||"value"}`,c=v1(o,a,l);return g.jsxs("div",{className:ae("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[c!=null&&c.icon&&!e?g.jsx(c.icon,{}):g.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:a.color}}),c==null?void 0:c.label]},a.value)})}):null});rEe.displayName="ChartLegend";function v1(t,e,r){if(typeof e!="object"||e===null)return;const n="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let i=r;return r in e&&typeof e[r]=="string"?i=e[r]:n&&r in n&&typeof n[r]=="string"&&(i=n[r]),i in t?t[i]:t[r]}const Jn={primary:"hsl(var(--primary))",secondary:"hsl(var(--secondary))",accent:"hsl(var(--accent))",success:"hsl(var(--success))"},nEe=()=>{const{vocabulary:t,loading:e}=Ol(),r=yn(),n=w.useMemo(()=>[1,2,3,4,5,6].map(c=>({level:`HSK ${c}`,total:t.filter(u=>u.hsk_level===c).length,mastered:t.filter(u=>{var d;return u.hsk_level===c&&((d=u.progress)==null?void 0:d.mastered)}).length,learning:t.filter(u=>{var d;return u.hsk_level===c&&!((d=u.progress)!=null&&d.mastered)}).length})),[t]),i=w.useMemo(()=>[...new Set(t.map(c=>c.category))].map(c=>({name:c,value:t.filter(u=>u.category===c).length})),[t]),s=w.useMemo(()=>{const l=t.filter(u=>{var d;return(d=u.progress)==null?void 0:d.mastered}).length,c=t.length-l;return[{name:"Sudah Hafal",value:l},{name:"Sedang Belajar",value:c}]},[t]),o=w.useMemo(()=>["Sen","Sel","Rab","Kam","Jum","Sab","Min"].map((c,u)=>({day:c,reviewed:Math.floor(Math.random()*20)+5,mastered:Math.floor(Math.random()*10)+2})),[]),a={total:{label:"Total",color:Jn.primary},mastered:{label:"Sudah Hafal",color:Jn.success},learning:{label:"Sedang Belajar",color:Jn.secondary},reviewed:{label:"Direview",color:Jn.accent}};return e?g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center pt-20",children:g.jsx("p",{className:"text-muted-foreground",children:"Memuat statistik..."})}):g.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8 pt-20",children:g.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(fe,{onClick:()=>r("/"),variant:"ghost",size:"sm",children:g.jsx(Jc,{className:"h-4 w-4"})}),g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Statistik"})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[g.jsxs(qe,{className:"shadow-soft",children:[g.jsx(tr,{className:"pb-2",children:g.jsx(rr,{className:"text-sm text-muted-foreground",children:"Total Kosa Kata"})}),g.jsx(nt,{children:g.jsx("p",{className:"text-3xl font-bold text-foreground",children:t.length})})]}),g.jsxs(qe,{className:"shadow-soft",children:[g.jsx(tr,{className:"pb-2",children:g.jsx(rr,{className:"text-sm text-muted-foreground",children:"Sudah Hafal"})}),g.jsx(nt,{children:g.jsx("p",{className:"text-3xl font-bold text-success",children:t.filter(l=>{var c;return(c=l.progress)==null?void 0:c.mastered}).length})})]}),g.jsxs(qe,{className:"shadow-soft",children:[g.jsx(tr,{className:"pb-2",children:g.jsx(rr,{className:"text-sm text-muted-foreground",children:"Sedang Belajar"})}),g.jsx(nt,{children:g.jsx("p",{className:"text-3xl font-bold text-secondary",children:t.filter(l=>{var c;return!((c=l.progress)!=null&&c.mastered)}).length})})]}),g.jsxs(qe,{className:"shadow-soft",children:[g.jsx(tr,{className:"pb-2",children:g.jsx(rr,{className:"text-sm text-muted-foreground",children:"Tingkat Penguasaan"})}),g.jsx(nt,{children:g.jsxs("p",{className:"text-3xl font-bold text-primary",children:[t.length>0?Math.round(t.filter(l=>{var c;return(c=l.progress)==null?void 0:c.mastered}).length/t.length*100):0,"%"]})})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs(qe,{className:"shadow-medium",children:[g.jsx(tr,{children:g.jsx(rr,{children:"Distribusi Level HSK"})}),g.jsx(nt,{children:g.jsx(Vd,{config:a,className:"h-[300px]",children:g.jsx(Ud,{width:"100%",height:"100%",children:g.jsxs(aR,{data:n,children:[g.jsx(im,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),g.jsx(el,{dataKey:"level",stroke:"hsl(var(--muted-foreground))"}),g.jsx(tl,{stroke:"hsl(var(--muted-foreground))"}),g.jsx(fg,{content:g.jsx(Hd,{})}),g.jsx(Uo,{}),g.jsx(Ns,{dataKey:"mastered",fill:Jn.success,name:"Sudah Hafal"}),g.jsx(Ns,{dataKey:"learning",fill:Jn.secondary,name:"Sedang Belajar"})]})})})})]}),g.jsxs(qe,{className:"shadow-medium",children:[g.jsx(tr,{children:g.jsx(rr,{children:"Status Penguasaan"})}),g.jsx(nt,{children:g.jsx(Vd,{config:a,className:"h-[300px]",children:g.jsx(Ud,{width:"100%",height:"100%",children:g.jsxs(QTe,{children:[g.jsx(Zs,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,percent:c})=>`${l}: ${(c*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.map((l,c)=>g.jsx(A0,{fill:c===0?Jn.success:Jn.secondary},`cell-${c}`))}),g.jsx(fg,{content:g.jsx(Hd,{})})]})})})})]}),g.jsxs(qe,{className:"shadow-medium",children:[g.jsx(tr,{children:g.jsx(rr,{children:"Progress Mingguan"})}),g.jsx(nt,{children:g.jsx(Vd,{config:a,className:"h-[300px]",children:g.jsx(Ud,{width:"100%",height:"100%",children:g.jsxs(JTe,{data:o,children:[g.jsx(im,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),g.jsx(el,{dataKey:"day",stroke:"hsl(var(--muted-foreground))"}),g.jsx(tl,{stroke:"hsl(var(--muted-foreground))"}),g.jsx(fg,{content:g.jsx(Hd,{})}),g.jsx(Uo,{}),g.jsx(ku,{type:"monotone",dataKey:"reviewed",stroke:Jn.accent,strokeWidth:2,name:"Direview"}),g.jsx(ku,{type:"monotone",dataKey:"mastered",stroke:Jn.success,strokeWidth:2,name:"Dikuasai"})]})})})})]}),g.jsxs(qe,{className:"shadow-medium",children:[g.jsx(tr,{children:g.jsx(rr,{children:"Distribusi Kategori"})}),g.jsx(nt,{children:g.jsx(Vd,{config:a,className:"h-[300px]",children:g.jsx(Ud,{width:"100%",height:"100%",children:g.jsxs(aR,{data:i,layout:"vertical",children:[g.jsx(im,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),g.jsx(el,{type:"number",stroke:"hsl(var(--muted-foreground))"}),g.jsx(tl,{dataKey:"name",type:"category",stroke:"hsl(var(--muted-foreground))",width:100}),g.jsx(fg,{content:g.jsx(Hd,{})}),g.jsx(Ns,{dataKey:"value",fill:Jn.primary,name:"Jumlah"})]})})})})]})]})]})})},iEe=()=>{const t=yn(),[e,r]=w.useState([]),[n,i]=w.useState({current:0,longest:0});w.useEffect(()=>{s(),o()},[]);const s=async()=>{const{data:{user:a}}=await be.auth.getUser();if(!a)return;const{data:l}=await be.from("achievements").select("*").order("condition_value",{ascending:!0}),{data:c}=await be.from("user_achievements").select("*").eq("user_id",a.id),u=new Map((c==null?void 0:c.map(h=>[h.achievement_id,h.earned_at]))||[]),d=(l==null?void 0:l.map(h=>({...h,earned:u.has(h.id),earned_at:u.get(h.id)})))||[];r(d)},o=async()=>{const{data:{user:a}}=await be.auth.getUser();if(!a)return;const{data:l}=await be.from("user_streaks").select("current_streak, longest_streak").eq("user_id",a.id).single();l&&i({current:l.current_streak,longest:l.longest_streak})};return g.jsxs("div",{className:"min-h-screen bg-background pt-16",children:[g.jsx("header",{className:"border-b bg-card shadow-soft sticky top-0 z-10",children:g.jsx("div",{className:"container mx-auto px-4 py-4",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(fe,{variant:"outline",size:"icon",onClick:()=>t("/"),children:g.jsx(Kf,{className:"h-4 w-4"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Achievements"}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:[" Streak: ",n.current," hari |  Terpanjang: ",n.longest," hari"]})]})]})})}),g.jsx("main",{className:"container mx-auto px-4 py-8",children:g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(a=>g.jsx(qe,{className:`p-6 transition-all ${a.earned?"bg-gradient-to-br from-accent/20 to-primary/10 border-primary shadow-glow":"bg-muted/30 opacity-60"}`,children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"text-4xl",children:a.icon}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx("h3",{className:"font-bold text-lg",children:a.name}),a.earned&&g.jsx(yr,{variant:"default",children:""})]}),g.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:a.description}),a.earned&&a.earned_at&&g.jsxs("p",{className:"text-xs text-primary",children:["Diraih: ",new Date(a.earned_at).toLocaleDateString("id-ID")]})]})]})},a.id))})})]})};function D(t,e,r){return(e=function(n){var i=function(s,o){if(typeof s!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var l=a.call(s,o);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(s)}(n,"string");return typeof i=="symbol"?i:i+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(r),!0).forEach(function(n){D(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mt(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var l={};for(var c in o)if({}.hasOwnProperty.call(o,c)){if(a.indexOf(c)>=0)continue;l[c]=o[c]}return l}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ls(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}class cR{constructor(){D(this,"browserShadowBlurConstant",1),D(this,"DPI",96),D(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),D(this,"perfLimitSizeTotal",2097152),D(this,"maxCacheSideLimit",4096),D(this,"minCacheSideLimit",256),D(this,"disableStyleCopyPaste",!1),D(this,"enableGLFiltering",!0),D(this,"textureSize",4096),D(this,"forceGLPutImageData",!1),D(this,"cachesBoundsOfCurve",!1),D(this,"fontPaths",{}),D(this,"NUM_FRACTION_DIGITS",4)}}const Be=new class extends cR{constructor(t){super(),this.configure(t)}configure(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,t)}addFonts(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=F(F({},this.fontPaths),t)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(t=>{delete this.fontPaths[t]})}clearFonts(){this.fontPaths={}}restoreDefaults(t){const e=new cR,r=(t==null?void 0:t.reduce((n,i)=>(n[i]=e[i],n),{}))||e;this.configure(r)}},Xo=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return console[t]("fabric",...r)};class Hi extends Error{constructor(e,r){super("fabric: ".concat(e),r)}}class sEe extends Hi{constructor(e){super("".concat(e," 'options.signal' is in 'aborted' state"))}}class oEe{}class aEe extends oEe{testPrecision(e,r){const n="precision ".concat(r,` float;
void main(){}`),i=e.createShader(e.FRAGMENT_SHADER);return!!i&&(e.shaderSource(i,n),e.compileShader(i),!!e.getShaderParameter(i,e.COMPILE_STATUS))}queryWebGL(e){const r=e.getContext("webgl");r&&(this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(n=>this.testPrecision(r,n)),r.getExtension("WEBGL_lose_context").loseContext(),Xo("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(e){return!!this.maxTextureSize&&this.maxTextureSize>=e}}const lEe={};let uR;const rs=()=>uR||(uR={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new aEe,dispose(){},copyPasteData:lEe}),od=()=>rs().document,rb=()=>rs().window,xU=()=>{var t;return Math.max((t=Be.devicePixelRatio)!==null&&t!==void 0?t:rb().devicePixelRatio,1)},gh=new class{constructor(){D(this,"boundsOfCurveCache",{}),this.charWidthsCache=new Map}getFontCache(t){let{fontFamily:e,fontStyle:r,fontWeight:n}=t;e=e.toLowerCase();const i=this.charWidthsCache;i.has(e)||i.set(e,new Map);const s=i.get(e),o="".concat(r.toLowerCase(),"_").concat((n+"").toLowerCase());return s.has(o)||s.set(o,new Map),s.get(o)}clearFontCache(t){t?this.charWidthsCache.delete((t||"").toLowerCase()):this.charWidthsCache=new Map}limitDimsByArea(t){const{perfLimitSizeTotal:e}=Be,r=Math.sqrt(e*t);return[Math.floor(r),Math.floor(e/r)]}},y1="6.9.0";function sm(){}const cp=Math.PI/2,ry=2*Math.PI,PT=Math.PI/180,Ar=Object.freeze([1,0,0,1,0,0]),jT=16,ao=.4477152502,Re="center",Ye="left",Wr="top",b1="bottom",Pt="right",Vr="none",AT=/\r?\n/,wU="moving",nb="scaling",_U="rotating",NT="rotate",SU="skewing",jf="resizing",cEe="modifyPoly",uEe="modifyPath",ny="changed",ib="scale",Gr="scaleX",Fn="scaleY",ad="skewX",ld="skewY",Yt="fill",Hr="stroke",iy="modified",ql="json",Ux="svg",ie=new class{constructor(){this[ql]=new Map,this[Ux]=new Map}has(t){return this[ql].has(t)}getClass(t){const e=this[ql].get(t);if(!e)throw new Hi("No class registered for ".concat(t));return e}setClass(t,e){e?this[ql].set(e,t):(this[ql].set(t.type,t),this[ql].set(t.type.toLowerCase(),t))}getSVGClass(t){return this[Ux].get(t)}setSVGClass(t,e){this[Ux].set(e??t.type.toLowerCase(),t)}},sy=new class extends Array{remove(t){const e=this.indexOf(t);e>-1&&this.splice(e,1)}cancelAll(){const t=this.splice(0);return t.forEach(e=>e.abort()),t}cancelByCanvas(t){if(!t)return[];const e=this.filter(r=>{var n;return r.target===t||typeof r.target=="object"&&((n=r.target)===null||n===void 0?void 0:n.canvas)===t});return e.forEach(r=>r.abort()),e}cancelByTarget(t){if(!t)return[];const e=this.filter(r=>r.target===t);return e.forEach(r=>r.abort()),e}};class dEe{constructor(){D(this,"__eventListeners",{})}on(e,r){if(this.__eventListeners||(this.__eventListeners={}),typeof e=="object")return Object.entries(e).forEach(n=>{let[i,s]=n;this.on(i,s)}),()=>this.off(e);if(r){const n=e;return this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(r),()=>this.off(n,r)}return()=>!1}once(e,r){if(typeof e=="object"){const n=[];return Object.entries(e).forEach(i=>{let[s,o]=i;n.push(this.once(s,o))}),()=>n.forEach(i=>i())}if(r){const n=this.on(e,function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];r.call(this,...s),n()});return n}return()=>!1}_removeEventListener(e,r){if(this.__eventListeners[e])if(r){const n=this.__eventListeners[e],i=n.indexOf(r);i>-1&&n.splice(i,1)}else this.__eventListeners[e]=[]}off(e,r){if(this.__eventListeners)if(e===void 0)for(const n in this.__eventListeners)this._removeEventListener(n);else typeof e=="object"?Object.entries(e).forEach(n=>{let[i,s]=n;this._removeEventListener(i,s)}):this._removeEventListener(e,r)}fire(e,r){var n;if(!this.__eventListeners)return;const i=(n=this.__eventListeners[e])===null||n===void 0?void 0:n.concat();if(i)for(let s=0;s<i.length;s++)i[s].call(this,r||{})}}const Ql=(t,e)=>{const r=t.indexOf(e);return r!==-1&&t.splice(r,1),t},Ws=t=>{if(t===0)return 1;switch(Math.abs(t)/cp){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},Vs=t=>{if(t===0)return 0;const e=t/cp,r=Math.sign(t);switch(e){case 1:return r;case 2:return 0;case 3:return-r}return Math.sin(t)};class W{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof e=="object"?(this.x=e.x,this.y=e.y):(this.x=e,this.y=r)}add(e){return new W(this.x+e.x,this.y+e.y)}addEquals(e){return this.x+=e.x,this.y+=e.y,this}scalarAdd(e){return new W(this.x+e,this.y+e)}scalarAddEquals(e){return this.x+=e,this.y+=e,this}subtract(e){return new W(this.x-e.x,this.y-e.y)}subtractEquals(e){return this.x-=e.x,this.y-=e.y,this}scalarSubtract(e){return new W(this.x-e,this.y-e)}scalarSubtractEquals(e){return this.x-=e,this.y-=e,this}multiply(e){return new W(this.x*e.x,this.y*e.y)}scalarMultiply(e){return new W(this.x*e,this.y*e)}scalarMultiplyEquals(e){return this.x*=e,this.y*=e,this}divide(e){return new W(this.x/e.x,this.y/e.y)}scalarDivide(e){return new W(this.x/e,this.y/e)}scalarDivideEquals(e){return this.x/=e,this.y/=e,this}eq(e){return this.x===e.x&&this.y===e.y}lt(e){return this.x<e.x&&this.y<e.y}lte(e){return this.x<=e.x&&this.y<=e.y}gt(e){return this.x>e.x&&this.y>e.y}gte(e){return this.x>=e.x&&this.y>=e.y}lerp(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return r=Math.max(Math.min(1,r),0),new W(this.x+(e.x-this.x)*r,this.y+(e.y-this.y)*r)}distanceFrom(e){const r=this.x-e.x,n=this.y-e.y;return Math.sqrt(r*r+n*n)}midPointFrom(e){return this.lerp(e)}min(e){return new W(Math.min(this.x,e.x),Math.min(this.y,e.y))}max(e){return new W(Math.max(this.x,e.x),Math.max(this.y,e.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(e,r){return this.x=e,this.y=r,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setFromPoint(e){return this.x=e.x,this.y=e.y,this}swap(e){const r=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=r,e.y=n}clone(){return new W(this.x,this.y)}rotate(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:RT;const n=Vs(e),i=Ws(e),s=this.subtract(r);return new W(s.x*i-s.y*n,s.x*n+s.y*i).add(r)}transform(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new W(e[0]*this.x+e[2]*this.y+(r?0:e[4]),e[1]*this.x+e[3]*this.y+(r?0:e[5]))}}const RT=new W(0,0),om=t=>!!t&&Array.isArray(t._objects);function CU(t){class e extends t{constructor(){super(...arguments),D(this,"_objects",[])}_onObjectAdded(n){}_onObjectRemoved(n){}_onStackOrderChanged(n){}add(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];const o=this._objects.push(...i);return i.forEach(a=>this._onObjectAdded(a)),o}insertAt(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return this._objects.splice(n,0,...s),s.forEach(a=>this._onObjectAdded(a)),this._objects.length}remove(){const n=this._objects,i=[];for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return o.forEach(l=>{const c=n.indexOf(l);c!==-1&&(n.splice(c,1),i.push(l),this._onObjectRemoved(l))}),i}forEachObject(n){this.getObjects().forEach((i,s,o)=>n(i,s,o))}getObjects(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return i.length===0?[...this._objects]:this._objects.filter(o=>o.isType(...i))}item(n){return this._objects[n]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(n,i){return!!this._objects.includes(n)||!!i&&this._objects.some(s=>s instanceof e&&s.contains(n,!0))}complexity(){return this._objects.reduce((n,i)=>n+=i.complexity?i.complexity():0,0)}sendObjectToBack(n){return!(!n||n===this._objects[0])&&(Ql(this._objects,n),this._objects.unshift(n),this._onStackOrderChanged(n),!0)}bringObjectToFront(n){return!(!n||n===this._objects[this._objects.length-1])&&(Ql(this._objects,n),this._objects.push(n),this._onStackOrderChanged(n),!0)}sendObjectBackwards(n,i){if(!n)return!1;const s=this._objects.indexOf(n);if(s!==0){const o=this.findNewLowerIndex(n,s,i);return Ql(this._objects,n),this._objects.splice(o,0,n),this._onStackOrderChanged(n),!0}return!1}bringObjectForward(n,i){if(!n)return!1;const s=this._objects.indexOf(n);if(s!==this._objects.length-1){const o=this.findNewUpperIndex(n,s,i);return Ql(this._objects,n),this._objects.splice(o,0,n),this._onStackOrderChanged(n),!0}return!1}moveObjectTo(n,i){return n!==this._objects[i]&&(Ql(this._objects,n),this._objects.splice(i,0,n),this._onStackOrderChanged(n),!0)}findNewLowerIndex(n,i,s){let o;if(s){o=i;for(let a=i-1;a>=0;--a)if(n.isOverlapping(this._objects[a])){o=a;break}}else o=i-1;return o}findNewUpperIndex(n,i,s){let o;if(s){o=i;for(let a=i+1;a<this._objects.length;++a)if(n.isOverlapping(this._objects[a])){o=a;break}}else o=i+1;return o}collectObjects(n){let{left:i,top:s,width:o,height:a}=n,{includeIntersecting:l=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=[],u=new W(i,s),d=u.add(new W(o,a));for(let h=this._objects.length-1;h>=0;h--){const f=this._objects[h];f.selectable&&f.visible&&(l&&f.intersectsWithRect(u,d)||f.isContainedWithinRect(u,d)||l&&f.containsPoint(u)||l&&f.containsPoint(d))&&c.push(f)}return c}}return e}class OU extends dEe{_setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const r in e)this.set(r,e[r])}_setObject(e){for(const r in e)this._set(r,e[r])}set(e,r){return typeof e=="object"?this._setObject(e):this._set(e,r),this}_set(e,r){this[e]=r}toggle(e){const r=this.get(e);return typeof r=="boolean"&&this.set(e,!r),this}get(e){return this[e]}}function am(t){return rb().requestAnimationFrame(t)}function hEe(t){return rb().cancelAnimationFrame(t)}let fEe=0;const Zo=()=>fEe++,Hs=()=>{const t=od().createElement("canvas");if(!t||t.getContext===void 0)throw new Hi("Failed to create `canvas` element");return t},pEe=()=>od().createElement("img"),Bn=t=>{const e=Hs();return e.width=t.width,e.height=t.height,e},TU=(t,e,r)=>t.toDataURL("image/".concat(e),r),EU=(t,e,r)=>new Promise((n,i)=>{t.toBlob(n,"image/".concat(e),r)}),At=t=>t*PT,Gs=t=>t/PT,gEe=t=>t.every((e,r)=>e===Ar[r]),Dr=(t,e,r)=>new W(t).transform(e,r),yi=t=>{const e=1/(t[0]*t[3]-t[1]*t[2]),r=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:n,y:i}=new W(t[4],t[5]).transform(r,!0);return r[4]=-n,r[5]=-i,r},cr=(t,e,r)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],r?0:t[0]*e[4]+t[2]*e[5]+t[4],r?0:t[1]*e[4]+t[3]*e[5]+t[5]],MT=(t,e)=>t.reduceRight((r,n)=>n&&r?cr(n,r,e):n||r,void 0)||Ar.concat(),kU=t=>{let[e,r]=t;return Math.atan2(r,e)},oy=t=>{const e=kU(t),r=Math.pow(t[0],2)+Math.pow(t[1],2),n=Math.sqrt(r),i=(t[0]*t[3]-t[2]*t[1])/n,s=Math.atan2(t[0]*t[2]+t[1]*t[3],r);return{angle:Gs(e),scaleX:n,scaleY:i,skewX:Gs(s),skewY:0,translateX:t[4]||0,translateY:t[5]||0}},up=function(t){return[1,0,0,1,t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function cd(){let{angle:t=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:e=0,y:r=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=At(t),i=Ws(n),s=Vs(n);return[i,s,-s,i,e?e-(i*e-s*r):0,r?r-(s*e+i*r):0]}const $T=function(t){return[t,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,0,0]},PU=t=>Math.tan(At(t)),jU=t=>[1,0,PU(t),1,0,0],AU=t=>[1,PU(t),0,1,0,0],sb=t=>{let{scaleX:e=1,scaleY:r=1,flipX:n=!1,flipY:i=!1,skewX:s=0,skewY:o=0}=t,a=$T(n?-e:e,i?-r:r);return s&&(a=cr(a,jU(s),!0)),o&&(a=cr(a,AU(o),!0)),a},mEe=t=>{const{translateX:e=0,translateY:r=0,angle:n=0}=t;let i=up(e,r);n&&(i=cr(i,cd({angle:n})));const s=sb(t);return gEe(s)||(i=cr(i,s)),i},lm=function(t){let{signal:e,crossOrigin:r=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,i){if(e&&e.aborted)return i(new sEe("loadImage"));const s=pEe();let o;e&&(o=function(l){s.src="",i(l)},e.addEventListener("abort",o,{once:!0}));const a=function(){s.onload=s.onerror=null,o&&(e==null||e.removeEventListener("abort",o)),n(s)};t?(s.onload=a,s.onerror=function(){o&&(e==null||e.removeEventListener("abort",o)),i(new Hi("Error loading ".concat(s.src)))},r&&(s.crossOrigin=r),s.src=t):a()})},Af=function(t){let{signal:e,reviver:r=sm}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,i)=>{const s=[];e&&e.addEventListener("abort",i,{once:!0}),Promise.all(t.map(o=>ie.getClass(o.type).fromObject(o,{signal:e}).then(a=>(r(o,a),s.push(a),a)))).then(n).catch(o=>{s.forEach(a=>{a.dispose&&a.dispose()}),i(o)}).finally(()=>{e&&e.removeEventListener("abort",i)})})},ob=function(t){let{signal:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,n)=>{const i=[];e&&e.addEventListener("abort",n,{once:!0});const s=Object.values(t).map(a=>a&&a.type&&ie.has(a.type)?Af([a],{signal:e}).then(l=>{let[c]=l;return i.push(c),c}):a),o=Object.keys(t);Promise.all(s).then(a=>a.reduce((l,c,u)=>(l[o[u]]=c,l),{})).then(r).catch(a=>{i.forEach(l=>{l.dispose&&l.dispose()}),n(a)}).finally(()=>{e&&e.removeEventListener("abort",n)})})},ud=function(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((e,r)=>(r in t&&(e[r]=t[r]),e),{})},DT=(t,e)=>Object.keys(t).reduce((r,n)=>(e(t[n],n,t)&&(r[n]=t[n]),r),{}),lt=(t,e)=>parseFloat(Number(t).toFixed(e)),Nf=t=>"matrix("+t.map(e=>lt(e,Be.NUM_FRACTION_DIGITS)).join(" ")+")",jn=t=>!!t&&t.toLive!==void 0,dR=t=>!!t&&typeof t.toObject=="function",hR=t=>!!t&&t.offsetX!==void 0&&"source"in t,ja=t=>!!t&&"multiSelectionStacking"in t;function NU(t){const e=t&&gi(t);let r=0,n=0;if(!t||!e)return{left:r,top:n};let i=t;const s=e.documentElement,o=e.body||{scrollLeft:0,scrollTop:0};for(;i&&(i.parentNode||i.host)&&(i=i.parentNode||i.host,i===e?(r=o.scrollLeft||s.scrollLeft||0,n=o.scrollTop||s.scrollTop||0):(r+=i.scrollLeft||0,n+=i.scrollTop||0),i.nodeType!==1||i.style.position!=="fixed"););return{left:r,top:n}}const gi=t=>t.ownerDocument||null,RU=t=>{var e;return((e=t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||null},MU=function(t,e,r){let{width:n,height:i}=r,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;t.width=n,t.height=i,s>1&&(t.setAttribute("width",(n*s).toString()),t.setAttribute("height",(i*s).toString()),e.scale(s,s))},x1=(t,e)=>{let{width:r,height:n}=e;r&&(t.style.width=typeof r=="number"?"".concat(r,"px"):r),n&&(t.style.height=typeof n=="number"?"".concat(n,"px"):n)};function fR(t){return t.onselectstart!==void 0&&(t.onselectstart=()=>!1),t.style.userSelect=Vr,t}class $U{constructor(e){D(this,"_originalCanvasStyle",void 0),D(this,"lower",void 0);const r=this.createLowerCanvas(e);this.lower={el:r,ctx:r.getContext("2d")}}createLowerCanvas(e){const r=(n=e)&&n.getContext!==void 0?e:e&&od().getElementById(e)||Hs();var n;if(r.hasAttribute("data-fabric"))throw new Hi("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=r.style.cssText,r.setAttribute("data-fabric","main"),r.classList.add("lower-canvas"),r}cleanupDOM(e){let{width:r,height:n}=e;const{el:i}=this.lower;i.classList.remove("lower-canvas"),i.removeAttribute("data-fabric"),i.setAttribute("width","".concat(r)),i.setAttribute("height","".concat(n)),i.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(e,r){const{el:n,ctx:i}=this.lower;MU(n,i,e,r)}setCSSDimensions(e){x1(this.lower.el,e)}calcOffset(){return function(e){var r;const n=e&&gi(e),i={left:0,top:0};if(!n)return i;const s=((r=RU(e))===null||r===void 0?void 0:r.getComputedStyle(e,null))||{};i.left+=parseInt(s.borderLeftWidth,10)||0,i.top+=parseInt(s.borderTopWidth,10)||0,i.left+=parseInt(s.paddingLeft,10)||0,i.top+=parseInt(s.paddingTop,10)||0;let o={left:0,top:0};const a=n.documentElement;e.getBoundingClientRect!==void 0&&(o=e.getBoundingClientRect());const l=NU(e);return{left:o.left+l.left-(a.clientLeft||0)+i.left,top:o.top+l.top-(a.clientTop||0)+i.top}}(this.lower.el)}dispose(){rs().dispose(this.lower.el),delete this.lower}}const vEe={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Ar]},yEe=["objects"];class dp extends CU(OU){get lowerCanvasEl(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.el}get contextContainer(){var e;return(e=this.elements.lower)===null||e===void 0?void 0:e.ctx}static getDefaults(){return dp.ownDefaults}constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(r),this.initElements(e),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(e){this.elements=new $U(e)}add(){const e=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const s=super.insertAt(e,...n);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),s}remove(){const e=super.remove(...arguments);return e.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),e}_onObjectAdded(e){e.canvas&&e.canvas!==this&&(Xo("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),e.canvas.remove(e)),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e){e._set("canvas",void 0),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?xU():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(e,r){return this.setDimensions({width:e},r)}setHeight(e,r){return this.setDimensions({height:e},r)}_setDimensionsImpl(e){let{cssOnly:r=!1,backstoreOnly:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!r){const i=F({width:this.width,height:this.height},e);this.elements.setDimensions(i,this.getRetinaScaling()),this.hasLostContext=!0,this.width=i.width,this.height=i.height}n||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(e,r){this._setDimensionsImpl(e,r),r&&r.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(e){this.viewportTransform=e,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(e,r){const n=e,i=[...this.viewportTransform],s=Dr(e,yi(i));i[0]=r,i[3]=r;const o=Dr(s,i);i[4]+=n.x-o.x,i[5]+=n.y-o.y,this.setViewportTransform(i)}setZoom(e){this.zoomToPoint(new W(0,0),e)}absolutePan(e){const r=[...this.viewportTransform];return r[4]=-e.x,r[5]=-e.y,this.setViewportTransform(r)}relativePan(e){return this.absolutePan(new W(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(e){e.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=am(()=>this.renderAndReset()))}calcViewportBoundaries(){const e=this.width,r=this.height,n=yi(this.viewportTransform),i=Dr({x:0,y:0},n),s=Dr({x:e,y:r},n),o=i.min(s),a=i.max(s);return this.vptCoords={tl:o,tr:new W(a.x,o.y),bl:new W(o.x,a.y),br:a}}cancelRequestedRender(){this.nextRenderHandle&&(hEe(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(e){}renderCanvas(e,r){if(this.destroyed)return;const n=this.viewportTransform,i=this.clipPath;this.calcViewportBoundaries(),this.clearContext(e),e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.patternQuality="best",this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,r),e.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(e),i&&(i._set("canvas",this),i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e,i)),this._renderOverlay(e),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(e),this.fire("after:render",{ctx:e}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(e,r){const n=this.viewportTransform;e.save(),e.transform(...n),e.globalCompositeOperation="destination-in",r.transform(e),e.scale(1/r.zoomX,1/r.zoomY),e.drawImage(r._cacheCanvas,-r.cacheTranslationX,-r.cacheTranslationY),e.restore()}_renderObjects(e,r){for(let n=0,i=r.length;n<i;++n)r[n]&&r[n].render(e)}_renderBackgroundOrOverlay(e,r){const n=this["".concat(r,"Color")],i=this["".concat(r,"Image")],s=this.viewportTransform,o=this["".concat(r,"Vpt")];if(!n&&!i)return;const a=jn(n);if(n){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=a?n.toLive(e):n,o&&e.transform(...s),a){e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);const l=n.gradientTransform||n.patternTransform;l&&e.transform(...l)}e.fill(),e.restore()}if(i){e.save();const{skipOffscreen:l}=this;this.skipOffscreen=o,o&&e.transform(...s),i.render(e),this.skipOffscreen=l,e.restore()}}_renderBackground(e){this._renderBackgroundOrOverlay(e,"background")}_renderOverlay(e){this._renderBackgroundOrOverlay(e,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new W(this.width/2,this.height/2)}centerObjectH(e){return this._centerObject(e,new W(this.getCenterPoint().x,e.getCenterPoint().y))}centerObjectV(e){return this._centerObject(e,new W(e.getCenterPoint().x,this.getCenterPoint().y))}centerObject(e){return this._centerObject(e,this.getCenterPoint())}viewportCenterObject(e){return this._centerObject(e,this.getVpCenter())}viewportCenterObjectH(e){return this._centerObject(e,new W(this.getVpCenter().x,e.getCenterPoint().y))}viewportCenterObjectV(e){return this._centerObject(e,new W(e.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Dr(this.getCenterPoint(),yi(this.viewportTransform))}_centerObject(e,r){e.setXY(r,Re,Re),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(e){return this.toDatalessObject(e)}toObject(e){return this._toObjectMethod("toObject",e)}toJSON(){return this.toObject()}toDatalessObject(e){return this._toObjectMethod("toDatalessObject",e)}_toObjectMethod(e,r){const n=this.clipPath,i=n&&!n.excludeFromExport?this._toObject(n,e,r):null;return F(F(F({version:y1},ud(this,r)),{},{objects:this._objects.filter(s=>!s.excludeFromExport).map(s=>this._toObject(s,e,r))},this.__serializeBgOverlay(e,r)),i?{clipPath:i}:null)}_toObject(e,r,n){let i;this.includeDefaultValues||(i=e.includeDefaultValues,e.includeDefaultValues=!1);const s=e[r](n);return this.includeDefaultValues||(e.includeDefaultValues=!!i),s}__serializeBgOverlay(e,r){const n={},i=this.backgroundImage,s=this.overlayImage,o=this.backgroundColor,a=this.overlayColor;return jn(o)?o.excludeFromExport||(n.background=o.toObject(r)):o&&(n.background=o),jn(a)?a.excludeFromExport||(n.overlay=a.toObject(r)):a&&(n.overlay=a),i&&!i.excludeFromExport&&(n.backgroundImage=this._toObject(i,e,r)),s&&!s.excludeFromExport&&(n.overlayImage=this._toObject(s,e,r)),n}toSVG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;e.reviver=r;const n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",r),this._setSVGObjects(n,r),this.clipPath&&n.push(`</g>
`),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",r),n.push("</svg>"),n.join("")}_setSVGPreamble(e,r){r.suppressPreamble||e.push('<?xml version="1.0" encoding="',r.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(e,r){const n=r.width||"".concat(this.width),i=r.height||"".concat(this.height),s=Be.NUM_FRACTION_DIGITS,o=r.viewBox;let a;if(o)a='viewBox="'.concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height,'" ');else if(this.svgViewportTransformation){const l=this.viewportTransform;a='viewBox="'.concat(lt(-l[4]/l[0],s)," ").concat(lt(-l[5]/l[3],s)," ").concat(lt(this.width/l[0],s)," ").concat(lt(this.height/l[3],s),'" ')}else a='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',i,'" ',a,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",y1,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(r),`</defs>
`)}createSVGClipPathMarkup(e){const r=this.clipPath;return r?(r.clipPathId="CLIPPATH_".concat(Zo()),'<clipPath id="'.concat(r.clipPathId,`" >
`).concat(r.toClipPathSVG(e.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(e=>{const r=this["".concat(e,"Color")];if(jn(r)){const n=this["".concat(e,"Vpt")],i=this.viewportTransform,s={isType:()=>!1,width:this.width/(n?i[0]:1),height:this.height/(n?i[3]:1)};return r.toSVG(s,{additionalTransform:n?Nf(i):""})}}).join("")}createSVGFontFacesMarkup(){const e=[],r={},n=Be.fontPaths;this._objects.forEach(function s(o){e.push(o),om(o)&&o._objects.forEach(s)}),e.forEach(s=>{if(!(o=s)||typeof o._renderText!="function")return;var o;const{styles:a,fontFamily:l}=s;!r[l]&&n[l]&&(r[l]=!0,a&&Object.values(a).forEach(c=>{Object.values(c).forEach(u=>{let{fontFamily:d=""}=u;!r[d]&&n[d]&&(r[d]=!0)})}))});const i=Object.keys(r).map(s=>`		@font-face {
			font-family: '`.concat(s,`';
			src: url('`).concat(n[s],`');
		}
`)).join("");return i?`	<style type="text/css"><![CDATA[
`.concat(i,`]]></style>
`):""}_setSVGObjects(e,r){this.forEachObject(n=>{n.excludeFromExport||this._setSVGObject(e,n,r)})}_setSVGObject(e,r,n){e.push(r.toSVG(n))}_setSVGBgOverlayImage(e,r,n){const i=this[r];i&&!i.excludeFromExport&&i.toSVG&&e.push(i.toSVG(n))}_setSVGBgOverlayColor(e,r){const n=this["".concat(r,"Color")];if(n)if(jn(n)){const i=n.repeat||"",s=this.width,o=this.height,a=this["".concat(r,"Vpt")]?Nf(yi(this.viewportTransform)):"";e.push('<rect transform="'.concat(a," translate(").concat(s/2,",").concat(o/2,')" x="').concat(n.offsetX-s/2,'" y="').concat(n.offsetY-o/2,'" width="').concat(i!=="repeat-y"&&i!=="no-repeat"||!hR(n)?s:n.source.width,'" height="').concat(i!=="repeat-x"&&i!=="no-repeat"||!hR(n)?o:n.source.height,'" fill="url(#SVGID_').concat(n.id,`)"></rect>
`))}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',`></rect>
`)}loadFromJSON(e,r){let{signal:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return Promise.reject(new Hi("`json` is undefined"));const i=typeof e=="string"?JSON.parse(e):e,{objects:s=[]}=i,o=mt(i,yEe),{backgroundImage:a,background:l,overlayImage:c,overlay:u,clipPath:d}=o,h=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Af(s,{reviver:r,signal:n}),ob({backgroundImage:a,backgroundColor:l,overlayImage:c,overlayColor:u,clipPath:d},{signal:n})]).then(f=>{let[m,p]=f;return this.clear(),this.add(...m),this.set(o),this.set(p),this.renderOnAddRemove=h,this})}clone(e){const r=this.toObject(e);return this.cloneWithoutData().loadFromJSON(r)}cloneWithoutData(){const e=Bn(this);return new this.constructor(e)}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,o=i*(s?this.getRetinaScaling():1);return TU(this.toCanvasElement(o,e),r,n)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:n=1,multiplier:i=1,enableRetinaScaling:s=!1}=e,o=i*(s?this.getRetinaScaling():1);return EU(this.toCanvasElement(o,e),r,n)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:r,height:n,left:i,top:s,filter:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=(r||this.width)*e,l=(n||this.height)*e,c=this.getZoom(),u=this.width,d=this.height,h=this.skipControlsDrawing,f=c*e,m=this.viewportTransform,p=[f,0,0,f,(m[4]-(i||0))*e,(m[5]-(s||0))*e],v=this.enableRetinaScaling,y=Bn({width:a,height:l}),b=o?this._objects.filter(x=>o(x)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=p,this.width=a,this.height=l,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(y.getContext("2d"),b),this.viewportTransform=m,this.width=u,this.height=d,this.calcViewportBoundaries(),this.enableRetinaScaling=v,this.skipControlsDrawing=h,y}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),sy.cancelByCanvas(this),this.disposed=!0,new Promise((e,r)=>{const n=()=>{this.destroy(),e(!0)};n.kill=r,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?e(!1):this.nextRenderHandle?this.__cleanupTask=n:n()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(e=>e.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}D(dp,"ownDefaults",vEe);const bEe=["touchstart","touchmove","touchend"],xEe=t=>{const e=NU(t.target),r=function(n){const i=n.changedTouches;return i&&i[0]?i[0]:n}(t);return new W(r.clientX+e.left,r.clientY+e.top)},w1=t=>bEe.includes(t.type)||t.pointerType==="touch",pR=t=>{t.preventDefault(),t.stopPropagation()},Rs=t=>{let e=0,r=0,n=0,i=0;for(let s=0,o=t.length;s<o;s++){const{x:a,y:l}=t[s];(a>n||!s)&&(n=a),(a<e||!s)&&(e=a),(l>i||!s)&&(i=l),(l<r||!s)&&(r=l)}return{left:e,top:r,width:n-e,height:i-r}},wEe=["translateX","translateY","scaleX","scaleY"],_Ee=(t,e)=>ay(t,cr(e,t.calcOwnMatrix())),ay=(t,e)=>{const r=oy(e),{translateX:n,translateY:i,scaleX:s,scaleY:o}=r,a=mt(r,wEe),l=new W(n,i);t.flipX=!1,t.flipY=!1,Object.assign(t,a),t.set({scaleX:s,scaleY:o}),t.setPositionByOrigin(l,Re,Re)},SEe=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},DU=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),IT=(t,e,r)=>{const n=t/2,i=e/2,s=[new W(-n,-i),new W(n,-i),new W(-n,i),new W(n,i)].map(a=>a.transform(r)),o=Rs(s);return new W(o.width,o.height)},ab=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ar;return cr(yi(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ar),t)},Rc=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ar,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ar;return t.transform(ab(e,r))},CEe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ar,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ar;return t.transform(ab(e,r),!0)},OEe=(t,e,r)=>{const n=ab(e,r);return ay(t,cr(n,t.calcOwnMatrix())),n},IU=(t,e)=>{var r;const{transform:{target:n}}=e;(r=n.canvas)===null||r===void 0||r.fire("object:".concat(t),F(F({},e),{},{target:n})),n.fire(t,e)},TEe={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Dt=t=>typeof t=="string"?TEe[t]:t-.5,ly="not-allowed";function LU(t){return Dt(t.originX)===Dt(Re)&&Dt(t.originY)===Dt(Re)}function gR(t){return .5-Dt(t)}const Ci=(t,e)=>t[e],FU=(t,e,r,n)=>({e:t,transform:e,pointer:new W(r,n)});function BU(t,e){const r=t.getTotalAngle()+Gs(Math.atan2(e.y,e.x))+360;return Math.round(r%360/45)}function LT(t,e,r,n,i){var s;let{target:o,corner:a}=t;const l=o.controls[a],c=((s=o.canvas)===null||s===void 0?void 0:s.getZoom())||1,u=o.padding/c,d=function(h,f,m,p){const v=h.getRelativeCenterPoint(),y=m!==void 0&&p!==void 0?h.translateToGivenOrigin(v,Re,Re,m,p):new W(h.left,h.top);return(h.angle?f.rotate(-At(h.angle),v):f).subtract(y)}(o,new W(n,i),e,r);return d.x>=u&&(d.x-=u),d.x<=-u&&(d.x+=u),d.y>=u&&(d.y-=u),d.y<=u&&(d.y+=u),d.x-=l.offsetX,d.y-=l.offsetY,d}const EEe=(t,e,r,n)=>{const{target:i,offsetX:s,offsetY:o}=e,a=r-s,l=n-o,c=!Ci(i,"lockMovementX")&&i.left!==a,u=!Ci(i,"lockMovementY")&&i.top!==l;return c&&i.set(Ye,a),u&&i.set(Wr,l),(c||u)&&IU(wU,FU(t,e,r,n)),c||u},cy=t=>t.replace(/\s+/g," "),mR={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Wx=(t,e,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t),vR=(t,e,r,n)=>{t/=255,e/=255,r/=255;const i=Math.max(t,e,r),s=Math.min(t,e,r);let o,a;const l=(i+s)/2;if(i===s)o=a=0;else{const c=i-s;switch(a=l>.5?c/(2-i-s):c/(i+s),i){case t:o=(e-r)/c+(e<r?6:0);break;case e:o=(r-t)/c+2;break;case r:o=(t-e)/c+4}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*l),n]},yR=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(t)/(t.endsWith("%")?100:1)},pg=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,"0"),bR=t=>{let[e,r,n,i=1]=t;const s=Math.round(.3*e+.59*r+.11*n);return[s,s,s,i]};class Ke{constructor(e){if(D(this,"isUnrecognised",!1),e)if(e instanceof Ke)this.setSource([...e._source]);else if(Array.isArray(e)){const[r,n,i,s=1]=e;this.setSource([r,n,i,s])}else this.setSource(this._tryParsingColor(e));else this.setSource([0,0,0,1])}_tryParsingColor(e){return(e=e.toLowerCase())in mR&&(e=mR[e]),e==="transparent"?[255,255,255,0]:Ke.sourceFromHex(e)||Ke.sourceFromRgb(e)||Ke.sourceFromHsl(e)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(e){this._source=e}toRgb(){const[e,r,n]=this.getSource();return"rgb(".concat(e,",").concat(r,",").concat(n,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[e,r,n]=vR(...this.getSource());return"hsl(".concat(e,",").concat(r,"%,").concat(n,"%)")}toHsla(){const[e,r,n,i]=vR(...this.getSource());return"hsla(".concat(e,",").concat(r,"%,").concat(n,"%,").concat(i,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[e,r,n,i]=this.getSource();return"".concat(pg(e)).concat(pg(r)).concat(pg(n)).concat(pg(Math.round(255*i)))}getAlpha(){return this.getSource()[3]}setAlpha(e){return this._source[3]=e,this}toGrayscale(){return this.setSource(bR(this.getSource())),this}toBlackWhite(e){const[r,,,n]=bR(this.getSource()),i=r<(e||127)?0:255;return this.setSource([i,i,i,n]),this}overlayWith(e){e instanceof Ke||(e=new Ke(e));const r=this.getSource(),n=e.getSource(),[i,s,o]=r.map((a,l)=>Math.round(.5*a+.5*n[l]));return this.setSource([i,s,o,r[3]]),this}static fromRgb(e){return Ke.fromRgba(e)}static fromRgba(e){return new Ke(Ke.sourceFromRgb(e))}static sourceFromRgb(e){const r=cy(e).match(/^rgba?\(\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d{0,3}(?:\.\d+)?%?)\s?)?\)$/i);if(r){const[n,i,s]=r.slice(1,4).map(o=>{const a=parseFloat(o);return o.endsWith("%")?Math.round(2.55*a):a});return[n,i,s,yR(r[4])]}}static fromHsl(e){return Ke.fromHsla(e)}static fromHsla(e){return new Ke(Ke.sourceFromHsl(e))}static sourceFromHsl(e){const r=cy(e).match(/^hsla?\(\s?([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?[\s|,]\s?(\d{0,3}(?:\.\d+)?%?)\s?(?:\s?[,/]\s?(\d*(?:\.\d+)?%?)\s?)?\)$/i);if(!r)return;const n=(Ke.parseAngletoDegrees(r[1])%360+360)%360/360,i=parseFloat(r[2])/100,s=parseFloat(r[3])/100;let o,a,l;if(i===0)o=a=l=s;else{const c=s<=.5?s*(i+1):s+i-s*i,u=2*s-c;o=Wx(u,c,n+1/3),a=Wx(u,c,n),l=Wx(u,c,n-1/3)}return[Math.round(255*o),Math.round(255*a),Math.round(255*l),yR(r[4])]}static fromHex(e){return new Ke(Ke.sourceFromHex(e))}static sourceFromHex(e){if(e.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const r=e.slice(e.indexOf("#")+1);let n;n=r.length<=4?r.split("").map(l=>l+l):r.match(/.{2}/g);const[i,s,o,a=255]=n.map(l=>parseInt(l,16));return[i,s,o,a/255]}}static parseAngletoDegrees(e){const r=e.toLowerCase(),n=parseFloat(r);return r.includes("rad")?Gs(n):r.includes("turn")?360*n:n}}const Mc=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jT;const r=/\D{0,2}$/.exec(t),n=parseFloat(t),i=Be.DPI;switch(r==null?void 0:r[0]){case"mm":return n*i/25.4;case"cm":return n*i/2.54;case"in":return n*i;case"pt":return n*i/72;case"pc":return n*i/72*12;case"em":return n*e;default:return n}},kEe=t=>{const[e,r]=t.trim().split(" "),[n,i]=(s=e)&&s!==Vr?[s.slice(1,4),s.slice(5,8)]:s===Vr?[s,s]:["Mid","Mid"];var s;return{meetOrSlice:r||"meet",alignX:n,alignY:i}},Rf=function(t,e){let r,n,i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(e)if(e.toLive)r="url(#SVGID_".concat(e.id,")");else{const s=new Ke(e),o=s.getAlpha();r=s.toRgb(),o!==1&&(n=o.toString())}else r="none";return i?"".concat(t,": ").concat(r,"; ").concat(n?"".concat(t,"-opacity: ").concat(n,"; "):""):"".concat(t,'="').concat(r,'" ').concat(n?"".concat(t,'-opacity="').concat(n,'" '):"")};class zU{getSvgStyles(e){const r=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):Vr,s=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=this.opacity!==void 0?this.opacity:"1",u=this.visible?"":" visibility: hidden;",d=e?"":this.getSvgFilter(),h=Rf(Yt,this.fill);return[Rf(Hr,this.stroke),"stroke-width: ",n,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",l,"; ",h,"fill-rule: ",r,"; ","opacity: ",c,";",d,u].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e?this.calcTransformMatrix():this.calcOwnMatrix(),i='transform="'.concat(Nf(n));return"".concat(i).concat(r,'" ')}_toSVG(e){return[""]}toSVG(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})}toClipPathSVG(e){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})}_createBaseClipPathSVGMarkup(e){let{reviver:r,additionalTransform:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),s=e.indexOf("COMMON_PARTS");return e[s]=i,r?r(e.join("")):e.join("")}_createBaseSVGMarkup(e){let{noStyle:r,reviver:n,withShadow:i,additionalTransform:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=r?"":'style="'.concat(this.getSvgStyles(),'" '),a=i?'style="'.concat(this.getSvgFilter(),'" '):"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,d=this.stroke,h=this.fill,f=this.shadow,m=[],p=e.indexOf("COMMON_PARTS");let v;l&&(l.clipPathId="CLIPPATH_".concat(Zo()),v='<clipPath id="'.concat(l.clipPathId,`" >
`).concat(l.toClipPathSVG(n),`</clipPath>
`)),u&&m.push("<g ",a,this.getSvgCommons(),` >
`),m.push("<g ",this.getSvgTransform(!1),u?"":a+this.getSvgCommons(),` >
`);const y=[o,c,r?"":this.addPaintOrder()," ",s?'transform="'.concat(s,'" '):""].join("");return e[p]=y,jn(h)&&m.push(h.toSVG(this)),jn(d)&&m.push(d.toSVG(this)),f&&m.push(f.toSVG(this)),l&&m.push(v),m.push(e.join("")),m.push(`</g>
`),u&&m.push(`</g>
`),n?n(m.join("")):m.join("")}addPaintOrder(){return this.paintFirst!==Yt?' paint-order="'.concat(this.paintFirst,'" '):""}}function lb(t){return new RegExp("^("+t.join("|")+")\\b","i")}const xl="textDecorationThickness",UU=["fontSize","fontWeight","fontFamily","fontStyle"],WU=["underline","overline","linethrough"],VU=[...UU,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],HU=[...VU,...WU,"textBackgroundColor","direction",xl],PEe=[...UU,...WU,Hr,"strokeWidth",Yt,"deltaY","textBackgroundColor",xl],jEe={_reNewline:AT,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Ye,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Ye,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[xl]:66.667},Ui="justify",uy="justify-left",mh="justify-right",vh="justify-center";var xR,wR,_R;const bi=String.raw(xR||(xR=ls(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),Vx=String.raw(wR||(wR=ls(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),AEe=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+bi+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+bi+"))?\\s+(.*)"),NEe={cx:Ye,x:Ye,r:"radius",cy:Wr,y:Wr,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":xl},Hx="font-size",Gx="clip-path";lb(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]);lb(["symbol","image","marker","pattern","view","svg"]);const SR=lb(["symbol","g","a","svg","clipPath","defs"]);new RegExp(String.raw(_R||(_R=ls(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),bi,Vx,bi,Vx,bi,Vx,bi));const REe=new W(1,0),GU=new W,KU=(t,e)=>t.rotate(e),_1=(t,e)=>new W(e).subtract(t),S1=t=>t.distanceFrom(GU),C1=(t,e)=>Math.atan2(yh(t,e),$Ee(t,e)),MEe=t=>C1(REe,t),FT=t=>t.eq(GU)?t:t.scalarDivide(S1(t)),qU=function(t){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return FT(new W(-t.y,t.x).scalarMultiply(e?1:-1))},yh=(t,e)=>t.x*e.y-t.y*e.x,$Ee=(t,e)=>t.x*e.x+t.y*e.y,CR=(t,e,r)=>{if(t.eq(e)||t.eq(r))return!0;const n=yh(e,r),i=yh(e,t),s=yh(r,t);return n>=0?i>=0&&s<=0:!(i<=0&&s>=0)},OR="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",TR=new RegExp("(?:\\s|^)"+OR+OR+"("+bi+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class Ji{constructor(e){const r=typeof e=="string"?Ji.parseShadow(e):e;Object.assign(this,Ji.ownDefaults,r),this.id=Zo()}static parseShadow(e){const r=e.trim(),[,n=0,i=0,s=0]=(TR.exec(r)||[]).map(o=>parseFloat(o)||0);return{color:(r.replace(TR,"")||"rgb(0,0,0)").trim(),offsetX:n,offsetY:i,blur:s}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(e){const r=KU(new W(this.offsetX,this.offsetY),At(-e.angle)),n=new Ke(this.color);let i=40,s=40;return e.width&&e.height&&(i=100*lt((Math.abs(r.x)+this.blur)/e.width,Be.NUM_FRACTION_DIGITS)+20,s=100*lt((Math.abs(r.y)+this.blur)/e.height,Be.NUM_FRACTION_DIGITS)+20),e.flipX&&(r.x*=-1),e.flipY&&(r.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(s,'%" height="').concat(100+2*s,'%" x="-').concat(i,'%" width="').concat(100+2*i,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(lt(this.blur?this.blur/2:0,Be.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(lt(r.x,Be.NUM_FRACTION_DIGITS),'" dy="').concat(lt(r.y,Be.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(n.toRgb(),'" flood-opacity="').concat(n.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const e={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},r=Ji.ownDefaults;return this.includeDefaultValues?e:DT(e,(n,i)=>n!==r[i])}static async fromObject(e){return new this(e)}}D(Ji,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),D(Ji,"type","shadow"),ie.setClass(Ji,"shadow");const Ru=(t,e,r)=>Math.max(t,Math.min(e,r)),DEe=[Wr,Ye,Gr,Fn,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",ad,ld],Js=[Yt,Hr,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],IEe={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Ye,originY:Wr,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Yt,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},LEe=(t,e,r,n)=>-r*Math.cos(t/n*cp)+r+e,FEe=()=>!1;class BT{constructor(e){let{startValue:r,byValue:n,duration:i=500,delay:s=0,easing:o=LEe,onStart:a=sm,onChange:l=sm,onComplete:c=sm,abort:u=FEe,target:d}=e;D(this,"_state","pending"),D(this,"durationProgress",0),D(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=i,this.delay=s,this.easing=o,this._onStart=a,this._onChange=l,this._onComplete=c,this._abort=u,this.target=d,this.startValue=r,this.byValue=n,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const e=r=>{this._state==="pending"&&(this.startTime=r||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>am(e),this.delay):am(e)}tick(e){const r=(e||+new Date)-this.startTime,n=Math.min(r,this.duration);this.durationProgress=n/this.duration;const{value:i,valueProgress:s}=this.calculate(n);this.value=Object.freeze(i),this.valueProgress=s,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):r>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),am(this.tick)))}register(){sy.push(this)}unregister(){sy.remove(this)}abort(){this._state="aborted",this.unregister()}}const BEe=["startValue","endValue"];class zEe extends BT{constructor(e){let{startValue:r=0,endValue:n=100}=e;super(F(F({},mt(e,BEe)),{},{startValue:r,byValue:n-r}))}calculate(e){const r=this.easing(e,this.startValue,this.byValue,this.duration);return{value:r,valueProgress:Math.abs((r-this.startValue)/this.byValue)}}}const UEe=["startValue","endValue"];class WEe extends BT{constructor(e){let{startValue:r=[0],endValue:n=[100]}=e;super(F(F({},mt(e,UEe)),{},{startValue:r,byValue:n.map((i,s)=>i-r[s])}))}calculate(e){const r=this.startValue.map((n,i)=>this.easing(e,n,this.byValue[i],this.duration,i));return{value:r,valueProgress:Math.abs((r[0]-this.startValue[0])/this.byValue[0])}}}const VEe=["startValue","endValue","easing","onChange","onComplete","abort"],HEe=(t,e,r,n)=>e+r*(1-Math.cos(t/n*cp)),Kx=t=>t&&((e,r,n)=>t(new Ke(e).toRgba(),r,n));class GEe extends BT{constructor(e){let{startValue:r,endValue:n,easing:i=HEe,onChange:s,onComplete:o,abort:a}=e,l=mt(e,VEe);const c=new Ke(r).getSource(),u=new Ke(n).getSource();super(F(F({},l),{},{startValue:c,byValue:u.map((d,h)=>d-c[h]),easing:i,onChange:Kx(s),onComplete:Kx(o),abort:Kx(a)}))}calculate(e){const[r,n,i,s]=this.startValue.map((a,l)=>this.easing(e,a,this.byValue[l],this.duration,l)),o=[...[r,n,i].map(Math.round),Ru(0,s,1)];return{value:o,valueProgress:o.map((a,l)=>this.byValue[l]!==0?Math.abs((a-this.startValue[l])/this.byValue[l]):0).find(a=>a!==0)||0}}}function YU(t){const e=(r=>Array.isArray(r.startValue)||Array.isArray(r.endValue))(t)?new WEe(t):new zEe(t);return e.start(),e}function KEe(t){const e=new GEe(t);return e.start(),e}class xt{constructor(e){this.status=e,this.points=[]}includes(e){return this.points.some(r=>r.eq(e))}append(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.points=this.points.concat(r.filter(i=>!this.includes(i))),this}static isPointContained(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(r.eq(n))return e.eq(r);if(r.x===n.x)return e.x===r.x&&(i||e.y>=Math.min(r.y,n.y)&&e.y<=Math.max(r.y,n.y));if(r.y===n.y)return e.y===r.y&&(i||e.x>=Math.min(r.x,n.x)&&e.x<=Math.max(r.x,n.x));{const s=_1(r,n),o=_1(r,e).divide(s);return i?Math.abs(o.x)===Math.abs(o.y):o.x===o.y&&o.x>=0&&o.x<=1}}static isPointInPolygon(e,r){const n=new W(e).setX(Math.min(e.x-1,...r.map(s=>s.x)));let i=0;for(let s=0;s<r.length;s++){const o=this.intersectSegmentSegment(r[s],r[(s+1)%r.length],e,n);if(o.includes(e))return!0;i+=+(o.status==="Intersection")}return i%2==1}static intersectLineLine(e,r,n,i){let s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const a=r.x-e.x,l=r.y-e.y,c=i.x-n.x,u=i.y-n.y,d=e.x-n.x,h=e.y-n.y,f=c*h-u*d,m=a*h-l*d,p=u*a-c*l;if(p!==0){const v=f/p,y=m/p;return(s||0<=v&&v<=1)&&(o||0<=y&&y<=1)?new xt("Intersection").append(new W(e.x+v*a,e.y+v*l)):new xt}if(f===0||m===0){const v=s||o||xt.isPointContained(e,n,i)||xt.isPointContained(r,n,i)||xt.isPointContained(n,e,r)||xt.isPointContained(i,e,r);return new xt(v?"Coincident":void 0)}return new xt("Parallel")}static intersectSegmentLine(e,r,n,i){return xt.intersectLineLine(e,r,n,i,!1,!0)}static intersectSegmentSegment(e,r,n,i){return xt.intersectLineLine(e,r,n,i,!1,!1)}static intersectLinePolygon(e,r,n){let i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const s=new xt,o=n.length;for(let a,l,c,u=0;u<o;u++){if(a=n[u],l=n[(u+1)%o],c=xt.intersectLineLine(e,r,a,l,i,!1),c.status==="Coincident")return c;s.append(...c.points)}return s.points.length>0&&(s.status="Intersection"),s}static intersectSegmentPolygon(e,r,n){return xt.intersectLinePolygon(e,r,n,!1)}static intersectPolygonPolygon(e,r){const n=new xt,i=e.length,s=[];for(let o=0;o<i;o++){const a=e[o],l=e[(o+1)%i],c=xt.intersectSegmentPolygon(a,l,r);c.status==="Coincident"?(s.push(c),n.append(a,l)):n.append(...c.points)}return s.length>0&&s.length===e.length?new xt("Coincident"):(n.points.length>0&&(n.status="Intersection"),n)}static intersectPolygonRectangle(e,r,n){const i=r.min(n),s=r.max(n),o=new W(s.x,i.y),a=new W(i.x,s.y);return xt.intersectPolygonPolygon(e,[i,o,s,a])}}class qEe extends OU{getX(){return this.getXY().x}setX(e){this.setXY(this.getXY().setX(e))}getY(){return this.getXY().y}setY(e){this.setXY(this.getXY().setY(e))}getRelativeX(){return this.left}setRelativeX(e){this.left=e}getRelativeY(){return this.top}setRelativeY(e){this.top=e}getXY(){const e=this.getRelativeXY();return this.group?Dr(e,this.group.calcTransformMatrix()):e}setXY(e,r,n){this.group&&(e=Dr(e,yi(this.group.calcTransformMatrix()))),this.setRelativeXY(e,r,n)}getRelativeXY(){return new W(this.left,this.top)}setRelativeXY(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(e,r,n)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:e,tr:r,br:n,bl:i}=this.aCoords||(this.aCoords=this.calcACoords()),s=[e,r,n,i];if(this.group){const o=this.group.calcTransformMatrix();return s.map(a=>Dr(a,o))}return s}intersectsWithRect(e,r){return xt.intersectPolygonRectangle(this.getCoords(),e,r).status==="Intersection"}intersectsWithObject(e){const r=xt.intersectPolygonPolygon(this.getCoords(),e.getCoords());return r.status==="Intersection"||r.status==="Coincident"||e.isContainedWithinObject(this)||this.isContainedWithinObject(e)}isContainedWithinObject(e){return this.getCoords().every(r=>e.containsPoint(r))}isContainedWithinRect(e,r){const{left:n,top:i,width:s,height:o}=this.getBoundingRect();return n>=e.x&&n+s<=r.x&&i>=e.y&&i+o<=r.y}isOverlapping(e){return this.intersectsWithObject(e)||this.isContainedWithinObject(e)||e.isContainedWithinObject(this)}containsPoint(e){return xt.isPointInPolygon(e,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return!!this.getCoords().some(n=>n.x<=r.x&&n.x>=e.x&&n.y<=r.y&&n.y>=e.y)||!!this.intersectsWithRect(e,r)||this.containsPoint(e.midPointFrom(r))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:e,br:r}=this.canvas.vptCoords;return this.intersectsWithRect(e,r)?!0:this.getCoords().every(n=>(n.x>=r.x||n.x<=e.x)&&(n.y>=r.y||n.y<=e.y))&&this.containsPoint(e.midPointFrom(r))}getBoundingRect(){return Rs(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(e){this._set(Gr,e),this._set(Fn,e),this.setCoords()}scaleToWidth(e){const r=this.getBoundingRect().width/this.getScaledWidth();return this.scale(e/this.width/r)}scaleToHeight(e){const r=this.getBoundingRect().height/this.getScaledHeight();return this.scale(e/this.height/r)}getCanvasRetinaScaling(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.getRetinaScaling())||1}getTotalAngle(){return this.group?Gs(kU(this.calcTransformMatrix())):this.angle}getViewportTransform(){var e;return((e=this.canvas)===null||e===void 0?void 0:e.viewportTransform)||Ar.concat()}calcACoords(){const e=cd({angle:this.angle}),{x:r,y:n}=this.getRelativeCenterPoint(),i=up(r,n),s=cr(i,e),o=this._getTransformedDimensions(),a=o.x/2,l=o.y/2;return{tl:Dr({x:-a,y:-l},s),tr:Dr({x:a,y:-l},s),bl:Dr({x:-a,y:l},s),br:Dr({x:a,y:l},s)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=[];return!e&&this.group&&(r=this.group.transformMatrixKey(e)),r.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Dt(this.originX),Dt(this.originY)),r}calcTransformMatrix(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this.calcOwnMatrix();if(e||!this.group)return r;const n=this.transformMatrixKey(e),i=this.matrixCache;return i&&i.key.every((s,o)=>s===n[o])?i.value:(this.group&&(r=cr(this.group.calcTransformMatrix(!1),r)),this.matrixCache={key:n,value:r},r)}calcOwnMatrix(){const e=this.transformMatrixKey(!0),r=this.ownMatrixCache;if(r&&r.key===e)return r.value;const n=this.getRelativeCenterPoint(),i={angle:this.angle,translateX:n.x,translateY:n.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},s=mEe(i);return this.ownMatrixCache={key:e,value:s},s}_getNonTransformedDimensions(){return new W(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(e){return this._getTransformedDimensions(e).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=F({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},e),n=r.strokeWidth;let i=n,s=0;this.strokeUniform&&(i=0,s=n);const o=r.width+i,a=r.height+i;let l;return l=r.skewX===0&&r.skewY===0?new W(o*r.scaleX,a*r.scaleY):IT(o,a,sb(r)),l.scalarAdd(s)}translateToGivenOrigin(e,r,n,i,s){let o=e.x,a=e.y;const l=Dt(i)-Dt(r),c=Dt(s)-Dt(n);if(l||c){const u=this._getTransformedDimensions();o+=l*u.x,a+=c*u.y}return new W(o,a)}translateToCenterPoint(e,r,n){if(r===Re&&n===Re)return e;const i=this.translateToGivenOrigin(e,r,n,Re,Re);return this.angle?i.rotate(At(this.angle),e):i}translateToOriginPoint(e,r,n){const i=this.translateToGivenOrigin(e,Re,Re,r,n);return this.angle?i.rotate(At(this.angle),e):i}getCenterPoint(){const e=this.getRelativeCenterPoint();return this.group?Dr(e,this.group.calcTransformMatrix()):e}getRelativeCenterPoint(){return this.translateToCenterPoint(new W(this.left,this.top),this.originX,this.originY)}getPointByOrigin(e,r){return this.translateToOriginPoint(this.getRelativeCenterPoint(),e,r)}setPositionByOrigin(e,r,n){const i=this.translateToCenterPoint(e,r,n),s=this.translateToOriginPoint(i,this.originX,this.originY);this.set({left:s.x,top:s.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Ye,Wr)}}const YEe=["type"],XEe=["extraParam"];let hs=class cm extends qEe{static getDefaults(){return cm.ownDefaults}get type(){const e=this.constructor.type;return e==="FabricObject"?"object":e.toLowerCase()}set type(e){Xo("warn","Setting type has no effect",e)}constructor(e){super(),D(this,"_cacheContext",null),Object.assign(this,cm.ownDefaults),this.setOptions(e)}_createCacheCanvas(){this._cacheCanvas=Hs(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(e){const r=e.width,n=e.height,i=Be.maxCacheSideLimit,s=Be.minCacheSideLimit;if(r<=i&&n<=i&&r*n<=Be.perfLimitSizeTotal)return r<s&&(e.width=s),n<s&&(e.height=s),e;const o=r/n,[a,l]=gh.limitDimsByArea(o),c=Ru(s,a,i),u=Ru(s,l,i);return r>c&&(e.zoomX/=r/c,e.width=c,e.capped=!0),n>u&&(e.zoomY/=n/u,e.height=u,e.capped=!0),e}_getCacheCanvasDimensions(){const e=this.getTotalObjectScaling(),r=this._getTransformedDimensions({skewX:0,skewY:0}),n=r.x*e.x/this.scaleX,i=r.y*e.y/this.scaleY;return{width:Math.ceil(n+2),height:Math.ceil(i+2),zoomX:e.x,zoomY:e.y,x:n,y:i}}_updateCacheCanvas(){const e=this._cacheCanvas,r=this._cacheContext,{width:n,height:i,zoomX:s,zoomY:o,x:a,y:l}=this._limitCacheSize(this._getCacheCanvasDimensions()),c=n!==e.width||i!==e.height,u=this.zoomX!==s||this.zoomY!==o;if(!e||!r)return!1;if(c||u){n!==e.width||i!==e.height?(e.width=n,e.height=i):(r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height));const d=a/2,h=l/2;return this.cacheTranslationX=Math.round(e.width/2-d)+d,this.cacheTranslationY=Math.round(e.height/2-h)+h,r.translate(this.cacheTranslationX,this.cacheTranslationY),r.scale(s,o),this.zoomX=s,this.zoomY=o,!0}return!1}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(e)}transform(e){const r=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!r);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}getObjectScaling(){if(!this.group)return new W(Math.abs(this.scaleX),Math.abs(this.scaleY));const e=oy(this.calcTransformMatrix());return new W(Math.abs(e.scaleX),Math.abs(e.scaleY))}getTotalObjectScaling(){const e=this.getObjectScaling();if(this.canvas){const r=this.canvas.getZoom(),n=this.getCanvasRetinaScaling();return e.scalarMultiply(r*n)}return e}getObjectOpacity(){let e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e}_constrainScale(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e}_set(e,r){e!==Gr&&e!==Fn||(r=this._constrainScale(r)),e===Gr&&r<0?(this.flipX=!this.flipX,r*=-1):e==="scaleY"&&r<0?(this.flipY=!this.flipY,r*=-1):e!=="shadow"||!r||r instanceof Ji||(r=new Ji(r));const n=this[e]!==r;return this[e]=r,n&&this.constructor.cacheProperties.includes(e)&&(this.dirty=!0),this.parent&&(this.dirty||n&&this.constructor.stateProperties.includes(e))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.drawObject(e,!1,{}),this.dirty=!1),e.restore())}drawSelectionBackground(e){}renderCache(e){if(e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:r,zoomY:n,cacheTranslationX:i,cacheTranslationY:s}=this,{width:o,height:a}=this._cacheCanvas;this.drawObject(this._cacheContext,e.forClipping,{zoomX:r,zoomY:n,cacheTranslationX:i,cacheTranslationY:s,width:o,height:a,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===Hr&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(e,r,n){e.save(),r.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",e.setTransform(1,0,0,1,0,0),e.drawImage(n,0,0),e.restore()}drawObject(e,r,n){const i=this.fill,s=this.stroke;r?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath,n),this.fill=i,this.stroke=s}createClipPathLayer(e,r){const n=Bn(r),i=n.getContext("2d");if(i.translate(r.cacheTranslationX,r.cacheTranslationY),i.scale(r.zoomX,r.zoomY),e._cacheCanvas=n,r.parentClipPaths.forEach(s=>{s.transform(i)}),r.parentClipPaths.push(e),e.absolutePositioned){const s=yi(this.calcTransformMatrix());i.transform(s[0],s[1],s[2],s[3],s[4],s[5])}return e.transform(i),e.drawObject(i,!0,r),n}_drawClipPath(e,r,n){if(!r)return;r._transformDone=!0;const i=this.createClipPathLayer(r,n);this.drawClipPathOnCache(e,r,i)}drawCacheOnCanvas(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const r=this._cacheCanvas,n=this._cacheContext;return!(!r||!n||e||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(r&&n&&!e&&(n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.width,r.height),n.restore()),!0)}_renderBackground(e){if(!this.backgroundColor)return;const r=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),this._removeShadow(e)}_setOpacity(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity}_setStrokeStyles(e,r){const n=r.stroke;n&&(e.lineWidth=r.strokeWidth,e.lineCap=r.strokeLineCap,e.lineDashOffset=r.strokeDashOffset,e.lineJoin=r.strokeLineJoin,e.miterLimit=r.strokeMiterLimit,jn(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.strokeStyle=r.stroke)}_setFillStyles(e,r){let{fill:n}=r;n&&(jn(n)?(e.fillStyle=n.toLive(e),this._applyPatternGradientTransform(e,n)):e.fillStyle=n)}_setClippingProperties(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"}_setLineDash(e,r){r&&r.length!==0&&e.setLineDash(r)}_setShadow(e){if(!this.shadow)return;const r=this.shadow,n=this.canvas,i=this.getCanvasRetinaScaling(),[s,,,o]=(n==null?void 0:n.viewportTransform)||Ar,a=s*i,l=o*i,c=r.nonScaling?new W(1,1):this.getObjectScaling();e.shadowColor=r.color,e.shadowBlur=r.blur*Be.browserShadowBlurConstant*(a+l)*(c.x+c.y)/4,e.shadowOffsetX=r.offsetX*a*c.x,e.shadowOffsetY=r.offsetY*l*c.y}_removeShadow(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)}_applyPatternGradientTransform(e,r){if(!jn(r))return{offsetX:0,offsetY:0};const n=r.gradientTransform||r.patternTransform,i=-this.width/2+r.offsetX||0,s=-this.height/2+r.offsetY||0;return r.gradientUnits==="percentage"?e.transform(this.width,0,0,this.height,i,s):e.transform(1,0,0,1,i,s),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:i,offsetY:s}}_renderPaintInOrder(e){this.paintFirst===Hr?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))}_render(e){}_renderFill(e){this.fill&&(e.save(),this._setFillStyles(e,this),this.fillRule==="evenodd"?e.fill("evenodd"):e.fill(),e.restore())}_renderStroke(e){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform){const r=this.getObjectScaling();e.scale(1/r.x,1/r.y)}this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}}_applyPatternForTransformedGradient(e,r){var n;const i=this._limitCacheSize(this._getCacheCanvasDimensions()),s=this.getCanvasRetinaScaling(),o=i.x/this.scaleX/s,a=i.y/this.scaleY/s,l=Bn({width:Math.ceil(o),height:Math.ceil(a)}),c=l.getContext("2d");c&&(c.beginPath(),c.moveTo(0,0),c.lineTo(o,0),c.lineTo(o,a),c.lineTo(0,a),c.closePath(),c.translate(o/2,a/2),c.scale(i.zoomX/this.scaleX/s,i.zoomY/this.scaleY/s),this._applyPatternGradientTransform(c,r),c.fillStyle=r.toLive(e),c.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(s*this.scaleX/i.zoomX,s*this.scaleY/i.zoomY),e.strokeStyle=(n=c.createPattern(l,"no-repeat"))!==null&&n!==void 0?n:"")}_findCenterFromElement(){return new W(this.left+this.width/2,this.top+this.height/2)}clone(e){const r=this.toObject(e);return this.constructor.fromObject(r)}cloneAsImage(e){const r=this.toCanvasElement(e);return new(ie.getClass("image"))(r)}toCanvasElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=DU(this),n=this.group,i=this.shadow,s=Math.abs,o=e.enableRetinaScaling?xU():1,a=(e.multiplier||1)*o,l=e.canvasProvider||(b=>new dp(b,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,e.withoutTransform&&SEe(this),e.withoutShadow&&(this.shadow=null),e.viewportTransform&&OEe(this,this.getViewportTransform()),this.setCoords();const c=Hs(),u=this.getBoundingRect(),d=this.shadow,h=new W;if(d){const b=d.blur,x=d.nonScaling?new W(1,1):this.getObjectScaling();h.x=2*Math.round(s(d.offsetX)+b)*s(x.x),h.y=2*Math.round(s(d.offsetY)+b)*s(x.y)}const f=u.width+h.x,m=u.height+h.y;c.width=Math.ceil(f),c.height=Math.ceil(m);const p=l(c);e.format==="jpeg"&&(p.backgroundColor="#fff"),this.setPositionByOrigin(new W(p.width/2,p.height/2),Re,Re);const v=this.canvas;p._objects=[this],this.set("canvas",p),this.setCoords();const y=p.toCanvasElement(a||1,e);return this.set("canvas",v),this.shadow=i,n&&(this.group=n),this.set(r),this.setCoords(),p._objects=[],p.destroy(),y}toDataURL(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return TU(this.toCanvasElement(e),e.format||"png",e.quality||1)}toBlob(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return EU(this.toCanvasElement(e),e.format||"png",e.quality||1)}isType(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.includes(this.constructor.type)||r.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(e){const{centeredRotation:r,originX:n,originY:i}=this;if(r){const{x:s,y:o}=this.getRelativeCenterPoint();this.originX=Re,this.originY=Re,this.left=s,this.top=o}if(this.set("angle",e),r){const{x:s,y:o}=this.translateToOriginPoint(this.getRelativeCenterPoint(),n,i);this.left=s,this.top=o,this.originX=n,this.originY=i}}setOnGroup(){}_setupCompositeOperation(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}dispose(){sy.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&rs().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(e,r){return Object.entries(e).reduce((n,i)=>{let[s,o]=i;return n[s]=this._animate(s,o,r),n},{})}_animate(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.split("."),s=this.constructor.colorProperties.includes(i[i.length-1]),{abort:o,startValue:a,onChange:l,onComplete:c}=n,u=F(F({},n),{},{target:this,startValue:a??i.reduce((d,h)=>d[h],this),endValue:r,abort:o==null?void 0:o.bind(this),onChange:(d,h,f)=>{i.reduce((m,p,v)=>(v===i.length-1&&(m[p]=d),m[p]),this),l&&l(d,h,f)},onComplete:(d,h,f)=>{this.setCoords(),c&&c(d,h,f)}});return s?KEe(u):YU(u)}isDescendantOf(e){const{parent:r,group:n}=this;return r===e||n===e||!!r&&r.isDescendantOf(e)||!!n&&n!==r&&n.isDescendantOf(e)}getAncestors(){const e=[];let r=this;do r=r.parent,r&&e.push(r);while(r);return e}findCommonAncestors(e){if(this===e)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const r=this.getAncestors(),n=e.getAncestors();if(r.length===0&&n.length>0&&this===n[n.length-1])return{fork:[],otherFork:[e,...n.slice(0,n.length-1)],common:[this]};for(let i,s=0;s<r.length;s++){if(i=r[s],i===e)return{fork:[this,...r.slice(0,s)],otherFork:[],common:r.slice(s)};for(let o=0;o<n.length;o++){if(this===n[o])return{fork:[],otherFork:[e,...n.slice(0,o)],common:[this,...r]};if(i===n[o])return{fork:[this,...r.slice(0,s)],otherFork:[e,...n.slice(0,o)],common:r.slice(s)}}}return{fork:[this,...r],otherFork:[e,...n],common:[]}}hasCommonAncestors(e){const r=this.findCommonAncestors(e);return r&&!!r.common.length}isInFrontOf(e){if(this===e)return;const r=this.findCommonAncestors(e);if(r.fork.includes(e))return!0;if(r.otherFork.includes(this))return!1;const n=r.common[0]||this.canvas;if(!n)return;const i=r.fork.pop(),s=r.otherFork.pop(),o=n._objects.indexOf(i),a=n._objects.indexOf(s);return o>-1&&o>a}toObject(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(cm.customProperties,this.constructor.customProperties||[]);let r;const n=Be.NUM_FRACTION_DIGITS,{clipPath:i,fill:s,stroke:o,shadow:a,strokeDashArray:l,left:c,top:u,originX:d,originY:h,width:f,height:m,strokeWidth:p,strokeLineCap:v,strokeDashOffset:y,strokeLineJoin:b,strokeUniform:x,strokeMiterLimit:_,scaleX:S,scaleY:C,angle:O,flipX:T,flipY:E,opacity:j,visible:P,backgroundColor:A,fillRule:I,paintFirst:R,globalCompositeOperation:L,skewX:$,skewY:B}=this;i&&!i.excludeFromExport&&(r=i.toObject(e.concat("inverted","absolutePositioned")));const N=z=>lt(z,n),M=F(F({},ud(this,e)),{},{type:this.constructor.type,version:y1,originX:d,originY:h,left:N(c),top:N(u),width:N(f),height:N(m),fill:dR(s)?s.toObject():s,stroke:dR(o)?o.toObject():o,strokeWidth:N(p),strokeDashArray:l&&l.concat(),strokeLineCap:v,strokeDashOffset:y,strokeLineJoin:b,strokeUniform:x,strokeMiterLimit:N(_),scaleX:N(S),scaleY:N(C),angle:N(O),flipX:T,flipY:E,opacity:N(j),shadow:a&&a.toObject(),visible:P,backgroundColor:A,fillRule:I,paintFirst:R,globalCompositeOperation:L,skewX:N($),skewY:N(B)},r?{clipPath:r}:null);return this.includeDefaultValues?M:this._removeDefaultValues(M)}toDatalessObject(e){return this.toObject(e)}_removeDefaultValues(e){const r=this.constructor.getDefaults(),n=Object.keys(r).length>0?r:Object.getPrototypeOf(this);return DT(e,(i,s)=>{if(s===Ye||s===Wr||s==="type")return!0;const o=n[s];return i!==o&&!(Array.isArray(i)&&Array.isArray(o)&&i.length===0&&o.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(e){let r=mt(e,YEe),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:i}=n,s=mt(n,XEe);return ob(r,s).then(o=>i?(delete o[i],new this(r[i],o)):new this(o))}static fromObject(e,r){return this._fromObject(e,r)}};D(hs,"stateProperties",DEe),D(hs,"cacheProperties",Js),D(hs,"ownDefaults",IEe),D(hs,"type","FabricObject"),D(hs,"colorProperties",[Yt,Hr,"backgroundColor"]),D(hs,"customProperties",[]),ie.setClass(hs),ie.setClass(hs,"object");const dd=(t,e,r)=>(n,i,s,o)=>{const a=e(n,i,s,o);return a&&IU(t,F(F({},FU(n,i,s,o)),r)),a};function hd(t){return(e,r,n,i)=>{const{target:s,originX:o,originY:a}=r,l=s.getRelativeCenterPoint(),c=s.translateToOriginPoint(l,o,a),u=t(e,r,n,i);return s.setPositionByOrigin(c,r.originX,r.originY),u}}const ER=dd(jf,hd((t,e,r,n)=>{const i=LT(e,e.originX,e.originY,r,n);if(Dt(e.originX)===Dt(Re)||Dt(e.originX)===Dt(Pt)&&i.x<0||Dt(e.originX)===Dt(Ye)&&i.x>0){const{target:s}=e,o=s.strokeWidth/(s.strokeUniform?s.scaleX:1),a=LU(e)?2:1,l=s.width,c=Math.abs(i.x*a/s.scaleX)-o;return s.set("width",Math.max(c,1)),l!==s.width}return!1}));function ZEe(t,e,r,n,i){n=n||{};const s=this.sizeX||n.cornerSize||i.cornerSize,o=this.sizeY||n.cornerSize||i.cornerSize,a=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,l=a?Hr:Yt,c=!a&&(n.cornerStrokeColor||i.cornerStrokeColor);let u,d=e,h=r;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",s>o?(u=s,t.scale(1,o/s),h=r*s/o):o>s?(u=o,t.scale(s/o,1),d=e*o/s):u=s,t.beginPath(),t.arc(d,h,u/2,0,ry,!1),t[l](),c&&t.stroke(),t.restore()}function JEe(t,e,r,n,i){n=n||{};const s=this.sizeX||n.cornerSize||i.cornerSize,o=this.sizeY||n.cornerSize||i.cornerSize,a=n.transparentCorners!==void 0?n.transparentCorners:i.transparentCorners,l=a?Hr:Yt,c=!a&&(n.cornerStrokeColor||i.cornerStrokeColor),u=s/2,d=o/2;t.save(),t.fillStyle=n.cornerColor||i.cornerColor||"",t.strokeStyle=n.cornerStrokeColor||i.cornerStrokeColor||"",t.translate(e,r);const h=i.getTotalAngle();t.rotate(At(h)),t["".concat(l,"Rect")](-u,-d,s,o),c&&t.strokeRect(-u,-d,s,o),t.restore()}class ri{constructor(e){D(this,"visible",!0),D(this,"actionName",ib),D(this,"angle",0),D(this,"x",0),D(this,"y",0),D(this,"offsetX",0),D(this,"offsetY",0),D(this,"sizeX",0),D(this,"sizeY",0),D(this,"touchSizeX",0),D(this,"touchSizeY",0),D(this,"cursorStyle","crosshair"),D(this,"withConnection",!1),Object.assign(this,e)}shouldActivate(e,r,n,i){var s;let{tl:o,tr:a,br:l,bl:c}=i;return((s=r.canvas)===null||s===void 0?void 0:s.getActiveObject())===r&&r.isControlVisible(e)&&xt.isPointInPolygon(n,[o,a,l,c])}getActionHandler(e,r,n){return this.actionHandler}getMouseDownHandler(e,r,n){return this.mouseDownHandler}getMouseUpHandler(e,r,n){return this.mouseUpHandler}cursorStyleHandler(e,r,n){return r.cursorStyle}getActionName(e,r,n){return r.actionName}getVisibility(e,r){var n,i;return(n=(i=e._controlsVisibility)===null||i===void 0?void 0:i[r])!==null&&n!==void 0?n:this.visible}setVisibility(e,r,n){this.visible=e}positionHandler(e,r,n,i){return new W(this.x*e.x+this.offsetX,this.y*e.y+this.offsetY).transform(r)}calcCornerCoords(e,r,n,i,s,o){const a=MT([up(n,i),cd({angle:e}),$T((s?this.touchSizeX:this.sizeX)||r,(s?this.touchSizeY:this.sizeY)||r)]);return{tl:new W(-.5,-.5).transform(a),tr:new W(.5,-.5).transform(a),br:new W(.5,.5).transform(a),bl:new W(-.5,.5).transform(a)}}render(e,r,n,i,s){((i=i||{}).cornerStyle||s.cornerStyle)==="circle"?ZEe.call(this,e,r,n,i,s):JEe.call(this,e,r,n,i,s)}}const QEe=(t,e,r)=>r.lockRotation?ly:e.cursorStyle,eke=dd(_U,hd((t,e,r,n)=>{let{target:i,ex:s,ey:o,theta:a,originX:l,originY:c}=e;const u=i.translateToOriginPoint(i.getRelativeCenterPoint(),l,c);if(Ci(i,"lockRotation"))return!1;const d=Math.atan2(o-u.y,s-u.x),h=Math.atan2(n-u.y,r-u.x);let f=Gs(h-d+a);if(i.snapAngle&&i.snapAngle>0){const p=i.snapAngle,v=i.snapThreshold||p,y=Math.ceil(f/p)*p,b=Math.floor(f/p)*p;Math.abs(f-b)<v?f=b:Math.abs(f-y)<v&&(f=y)}f<0&&(f=360+f),f%=360;const m=i.angle!==f;return i.angle=f,m}));function XU(t,e){const r=e.canvas,n=t[r.uniScaleKey];return r.uniformScaling&&!n||!r.uniformScaling&&n}function ZU(t,e,r){const n=Ci(t,"lockScalingX"),i=Ci(t,"lockScalingY");if(n&&i||!e&&(n||i)&&r||n&&e==="x"||i&&e==="y")return!0;const{width:s,height:o,strokeWidth:a}=t;return s===0&&a===0&&e!=="y"||o===0&&a===0&&e!=="x"}const tke=["e","se","s","sw","w","nw","n","ne","e"],Gd=(t,e,r)=>{const n=XU(t,r);if(ZU(r,e.x!==0&&e.y===0?"x":e.x===0&&e.y!==0?"y":"",n))return ly;const i=BU(r,e);return"".concat(tke[i],"-resize")};function zT(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=e.target,o=i.by,a=XU(t,s);let l,c,u,d,h,f;if(ZU(s,o,a))return!1;if(e.gestureScale)c=e.scaleX*e.gestureScale,u=e.scaleY*e.gestureScale;else{if(l=LT(e,e.originX,e.originY,r,n),h=o!=="y"?Math.sign(l.x||e.signX||1):1,f=o!=="x"?Math.sign(l.y||e.signY||1):1,e.signX||(e.signX=h),e.signY||(e.signY=f),Ci(s,"lockScalingFlip")&&(e.signX!==h||e.signY!==f))return!1;if(d=s._getTransformedDimensions(),a&&!o){const v=Math.abs(l.x)+Math.abs(l.y),{original:y}=e,b=v/(Math.abs(d.x*y.scaleX/s.scaleX)+Math.abs(d.y*y.scaleY/s.scaleY));c=y.scaleX*b,u=y.scaleY*b}else c=Math.abs(l.x*s.scaleX/d.x),u=Math.abs(l.y*s.scaleY/d.y);LU(e)&&(c*=2,u*=2),e.signX!==h&&o!=="y"&&(e.originX=gR(e.originX),c*=-1,e.signX=h),e.signY!==f&&o!=="x"&&(e.originY=gR(e.originY),u*=-1,e.signY=f)}const m=s.scaleX,p=s.scaleY;return o?(o==="x"&&s.set(Gr,c),o==="y"&&s.set(Fn,u)):(!Ci(s,"lockScalingX")&&s.set(Gr,c),!Ci(s,"lockScalingY")&&s.set(Fn,u)),m!==s.scaleX||p!==s.scaleY}const gg=dd(nb,hd((t,e,r,n)=>zT(t,e,r,n))),rke=dd(nb,hd((t,e,r,n)=>zT(t,e,r,n,{by:"x"}))),nke=dd(nb,hd((t,e,r,n)=>zT(t,e,r,n,{by:"y"}))),ike=["target","ex","ey","skewingSide"],qx={x:{counterAxis:"y",scale:Gr,skew:ad,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Fn,skew:ld,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},ske=["ns","nesw","ew","nwse"],oke=(t,e,r)=>{if(e.x!==0&&Ci(r,"lockSkewingY")||e.y!==0&&Ci(r,"lockSkewingX"))return ly;const n=BU(r,e)%4;return"".concat(ske[n],"-resize")};function JU(t,e,r,n,i){const{target:s}=r,{counterAxis:o,origin:a,lockSkewing:l,skew:c,flip:u}=qx[t];if(Ci(s,l))return!1;const{origin:d,flip:h}=qx[o],f=Dt(r[d])*(s[h]?-1:1),m=-Math.sign(f)*(s[u]?-1:1),p=.5*-((s[c]===0&&LT(r,Re,Re,n,i)[t]>0||s[c]>0?1:-1)*m)+.5;return dd(SU,hd((y,b,x,_)=>function(S,C,O){let{target:T,ex:E,ey:j,skewingSide:P}=C,A=mt(C,ike);const{skew:I}=qx[S],R=O.subtract(new W(E,j)).divide(new W(T.scaleX,T.scaleY))[S],L=T[I],$=A[I],B=Math.tan(At($)),N=S==="y"?T._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:T._getTransformedDimensions({scaleX:1,scaleY:1}).y,M=2*R*P/Math.max(N,1)+B,z=Gs(Math.atan(M));T.set(I,z);const H=L!==T[I];if(H&&S==="y"){const{skewX:U,scaleX:q}=T,ee=T._getTransformedDimensions({skewY:L}),pe=T._getTransformedDimensions(),Oe=U!==0?ee.x/pe.x:1;Oe!==1&&T.set(Gr,Oe*q)}return H}(t,b,new W(x,_))))(e,F(F({},r),{},{[a]:p,skewingSide:m}),n,i)}const ake=(t,e,r,n)=>JU("x",t,e,r,n),lke=(t,e,r,n)=>JU("y",t,e,r,n);function cb(t,e){return t[e.canvas.altActionKey]}const mg=(t,e,r)=>{const n=cb(t,r);return e.x===0?n?ad:Fn:e.y===0?n?ld:Gr:""},vc=(t,e,r)=>cb(t,r)?oke(0,e,r):Gd(t,e,r),kR=(t,e,r,n)=>cb(t,e.target)?lke(t,e,r,n):rke(t,e,r,n),PR=(t,e,r,n)=>cb(t,e.target)?ake(t,e,r,n):nke(t,e,r,n),QU=()=>({ml:new ri({x:-.5,y:0,cursorStyleHandler:vc,actionHandler:kR,getActionName:mg}),mr:new ri({x:.5,y:0,cursorStyleHandler:vc,actionHandler:kR,getActionName:mg}),mb:new ri({x:0,y:.5,cursorStyleHandler:vc,actionHandler:PR,getActionName:mg}),mt:new ri({x:0,y:-.5,cursorStyleHandler:vc,actionHandler:PR,getActionName:mg}),tl:new ri({x:-.5,y:-.5,cursorStyleHandler:Gd,actionHandler:gg}),tr:new ri({x:.5,y:-.5,cursorStyleHandler:Gd,actionHandler:gg}),bl:new ri({x:-.5,y:.5,cursorStyleHandler:Gd,actionHandler:gg}),br:new ri({x:.5,y:.5,cursorStyleHandler:Gd,actionHandler:gg}),mtr:new ri({x:0,y:-.5,actionHandler:eke,cursorStyleHandler:QEe,offsetY:-40,withConnection:!0,actionName:NT})}),cke=()=>({mr:new ri({x:.5,y:0,actionHandler:ER,cursorStyleHandler:vc,actionName:jf}),ml:new ri({x:-.5,y:0,actionHandler:ER,cursorStyleHandler:vc,actionName:jf})}),uke=()=>F(F({},QU()),cke());class Mf extends hs{static getDefaults(){return F(F({},super.getDefaults()),Mf.ownDefaults)}constructor(e){super(),Object.assign(this,this.constructor.createControls(),Mf.ownDefaults),this.setOptions(e)}static createControls(){return{controls:QU()}}_updateCacheCanvas(){const e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){const r=e._currentTransform,n=r.target,i=r.action;if(this===n&&i&&i.startsWith(ib))return!1}return super._updateCacheCanvas()}getActiveControl(){const e=this.__corner;return e?{key:e,control:this.controls[e],coord:this.oCoords[e]}:void 0}findControl(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const n=Object.entries(this.oCoords);for(let i=n.length-1;i>=0;i--){const[s,o]=n[i],a=this.controls[s];if(a.shouldActivate(s,this,e,r?o.touchCorner:o.corner))return this.__corner=s,{key:s,control:a,coord:this.oCoords[s]}}}calcOCoords(){const e=this.getViewportTransform(),r=this.getCenterPoint(),n=up(r.x,r.y),i=cd({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),s=cr(n,i),o=cr(e,s),a=cr(o,[1/e[0],0,0,1/e[3],0,0]),l=this.group?oy(this.calcTransformMatrix()):void 0;l&&(l.scaleX=Math.abs(l.scaleX),l.scaleY=Math.abs(l.scaleY));const c=this._calculateCurrentDimensions(l),u={};return this.forEachControl((d,h)=>{const f=d.positionHandler(c,a,this,d);u[h]=Object.assign(f,this._calcCornerCoords(d,f))}),u}_calcCornerCoords(e,r){const n=this.getTotalAngle();return{corner:e.calcCornerCoords(n,this.cornerSize,r.x,r.y,!1,this),touchCorner:e.calcCornerCoords(n,this.touchCornerSize,r.x,r.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(e){for(const r in this.controls)e(this.controls[r],r,this)}drawSelectionBackground(e){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;e.save();const r=this.getRelativeCenterPoint(),n=this._calculateCurrentDimensions(),i=this.getViewportTransform();e.translate(r.x,r.y),e.scale(1/i[0],1/i[3]),e.rotate(At(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-n.x/2,-n.y/2,n.x,n.y),e.restore()}strokeBorders(e,r){e.strokeRect(-r.x/2,-r.y/2,r.x,r.y)}_drawBorders(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=F({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},n);e.save(),e.strokeStyle=i.borderColor,this._setLineDash(e,i.borderDashArray),this.strokeBorders(e,r),i.hasControls&&this.drawControlsConnectingLines(e,r),e.restore()}_renderControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:n,hasControls:i}=this,s=F({hasBorders:n,hasControls:i},r),o=this.getViewportTransform(),a=s.hasBorders,l=s.hasControls,c=cr(o,this.calcTransformMatrix()),u=oy(c);e.save(),e.translate(u.translateX,u.translateY),e.lineWidth=this.borderScaleFactor,this.group===this.parent&&(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(u.angle-=180),e.rotate(At(this.group?u.angle:this.angle)),a&&this.drawBorders(e,u,r),l&&this.drawControls(e,r),e.restore()}drawBorders(e,r,n){let i;if(n&&n.forActiveSelection||this.group){const s=IT(this.width,this.height,sb(r)),o=this.isStrokeAccountedForInDimensions()?RT:(this.strokeUniform?new W().scalarAdd(this.canvas?this.canvas.getZoom():1):new W(r.scaleX,r.scaleY)).scalarMultiply(this.strokeWidth);i=s.add(o).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else i=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(e,i,n)}drawControlsConnectingLines(e,r){let n=!1;e.beginPath(),this.forEachControl((i,s)=>{i.withConnection&&i.getVisibility(this,s)&&(n=!0,e.moveTo(i.x*r.x,i.y*r.y),e.lineTo(i.x*r.x+i.offsetX,i.y*r.y+i.offsetY))}),n&&e.stroke()}drawControls(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.save();const n=this.getCanvasRetinaScaling(),{cornerStrokeColor:i,cornerDashArray:s,cornerColor:o}=this,a=F({cornerStrokeColor:i,cornerDashArray:s,cornerColor:o},r);e.setTransform(n,0,0,n,0,0),e.strokeStyle=e.fillStyle=a.cornerColor,this.transparentCorners||(e.strokeStyle=a.cornerStrokeColor),this._setLineDash(e,a.cornerDashArray),this.forEachControl((l,c)=>{if(l.getVisibility(this,c)){const u=this.oCoords[c];l.render(e,u.x,u.y,a,this)}}),e.restore()}isControlVisible(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)}setControlVisible(e,r){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=r}setControlsVisibility(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(e).forEach(r=>{let[n,i]=r;return this.setControlVisible(n,i)})}clearContextTop(e){if(!this.canvas)return;const r=this.canvas.contextTop;if(!r)return;const n=this.canvas.viewportTransform;r.save(),r.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(r);const i=this.width+4,s=this.height+4;return r.clearRect(-i/2,-s/2,i,s),e||r.restore(),r}onDeselect(e){return!1}onSelect(e){return!1}shouldStartDragging(e){return!1}onDragStart(e){return!1}canDrop(e){return!1}renderDragSourceEffect(e){}renderDropTargetEffect(e){}}function eW(t,e){return e.forEach(r=>{Object.getOwnPropertyNames(r.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(r.prototype,n)||Object.create(null))})}),t}D(Mf,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class br extends Mf{}eW(br,[zU]),ie.setClass(br),ie.setClass(br,"object");const dke=(t,e,r,n)=>{const i=2*(n=Math.round(n))+1,{data:s}=t.getImageData(e-n,r-n,i,i);for(let o=3;o<s.length;o+=4)if(s[o]>0)return!1;return!0};class tW{constructor(e){this.options=e,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new W(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new W(1/this.options.scaleX,1/this.options.scaleY):new W(1,1)}createSideVector(e,r){const n=_1(e,r);return this.options.strokeUniform?n.multiply(this.scale):n}projectOrthogonally(e,r,n){return this.applySkew(e.add(this.calcOrthogonalProjection(e,r,n)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(e){const r=new W(e);return r.y+=r.x*Math.tan(At(this.options.skewY)),r.x+=r.y*Math.tan(At(this.options.skewX)),r}scaleUnitVector(e,r){return e.multiply(this.strokeUniformScalar).scalarMultiply(r)}}const hke=new W;class $c extends tW{static getOrthogonalRotationFactor(e,r){const n=r?C1(e,r):MEe(e);return Math.abs(n)<cp?-1:1}constructor(e,r,n,i){super(i),D(this,"AB",void 0),D(this,"AC",void 0),D(this,"alpha",void 0),D(this,"bisector",void 0),this.A=new W(e),this.B=new W(r),this.C=new W(n),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=C1(this.AB,this.AC),this.bisector=FT(KU(this.AB.eq(hke)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r),s=qU(i),o=$c.getOrthogonalRotationFactor(s,this.bisector);return this.scaleUnitVector(s,n*o)}projectBevel(){const e=[];return(this.alpha%ry==0?[this.B]:[this.B,this.C]).forEach(r=>{e.push(this.projectOrthogonally(this.A,r)),e.push(this.projectOrthogonally(this.A,r,-this.strokeProjectionMagnitude))}),e}projectMiter(){const e=[],r=Math.abs(this.alpha),n=1/Math.sin(r/2),i=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*n),s=this.options.strokeUniform?S1(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return S1(i)/this.strokeProjectionMagnitude<=s&&e.push(this.applySkew(this.A.add(i))),e.push(...this.projectBevel()),e}projectRoundNoSkew(e,r){const n=[],i=new W($c.getOrthogonalRotationFactor(this.bisector),$c.getOrthogonalRotationFactor(new W(this.bisector.y,this.bisector.x)));return[new W(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i),new W(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(i)].forEach(s=>{CR(s,e,r)&&n.push(this.A.add(s))}),n}projectRoundWithSkew(e,r){const n=[],{skewX:i,skewY:s,scaleX:o,scaleY:a,strokeUniform:l}=this.options,c=new W(Math.tan(At(i)),Math.tan(At(s))),u=this.strokeProjectionMagnitude,d=l?u/a/Math.sqrt(1/a**2+1/o**2*c.y**2):u/Math.sqrt(1+c.y**2),h=new W(Math.sqrt(Math.max(u**2-d**2,0)),d),f=l?u/Math.sqrt(1+c.x**2*(1/a)**2/(1/o+1/o*c.x*c.y)**2):u/Math.sqrt(1+c.x**2/(1+c.x*c.y)**2),m=new W(f,Math.sqrt(Math.max(u**2-f**2,0)));return[m,m.scalarMultiply(-1),h,h.scalarMultiply(-1)].map(p=>this.applySkew(l?p.multiply(this.strokeUniformScalar):p)).forEach(p=>{CR(p,e,r)&&n.push(this.applySkew(this.A).add(p))}),n}projectRound(){const e=[];e.push(...this.projectBevel());const r=this.alpha%ry==0,n=this.applySkew(this.A),i=e[r?0:2].subtract(n),s=e[r?1:0].subtract(n),o=r?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),a=yh(i,o)>0,l=a?i:s,c=a?s:i;return this.isSkewed()?e.push(...this.projectRoundWithSkew(l,c)):e.push(...this.projectRoundNoSkew(l,c)),e}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e,angle:this.alpha,bisector:this.bisector}))}}class jR extends tW{constructor(e,r,n){super(n),this.A=new W(e),this.T=new W(r)}calcOrthogonalProjection(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const i=this.createSideVector(e,r);return this.scaleUnitVector(qU(i),n)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const e=[];if(!this.isSkewed()&&this.A.eq(this.T)){const r=new W(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.applySkew(this.A.add(r)),this.applySkew(this.A.subtract(r)))}else e.push(...new $c(this.A,this.T,this.T,this.options).projectRound());return e}projectSquare(){const e=[];if(this.A.eq(this.T)){const r=new W(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);e.push(this.A.add(r),this.A.subtract(r))}else{const r=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),n=this.scaleUnitVector(FT(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),i=this.A.add(n);e.push(i.add(r),i.subtract(r))}return e.map(r=>this.applySkew(r))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(e=>({originPoint:this.A,projectedPoint:e}))}}const fke=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const n=[];if(t.length===0)return n;const i=t.reduce((s,o)=>(s[s.length-1].eq(o)||s.push(new W(o)),s),[new W(t[0])]);if(i.length===1)r=!0;else if(!r){const s=i[0],o=((a,l)=>{for(let c=a.length-1;c>=0;c--)if(l(a[c],c,a))return c;return-1})(i,a=>!a.eq(s));i.splice(o+1)}return i.forEach((s,o,a)=>{let l,c;o===0?(c=a[1],l=r?s:a[a.length-1]):o===a.length-1?(l=a[o-1],c=r?s:a[0]):(l=a[o-1],c=a[o+1]),r&&a.length===1?n.push(...new jR(s,s,e).project()):!r||o!==0&&o!==a.length-1?n.push(...new $c(s,l,c,e).project()):n.push(...new jR(s,o===0?c:l,e).project())}),n},UT=t=>{const e={};return Object.keys(t).forEach(r=>{e[r]={},Object.keys(t[r]).forEach(n=>{e[r][n]=F({},t[r][n])})}),e},pke=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let Rd;const WT=t=>{if(Rd||Rd||(Rd="Intl"in rb()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),Rd){const e=Rd.segment(t);return Array.from(e).map(r=>{let{segment:n}=r;return n})}return gke(t)},gke=t=>{const e=[];for(let r,n=0;n<t.length;n++)(r=mke(t,n))!==!1&&e.push(r);return e},mke=(t,e)=>{const r=t.charCodeAt(e);if(isNaN(r))return"";if(r<55296||r>57343)return t.charAt(e);if(55296<=r&&r<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";const i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";const n=t.charCodeAt(e-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1},VT=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textDecorationThickness!==e.textDecorationThickness||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||r&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)},vke=(t,e)=>{const r=e.split(`
`),n=[];let i=-1,s={};t=UT(t);for(let o=0;o<r.length;o++){const a=WT(r[o]);if(t[o])for(let l=0;l<a.length;l++){i++;const c=t[o][l];c&&Object.keys(c).length>0&&(VT(s,c,!0)?n.push({start:i,end:i+1,style:c}):n[n.length-1].end++),s=c||{}}else i+=a.length,s={}}return n},yke=(t,e)=>{if(!Array.isArray(t))return UT(t);const r=e.split(AT),n={};let i=-1,s=0;for(let o=0;o<r.length;o++){const a=WT(r[o]);for(let l=0;l<a.length;l++)i++,t[s]&&t[s].start<=i&&i<t[s].end&&(n[o]=n[o]||{},n[o][l]=F({},t[s].style),i===t[s].end-1&&s++)}return n},ca=["display","transform",Yt,"fill-opacity","fill-rule","opacity",Hr,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function AR(t,e){const r=t.nodeName,n=t.getAttribute("class"),i=t.getAttribute("id"),s="(?![a-zA-Z\\-]+)";let o;if(o=new RegExp("^"+r,"i"),e=e.replace(o,""),i&&e.length&&(o=new RegExp("#"+i+s,"i"),e=e.replace(o,"")),n&&e.length){const a=n.split(" ");for(let l=a.length;l--;)o=new RegExp("\\."+a[l]+s,"i"),e=e.replace(o,"")}return e.length===0}function bke(t,e){let r=!0;const n=AR(t,e.pop());return n&&e.length&&(r=function(i,s){let o,a=!0;for(;i.parentElement&&i.parentElement.nodeType===1&&s.length;)a&&(o=s.pop()),a=AR(i=i.parentElement,o);return s.length===0}(t,e)),n&&r&&e.length===0}const xke=t=>{var e;return(e=NEe[t])!==null&&e!==void 0?e:t},wke=new RegExp("(".concat(bi,")"),"gi"),_ke=t=>cy(t.replace(wke," $1 ").replace(/,/gi," "));var NR,RR,MR,$R,DR,IR,LR;const Tr="(".concat(bi,")"),Ske=String.raw(NR||(NR=ls(["(skewX)(",")"],["(skewX)\\(","\\)"])),Tr),Cke=String.raw(RR||(RR=ls(["(skewY)(",")"],["(skewY)\\(","\\)"])),Tr),Oke=String.raw(MR||(MR=ls(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Tr,Tr,Tr),Tke=String.raw($R||($R=ls(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Tr,Tr),Eke=String.raw(DR||(DR=ls(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Tr,Tr),kke=String.raw(IR||(IR=ls(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Tr,Tr,Tr,Tr,Tr,Tr),HT="(?:".concat(kke,"|").concat(Eke,"|").concat(Oke,"|").concat(Tke,"|").concat(Ske,"|").concat(Cke,")"),Pke="(?:".concat(HT,"*)"),jke=String.raw(LR||(LR=ls(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),Pke),Ake=new RegExp(jke),Nke=new RegExp(HT),Rke=new RegExp(HT,"g");function O1(t){const e=[];if(!(t=_ke(t).replace(/\s*([()])\s*/gi,"$1"))||t&&!Ake.test(t))return[...Ar];for(const r of t.matchAll(Rke)){const n=Nke.exec(r[0]);if(!n)continue;let i=Ar;const s=n.filter(m=>!!m),[,o,...a]=s,[l,c,u,d,h,f]=a.map(m=>parseFloat(m));switch(o){case"translate":i=up(l,c);break;case NT:i=cd({angle:l},{x:c,y:u});break;case ib:i=$T(l,c);break;case ad:i=jU(l);break;case ld:i=AU(l);break;case"matrix":i=[l,c,u,d,h,f]}e.push(i)}return MT(e)}function Mke(t,e,r,n){const i=Array.isArray(e);let s,o=e;if(t!==Yt&&t!==Hr||e!==Vr){if(t==="strokeUniform")return e==="non-scaling-stroke";if(t==="strokeDashArray")o=e===Vr?null:e.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(t==="transformMatrix")o=r&&r.transformMatrix?cr(r.transformMatrix,O1(e)):O1(e);else if(t==="visible")o=e!==Vr&&e!=="hidden",r&&r.visible===!1&&(o=!1);else if(t==="opacity")o=parseFloat(e),r&&r.opacity!==void 0&&(o*=r.opacity);else if(t==="textAnchor")o=e==="start"?Ye:e==="end"?Pt:Re;else if(t==="charSpacing"||t===xl)s=Mc(e,n)/n*1e3;else if(t==="paintFirst"){const a=e.indexOf(Yt),l=e.indexOf(Hr);o=Yt,(a>-1&&l>-1&&l<a||a===-1&&l>-1)&&(o=Hr)}else{if(t==="href"||t==="xlink:href"||t==="font"||t==="id")return e;if(t==="imageSmoothing")return e==="optimizeQuality";s=i?e.map(Mc):Mc(e,n)}}else o="";return!i&&isNaN(s)?o:s}function $ke(t,e){const r=t.match(AEe);if(!r)return;const n=r[1],i=r[3],s=r[4],o=r[5],a=r[6];n&&(e.fontStyle=n),i&&(e.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),s&&(e.fontSize=Mc(s)),a&&(e.fontFamily=a),o&&(e.lineHeight=o==="normal"?1:o)}function Dke(t,e){t.replace(/;\s*$/,"").split(";").forEach(r=>{if(!r)return;const[n,i]=r.split(":");e[n.trim().toLowerCase()]=i.trim()})}function Ike(t){const e={},r=t.getAttribute("style");return r&&(typeof r=="string"?Dke(r,e):function(n,i){Object.entries(n).forEach(s=>{let[o,a]=s;a!==void 0&&(i[o.toLowerCase()]=a)})}(r,e)),e}const Lke={stroke:"strokeOpacity",fill:"fillOpacity"};function Qs(t,e,r){if(!t)return{};let n,i={},s=jT;t.parentNode&&SR.test(t.parentNode.nodeName)&&(i=Qs(t.parentElement,e,r),i.fontSize&&(n=s=Mc(i.fontSize)));const o=F(F(F({},e.reduce((c,u)=>{const d=t.getAttribute(u);return d&&(c[u]=d),c},{})),function(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d={};for(const h in u)bke(c,h.split(" "))&&(d=F(F({},d),u[h]));return d}(t,r)),Ike(t));o[Gx]&&t.setAttribute(Gx,o[Gx]),o[Hx]&&(n=Mc(o[Hx],s),o[Hx]="".concat(n));const a={};for(const c in o){const u=xke(c),d=Mke(u,o[c],i,n);a[u]=d}a&&a.font&&$ke(a.font,a);const l=F(F({},i),a);return SR.test(t.nodeName)?l:function(c){const u=br.getDefaults();return Object.entries(Lke).forEach(d=>{let[h,f]=d;if(c[f]===void 0||c[h]==="")return;if(c[h]===void 0){if(!u[h])return;c[h]=u[h]}if(c[h].indexOf("url(")===0)return;const m=new Ke(c[h]);c[h]=m.setAlpha(lt(m.getAlpha()*c[f],2)).toRgba()}),c}(l)}const Fke=["left","top","width","height","visible"],rW=["rx","ry"];class Bi extends br{static getDefaults(){return F(F({},super.getDefaults()),Bi.ownDefaults)}constructor(e){super(),Object.assign(this,Bi.ownDefaults),this.setOptions(e),this._initRxRy()}_initRxRy(){const{rx:e,ry:r}=this;e&&!r?this.ry=e:r&&!e&&(this.rx=r)}_render(e){const{width:r,height:n}=this,i=-r/2,s=-n/2,o=this.rx?Math.min(this.rx,r/2):0,a=this.ry?Math.min(this.ry,n/2):0,l=o!==0||a!==0;e.beginPath(),e.moveTo(i+o,s),e.lineTo(i+r-o,s),l&&e.bezierCurveTo(i+r-ao*o,s,i+r,s+ao*a,i+r,s+a),e.lineTo(i+r,s+n-a),l&&e.bezierCurveTo(i+r,s+n-ao*a,i+r-ao*o,s+n,i+r-o,s+n),e.lineTo(i+o,s+n),l&&e.bezierCurveTo(i+ao*o,s+n,i,s+n-ao*a,i,s+n-a),e.lineTo(i,s+a),l&&e.bezierCurveTo(i,s+ao*a,i+ao*o,s,i+o,s),e.closePath(),this._renderPaintInOrder(e)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...rW,...e])}_toSVG(){const{width:e,height:r,rx:n,ry:i}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-e/2,'" y="').concat(-r/2,'" rx="').concat(n,'" ry="').concat(i,'" width="').concat(e,'" height="').concat(r,`" />
`)]}static async fromElement(e,r,n){const i=Qs(e,this.ATTRIBUTE_NAMES,n),{left:s=0,top:o=0,width:a=0,height:l=0,visible:c=!0}=i,u=mt(i,Fke);return new this(F(F(F({},r),u),{},{left:s,top:o,width:a,height:l,visible:!!(c&&a&&l)}))}}D(Bi,"type","Rect"),D(Bi,"cacheProperties",[...Js,...rW]),D(Bi,"ownDefaults",{rx:0,ry:0}),D(Bi,"ATTRIBUTE_NAMES",[...ca,"x","y","rx","ry","width","height"]),ie.setClass(Bi),ie.setSVGClass(Bi);const Ts="initialization",dy="added",GT="removed",hy="imperative",nW=(t,e)=>{const{strokeUniform:r,strokeWidth:n,width:i,height:s,group:o}=e,a=o&&o!==t?ab(o.calcTransformMatrix(),t.calcTransformMatrix()):null,l=a?e.getRelativeCenterPoint().transform(a):e.getRelativeCenterPoint(),c=!e.isStrokeAccountedForInDimensions(),u=r&&c?CEe(new W(n,n),void 0,t.calcTransformMatrix()):RT,d=!r&&c?n:0,h=IT(i+d,s+d,MT([a,e.calcOwnMatrix()],!0)).add(u).scalarDivide(2);return[l.subtract(h),l.add(h)]};class ub{calcLayoutResult(e,r){if(this.shouldPerformLayout(e))return this.calcBoundingBox(r,e)}shouldPerformLayout(e){let{type:r,prevStrategy:n,strategy:i}=e;return r===Ts||r===hy||!!n&&i!==n}shouldLayoutClipPath(e){let{type:r,target:{clipPath:n}}=e;return r!==Ts&&n&&!n.absolutePositioned}getInitialSize(e,r){return r.size}calcBoundingBox(e,r){const{type:n,target:i}=r;if(n===hy&&r.overrides)return r.overrides;if(e.length===0)return;const{left:s,top:o,width:a,height:l}=Rs(e.map(d=>nW(i,d)).reduce((d,h)=>d.concat(h),[])),c=new W(a,l),u=new W(s,o).add(c.scalarDivide(2));if(n===Ts){const d=this.getInitialSize(r,{size:c,center:u});return{center:u,relativeCorrection:new W(0,0),size:d}}return{center:u.transform(i.calcOwnMatrix()),size:c}}}D(ub,"type","strategy");class T1 extends ub{shouldPerformLayout(e){return!0}}D(T1,"type","fit-content"),ie.setClass(T1);const Bke=["strategy"],zke=["target","strategy","bubbles","prevStrategy"],iW="layoutManager";class $f{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new T1;D(this,"strategy",void 0),this.strategy=e,this._subscriptions=new Map}performLayout(e){const r=F(F({bubbles:!0,strategy:this.strategy},e),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(r);const n=this.getLayoutResult(r);n&&this.commitLayout(r,n),this.onAfterLayout(r,n),this._prevLayoutStrategy=r.strategy}attachHandlers(e,r){const{target:n}=r;return[iy,wU,jf,_U,nb,SU,ny,cEe,uEe].map(i=>e.on(i,s=>this.performLayout(i===iy?{type:"object_modified",trigger:i,e:s,target:n}:{type:"object_modifying",trigger:i,e:s,target:n})))}subscribe(e,r){this.unsubscribe(e,r);const n=this.attachHandlers(e,r);this._subscriptions.set(e,n)}unsubscribe(e,r){(this._subscriptions.get(e)||[]).forEach(n=>n()),this._subscriptions.delete(e)}unsubscribeTargets(e){e.targets.forEach(r=>this.unsubscribe(r,e))}subscribeTargets(e){e.targets.forEach(r=>this.subscribe(r,e))}onBeforeLayout(e){const{target:r,type:n}=e,{canvas:i}=r;if(n===Ts||n===dy?this.subscribeTargets(e):n===GT&&this.unsubscribeTargets(e),r.fire("layout:before",{context:e}),i&&i.fire("object:layout:before",{target:r,context:e}),n===hy&&e.deep){const s=mt(e,Bke);r.forEachObject(o=>o.layoutManager&&o.layoutManager.performLayout(F(F({},s),{},{bubbles:!1,target:o})))}}getLayoutResult(e){const{target:r,strategy:n,type:i}=e,s=n.calcLayoutResult(e,r.getObjects());if(!s)return;const o=i===Ts?new W:r.getRelativeCenterPoint(),{center:a,correction:l=new W,relativeCorrection:c=new W}=s,u=o.subtract(a).add(l).transform(i===Ts?Ar:yi(r.calcOwnMatrix()),!0).add(c);return{result:s,prevCenter:o,nextCenter:a,offset:u}}commitLayout(e,r){const{target:n}=e,{result:{size:i},nextCenter:s}=r;var o,a;n.set({width:i.x,height:i.y}),this.layoutObjects(e,r),e.type===Ts?n.set({left:(o=e.x)!==null&&o!==void 0?o:s.x+i.x*Dt(n.originX),top:(a=e.y)!==null&&a!==void 0?a:s.y+i.y*Dt(n.originY)}):(n.setPositionByOrigin(s,Re,Re),n.setCoords(),n.set("dirty",!0))}layoutObjects(e,r){const{target:n}=e;n.forEachObject(i=>{i.group===n&&this.layoutObject(e,r,i)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,r,n.clipPath)}layoutObject(e,r,n){let{offset:i}=r;n.set({left:n.left+i.x,top:n.top+i.y})}onAfterLayout(e,r){const{target:n,strategy:i,bubbles:s,prevStrategy:o}=e,a=mt(e,zke),{canvas:l}=n;n.fire("layout:after",{context:e,result:r}),l&&l.fire("object:layout:after",{context:e,result:r,target:n});const c=n.parent;s&&c!=null&&c.layoutManager&&((a.path||(a.path=[])).push(n),c.layoutManager.performLayout(F(F({},a),{},{target:c}))),n.set("dirty",!0)}dispose(){const{_subscriptions:e}=this;e.forEach(r=>r.forEach(n=>n())),e.clear()}toObject(){return{type:iW,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}ie.setClass($f,iW);const Uke=["type","objects","layoutManager"];class Wke extends $f{performLayout(){}}class rl extends CU(br){static getDefaults(){return F(F({},super.getDefaults()),rl.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),D(this,"_activeObjects",[]),D(this,"__objectSelectionTracker",void 0),D(this,"__objectSelectionDisposer",void 0),Object.assign(this,rl.ownDefaults),this.setOptions(r),this.groupInit(e,r)}groupInit(e,r){var n;this._objects=[...e],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(i=>{this.enterGroup(i,!1)}),this.layoutManager=(n=r.layoutManager)!==null&&n!==void 0?n:new $f,this.layoutManager.performLayout({type:Ts,target:this,targets:[...e],x:r.left,y:r.top})}canEnterGroup(e){return e===this||this.isDescendantOf(e)?(Xo("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(e)===-1||(Xo("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(e){return e.filter((r,n,i)=>this.canEnterGroup(r)&&i.indexOf(r)===n)}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const i=this._filterObjectsBeforeEnteringGroup(r),s=super.add(...i);return this._onAfterObjectsChange(dy,i),s}insertAt(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const s=this._filterObjectsBeforeEnteringGroup(n),o=super.insertAt(e,...s);return this._onAfterObjectsChange(dy,s),o}remove(){const e=super.remove(...arguments);return this._onAfterObjectsChange(GT,e),e}_onObjectAdded(e){this.enterGroup(e,!0),this.fire("object:added",{target:e}),e.fire("added",{target:this})}_onObjectRemoved(e,r){this.exitGroup(e,r),this.fire("object:removed",{target:e}),e.fire("removed",{target:this})}_onAfterObjectsChange(e,r){this.layoutManager.performLayout({type:e,targets:r,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,r){const n=this[e];return super._set(e,r),e==="canvas"&&n!==r&&(this._objects||[]).forEach(i=>{i._set(e,r)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(e,r){let{target:n}=r;const i=this._activeObjects;if(e)i.push(n),this._set("dirty",!0);else if(i.length>0){const s=i.indexOf(n);s>-1&&(i.splice(s,1),this._set("dirty",!0))}}_watchObject(e,r){e&&this._watchObject(!1,r),e?(r.on("selected",this.__objectSelectionTracker),r.on("deselected",this.__objectSelectionDisposer)):(r.off("selected",this.__objectSelectionTracker),r.off("deselected",this.__objectSelectionDisposer))}enterGroup(e,r){e.group&&e.group.remove(e),e._set("parent",this),this._enterGroup(e,r)}_enterGroup(e,r){r&&ay(e,cr(yi(this.calcTransformMatrix()),e.calcTransformMatrix())),this._shouldSetNestedCoords()&&e.setCoords(),e._set("group",this),e._set("canvas",this.canvas),this._watchObject(!0,e);const n=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();n&&(n===e||e.isDescendantOf(n))&&this._activeObjects.push(e)}exitGroup(e,r){this._exitGroup(e,r),e._set("parent",void 0),e._set("canvas",void 0)}_exitGroup(e,r){e._set("group",void 0),r||(ay(e,cr(this.calcTransformMatrix(),e.calcTransformMatrix())),e.setCoords()),this._watchObject(!1,e);const n=this._activeObjects.length>0?this._activeObjects.indexOf(e):-1;n>-1&&this._activeObjects.splice(n,1)}shouldCache(){const e=br.prototype.shouldCache.call(this);if(e){for(let r=0;r<this._objects.length;r++)if(this._objects[r].willDrawShadow())return this.ownCaching=!1,!1}return e}willDrawShadow(){if(super.willDrawShadow())return!0;for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(e,r,n){this._renderBackground(e);for(let s=0;s<this._objects.length;s++){var i;const o=this._objects[s];(i=this.canvas)!==null&&i!==void 0&&i.preserveObjectStacking&&o.group!==this?(e.save(),e.transform(...yi(this.calcTransformMatrix())),o.render(e),e.restore()):o.group===this&&o.render(e)}this._drawClipPath(e,this.clipPath,n)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(e=>e.setCoords())}triggerLayout(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(F({target:this,type:hy},e))}render(e){this._transformDone=!0,super.render(e),this._transformDone=!1}__serializeObjects(e,r){const n=this.includeDefaultValues;return this._objects.filter(function(i){return!i.excludeFromExport}).map(function(i){const s=i.includeDefaultValues;i.includeDefaultValues=n;const o=i[e||"toObject"](r);return i.includeDefaultValues=s,o})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.layoutManager.toObject();return F(F(F({},super.toObject(["subTargetCheck","interactive",...e])),r.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:r}:{}),{},{objects:this.__serializeObjects("toObject",e)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(e=>{this._watchObject(!1,e),e.dispose()}),super.dispose()}_createSVGBgRect(e){if(!this.backgroundColor)return"";const r=Bi.prototype._toSVG.call(this),n=r.indexOf("COMMON_PARTS");r[n]='for="group" ';const i=r.join("");return e?e(i):i}_toSVG(e){const r=["<g ","COMMON_PARTS",` >
`],n=this._createSVGBgRect(e);n&&r.push("		",n);for(let i=0;i<this._objects.length;i++)r.push("		",this._objects[i].toSVG(e));return r.push(`</g>
`),r}getSvgStyles(){const e=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",r=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),r].join("")}toClipPathSVG(e){const r=[],n=this._createSVGBgRect(e);n&&r.push("	",n);for(let i=0;i<this._objects.length;i++)r.push("	",this._objects[i].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(r,{reviver:e})}static fromObject(e,r){let{type:n,objects:i=[],layoutManager:s}=e,o=mt(e,Uke);return Promise.all([Af(i,r),ob(o,r)]).then(a=>{let[l,c]=a;const u=new this(l,F(F(F({},o),c),{},{layoutManager:new Wke}));if(s){const d=ie.getClass(s.type),h=ie.getClass(s.strategy);u.layoutManager=new d(new h)}else u.layoutManager=new $f;return u.layoutManager.subscribeTargets({type:Ts,target:u,targets:u.getObjects()}),u.setCoords(),u})}}D(rl,"type","Group"),D(rl,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),ie.setClass(rl);const Vke=(t,e)=>Math.min(e.width/t.width,e.height/t.height),Hke=(t,e)=>Math.max(e.width/t.width,e.height/t.height),E1="\\s*,?\\s*",Md="".concat(E1,"(").concat(bi,")"),Gke="".concat(Md).concat(Md).concat(Md).concat(E1,"([01])").concat(E1,"([01])").concat(Md).concat(Md),Kke={m:"l",M:"L"},qke=(t,e,r,n,i,s,o,a,l,c,u)=>{const d=Ws(t),h=Vs(t),f=Ws(e),m=Vs(e),p=r*i*f-n*s*m+o,v=n*i*f+r*s*m+a;return["C",c+l*(-r*i*h-n*s*d),u+l*(-n*i*h+r*s*d),p+l*(r*i*m+n*s*f),v+l*(n*i*m-r*s*f),p,v]},FR=(t,e,r,n)=>{const i=Math.atan2(e,t),s=Math.atan2(n,r);return s>=i?s-i:2*Math.PI-(i-s)};function BR(t,e,r,n,i,s,o,a){let l;if(Be.cachesBoundsOfCurve&&(l=[...arguments].join(),gh.boundsOfCurveCache[l]))return gh.boundsOfCurveCache[l];const c=Math.sqrt,u=Math.abs,d=[],h=[[0,0],[0,0]];let f=6*t-12*r+6*i,m=-3*t+9*r-9*i+3*o,p=3*r-3*t;for(let _=0;_<2;++_){if(_>0&&(f=6*e-12*n+6*s,m=-3*e+9*n-9*s+3*a,p=3*n-3*e),u(m)<1e-12){if(u(f)<1e-12)continue;const E=-p/f;0<E&&E<1&&d.push(E);continue}const S=f*f-4*p*m;if(S<0)continue;const C=c(S),O=(-f+C)/(2*m);0<O&&O<1&&d.push(O);const T=(-f-C)/(2*m);0<T&&T<1&&d.push(T)}let v=d.length;const y=v,b=sW(t,e,r,n,i,s,o,a);for(;v--;){const{x:_,y:S}=b(d[v]);h[0][v]=_,h[1][v]=S}h[0][y]=t,h[1][y]=e,h[0][y+1]=o,h[1][y+1]=a;const x=[new W(Math.min(...h[0]),Math.min(...h[1])),new W(Math.max(...h[0]),Math.max(...h[1]))];return Be.cachesBoundsOfCurve&&(gh.boundsOfCurveCache[l]=x),x}const Yke=(t,e,r)=>{let[n,i,s,o,a,l,c,u]=r;const d=((h,f,m,p,v,y,b)=>{if(m===0||p===0)return[];let x=0,_=0,S=0;const C=Math.PI,O=b*PT,T=Vs(O),E=Ws(O),j=.5*(-E*h-T*f),P=.5*(-E*f+T*h),A=m**2,I=p**2,R=P**2,L=j**2,$=A*I-A*R-I*L;let B=Math.abs(m),N=Math.abs(p);if($<0){const te=Math.sqrt(1-$/(A*I));B*=te,N*=te}else S=(v===y?-1:1)*Math.sqrt($/(A*R+I*L));const M=S*B*P/N,z=-S*N*j/B,H=E*M-T*z+.5*h,U=T*M+E*z+.5*f;let q=FR(1,0,(j-M)/B,(P-z)/N),ee=FR((j-M)/B,(P-z)/N,(-j-M)/B,(-P-z)/N);y===0&&ee>0?ee-=2*C:y===1&&ee<0&&(ee+=2*C);const pe=Math.ceil(Math.abs(ee/C*2)),Oe=[],Q=ee/pe,we=8/3*Math.sin(Q/4)*Math.sin(Q/4)/Math.sin(Q/2);let Y=q+Q;for(let te=0;te<pe;te++)Oe[te]=qke(q,Y,E,T,B,N,H,U,we,x,_),x=Oe[te][5],_=Oe[te][6],q=Y,Y+=Q;return Oe})(c-t,u-e,i,s,a,l,o);for(let h=0,f=d.length;h<f;h++)d[h][1]+=t,d[h][2]+=e,d[h][3]+=t,d[h][4]+=e,d[h][5]+=t,d[h][6]+=e;return d},Xke=t=>{let e=0,r=0,n=0,i=0;const s=[];let o,a=0,l=0;for(const c of t){const u=[...c];let d;switch(u[0]){case"l":u[1]+=e,u[2]+=r;case"L":e=u[1],r=u[2],d=["L",e,r];break;case"h":u[1]+=e;case"H":e=u[1],d=["L",e,r];break;case"v":u[1]+=r;case"V":r=u[1],d=["L",e,r];break;case"m":u[1]+=e,u[2]+=r;case"M":e=u[1],r=u[2],n=u[1],i=u[2],d=["M",e,r];break;case"c":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r,u[5]+=e,u[6]+=r;case"C":a=u[3],l=u[4],e=u[5],r=u[6],d=["C",u[1],u[2],a,l,e,r];break;case"s":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r;case"S":o==="C"?(a=2*e-a,l=2*r-l):(a=e,l=r),e=u[3],r=u[4],d=["C",a,l,u[1],u[2],e,r],a=d[3],l=d[4];break;case"q":u[1]+=e,u[2]+=r,u[3]+=e,u[4]+=r;case"Q":a=u[1],l=u[2],e=u[3],r=u[4],d=["Q",a,l,e,r];break;case"t":u[1]+=e,u[2]+=r;case"T":o==="Q"?(a=2*e-a,l=2*r-l):(a=e,l=r),e=u[1],r=u[2],d=["Q",a,l,e,r];break;case"a":u[6]+=e,u[7]+=r;case"A":Yke(e,r,u).forEach(h=>s.push(h)),e=u[6],r=u[7];break;case"z":case"Z":e=n,r=i,d=["Z"]}d?(s.push(d),o=d[0]):o=""}return s},fy=(t,e,r,n)=>Math.sqrt((r-t)**2+(n-e)**2),sW=(t,e,r,n,i,s,o,a)=>l=>{const c=l**3,u=(f=>3*f**2*(1-f))(l),d=(f=>3*f*(1-f)**2)(l),h=(f=>(1-f)**3)(l);return new W(o*c+i*u+r*d+t*h,a*c+s*u+n*d+e*h)},oW=t=>t**2,aW=t=>2*t*(1-t),lW=t=>(1-t)**2,Zke=(t,e,r,n,i,s,o,a)=>l=>{const c=oW(l),u=aW(l),d=lW(l),h=3*(d*(r-t)+u*(i-r)+c*(o-i)),f=3*(d*(n-e)+u*(s-n)+c*(a-s));return Math.atan2(f,h)},Jke=(t,e,r,n,i,s)=>o=>{const a=oW(o),l=aW(o),c=lW(o);return new W(i*a+r*l+t*c,s*a+n*l+e*c)},Qke=(t,e,r,n,i,s)=>o=>{const a=1-o,l=2*(a*(r-t)+o*(i-r)),c=2*(a*(n-e)+o*(s-n));return Math.atan2(c,l)},zR=(t,e,r)=>{let n=new W(e,r),i=0;for(let s=1;s<=100;s+=1){const o=t(s/100);i+=fy(n.x,n.y,o.x,o.y),n=o}return i},ePe=(t,e)=>{let r,n=0,i=0,s={x:t.x,y:t.y},o=F({},s),a=.01,l=0;const c=t.iterator,u=t.angleFinder;for(;i<e&&a>1e-4;)o=c(n),l=n,r=fy(s.x,s.y,o.x,o.y),r+i>e?(n-=a,a/=2):(s=o,n+=a,i+=r);return F(F({},o),{},{angle:u(l)})},cW=t=>{let e,r,n=0,i=0,s=0,o=0,a=0;const l=[];for(const c of t){const u={x:i,y:s,command:c[0],length:0};switch(c[0]){case"M":r=u,r.x=o=i=c[1],r.y=a=s=c[2];break;case"L":r=u,r.length=fy(i,s,c[1],c[2]),i=c[1],s=c[2];break;case"C":e=sW(i,s,c[1],c[2],c[3],c[4],c[5],c[6]),r=u,r.iterator=e,r.angleFinder=Zke(i,s,c[1],c[2],c[3],c[4],c[5],c[6]),r.length=zR(e,i,s),i=c[5],s=c[6];break;case"Q":e=Jke(i,s,c[1],c[2],c[3],c[4]),r=u,r.iterator=e,r.angleFinder=Qke(i,s,c[1],c[2],c[3],c[4]),r.length=zR(e,i,s),i=c[3],s=c[4];break;case"Z":r=u,r.destX=o,r.destY=a,r.length=fy(i,s,o,a),i=o,s=a}n+=r.length,l.push(r)}return l.push({length:n,x:i,y:s}),l},tPe=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cW(t),n=0;for(;e-r[n].length>0&&n<r.length-2;)e-=r[n].length,n++;const i=r[n],s=e/i.length,o=t[n];switch(i.command){case"M":return{x:i.x,y:i.y,angle:0};case"Z":return F(F({},new W(i.x,i.y).lerp(new W(i.destX,i.destY),s)),{},{angle:Math.atan2(i.destY-i.y,i.destX-i.x)});case"L":return F(F({},new W(i.x,i.y).lerp(new W(o[1],o[2]),s)),{},{angle:Math.atan2(o[2]-i.y,o[1]-i.x)});case"C":case"Q":return ePe(i,e)}},rPe=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),UR=new RegExp(Gke,"g"),nPe=new RegExp(bi,"gi"),iPe={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},sPe=t=>{var e;const r=[],n=(e=t.match(rPe))!==null&&e!==void 0?e:[];for(const i of n){const s=i[0];if(s==="z"||s==="Z"){r.push([s]);continue}const o=iPe[s.toLowerCase()];let a=[];if(s==="a"||s==="A"){UR.lastIndex=0;for(let l=null;l=UR.exec(i);)a.push(...l.slice(1))}else a=i.match(nPe)||[];for(let l=0;l<a.length;l+=o){const c=new Array(o),u=Kke[s];c[0]=l>0&&u?u:s;for(let d=0;d<o;d++)c[d+1]=parseFloat(a[l+d]);r.push(c)}}return r},oPe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=new W(t[0]),n=new W(t[1]),i=1,s=0;const o=[],a=t.length,l=a>2;let c;for(l&&(i=t[2].x<n.x?-1:t[2].x===n.x?0:1,s=t[2].y<n.y?-1:t[2].y===n.y?0:1),o.push(["M",r.x-i*e,r.y-s*e]),c=1;c<a;c++){if(!r.eq(n)){const u=r.midPointFrom(n);o.push(["Q",r.x,r.y,u.x,u.y])}r=t[c],c+1<t.length&&(n=t[c+1])}return l&&(i=r.x>t[c-2].x?1:r.x===t[c-2].x?0:-1,s=r.y>t[c-2].y?1:r.y===t[c-2].y?0:-1),o.push(["L",r.x+i*e,r.y+s*e]),o},uW=(t,e)=>t.map(r=>r.map((n,i)=>i===0||e===void 0?n:lt(n,e)).join(" ")).join(" ");function k1(t,e){const r=t.style;r&&e&&(typeof e=="string"?r.cssText+=";"+e:Object.entries(e).forEach(n=>{let[i,s]=n;return r.setProperty(i,s)}))}class aPe extends $U{constructor(e){let{allowTouchScrolling:r=!1,containerClass:n=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(e),D(this,"upper",void 0),D(this,"container",void 0);const{el:i}=this.lower,s=this.createUpperCanvas();this.upper={el:s,ctx:s.getContext("2d")},this.applyCanvasStyle(i,{allowTouchScrolling:r}),this.applyCanvasStyle(s,{allowTouchScrolling:r,styles:{position:"absolute",left:"0",top:"0"}});const o=this.createContainerElement();o.classList.add(n),i.parentNode&&i.parentNode.replaceChild(o,i),o.append(i,s),this.container=o}createUpperCanvas(){const{el:e}=this.lower,r=Hs();return r.className=e.className,r.classList.remove("lower-canvas"),r.classList.add("upper-canvas"),r.setAttribute("data-fabric","top"),r.style.cssText=e.style.cssText,r.setAttribute("draggable","true"),r}createContainerElement(){const e=od().createElement("div");return e.setAttribute("data-fabric","wrapper"),k1(e,{position:"relative"}),fR(e),e}applyCanvasStyle(e,r){const{styles:n,allowTouchScrolling:i}=r;k1(e,F(F({},n),{},{"touch-action":i?"manipulation":Vr})),fR(e)}setDimensions(e,r){super.setDimensions(e,r);const{el:n,ctx:i}=this.upper;MU(n,i,e,r)}setCSSDimensions(e){super.setCSSDimensions(e),x1(this.upper.el,e),x1(this.container,e)}cleanupDOM(e){const r=this.container,{el:n}=this.lower,{el:i}=this.upper;super.cleanupDOM(e),r.removeChild(i),r.removeChild(n),r.parentNode&&r.parentNode.replaceChild(n,r)}dispose(){super.dispose(),rs().dispose(this.upper.el),delete this.upper,delete this.container}}class db extends dp{constructor(){super(...arguments),D(this,"targets",[]),D(this,"_hoveredTargets",[]),D(this,"_currentTransform",null),D(this,"_groupSelector",null),D(this,"contextTopDirty",!1)}static getDefaults(){return F(F({},super.getDefaults()),db.ownDefaults)}get upperCanvasEl(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.el}get contextTop(){var e;return(e=this.elements.upper)===null||e===void 0?void 0:e.ctx}get wrapperEl(){return this.elements.container}initElements(e){this.elements=new aPe(e,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(e){this._objectsToRender=void 0,super._onObjectAdded(e)}_onObjectRemoved(e){this._objectsToRender=void 0,e===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[e]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[e]}),e.fire("deselected",{target:e})),e===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(e)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(r=>!r.group&&r!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()}renderTop(){const e=this.contextTop;this.clearContext(e),this.renderTopLayer(e),this.fire("after:render",{ctx:e})}setTargetFindTolerance(e){e=Math.round(e),this.targetFindTolerance=e;const r=this.getRetinaScaling(),n=Math.ceil((2*e+1)*r);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=n,this.pixelFindContext.scale(r,r)}isTargetTransparent(e,r,n){const i=this.targetFindTolerance,s=this.pixelFindContext;this.clearContext(s),s.save(),s.translate(-r+i,-n+i),s.transform(...this.viewportTransform);const o=e.selectionBackgroundColor;e.selectionBackgroundColor="",e.render(s),e.selectionBackgroundColor=o,s.restore();const a=Math.round(i*this.getRetinaScaling());return dke(s,a,a,a)}_isSelectionKeyPressed(e){const r=this.selectionKey;return!!r&&(Array.isArray(r)?!!r.find(n=>!!n&&e[n]===!0):e[r])}_shouldClearSelection(e,r){const n=this.getActiveObjects(),i=this._activeObject;return!!(!r||r&&i&&n.length>1&&n.indexOf(r)===-1&&i!==r&&!this._isSelectionKeyPressed(e)||r&&!r.evented||r&&!r.selectable&&i&&i!==r)}_shouldCenterTransform(e,r,n){if(!e)return;let i;return r===ib||r===Gr||r===Fn||r===jf?i=this.centeredScaling||e.centeredScaling:r===NT&&(i=this.centeredRotation||e.centeredRotation),i?!n:n}_getOriginFromCorner(e,r){const n={x:e.originX,y:e.originY};return r&&(["ml","tl","bl"].includes(r)?n.x=Pt:["mr","tr","br"].includes(r)&&(n.x=Ye),["tl","mt","tr"].includes(r)?n.y=b1:["bl","mb","br"].includes(r)&&(n.y=Wr)),n}_setupCurrentTransform(e,r,n){var i;const s=r.group?Rc(this.getScenePoint(e),void 0,r.group.calcTransformMatrix()):this.getScenePoint(e),{key:o="",control:a}=r.getActiveControl()||{},l=n&&a?(i=a.getActionHandler(e,r,a))===null||i===void 0?void 0:i.bind(a):EEe,c=((f,m,p,v)=>{if(!m||!f)return"drag";const y=v.controls[m];return y.getActionName(p,y,v)})(n,o,e,r),u=e[this.centeredKey],d=this._shouldCenterTransform(r,c,u)?{x:Re,y:Re}:this._getOriginFromCorner(r,o),h={target:r,action:c,actionHandler:l,actionPerformed:!1,corner:o,scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,offsetX:s.x-r.left,offsetY:s.y-r.top,originX:d.x,originY:d.y,ex:s.x,ey:s.y,lastX:s.x,lastY:s.y,theta:At(r.angle),width:r.width,height:r.height,shiftKey:e.shiftKey,altKey:u,original:F(F({},DU(r)),{},{originX:d.x,originY:d.y})};this._currentTransform=h,this.fire("before:transform",{e,transform:h})}setCursor(e){this.upperCanvasEl.style.cursor=e}_drawSelection(e){const{x:r,y:n,deltaX:i,deltaY:s}=this._groupSelector,o=new W(r,n).transform(this.viewportTransform),a=new W(r+i,n+s).transform(this.viewportTransform),l=this.selectionLineWidth/2;let c=Math.min(o.x,a.x),u=Math.min(o.y,a.y),d=Math.max(o.x,a.x),h=Math.max(o.y,a.y);this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(c,u,d-c,h-u)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,c+=l,u+=l,d-=l,h-=l,br.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(c,u,d-c,h-u))}findTarget(e){if(this.skipTargetFind)return;const r=this.getViewportPoint(e),n=this._activeObject,i=this.getActiveObjects();if(this.targets=[],n&&i.length>=1){if(n.findControl(r,w1(e))||i.length>1&&this.searchPossibleTargets([n],r))return n;if(n===this.searchPossibleTargets([n],r)){if(this.preserveObjectStacking){const s=this.targets;this.targets=[];const o=this.searchPossibleTargets(this._objects,r);return e[this.altSelectionKey]&&o&&o!==n?(this.targets=s,n):o}return n}}return this.searchPossibleTargets(this._objects,r)}_pointIsInObjectSelectionArea(e,r){let n=e.getCoords();const i=this.getZoom(),s=e.padding/i;if(s){const[o,a,l,c]=n,u=Math.atan2(a.y-o.y,a.x-o.x),d=Ws(u)*s,h=Vs(u)*s,f=d+h,m=d-h;n=[new W(o.x-m,o.y-f),new W(a.x+f,a.y-m),new W(l.x+m,l.y+f),new W(c.x-f,c.y+m)]}return xt.isPointInPolygon(r,n)}_checkTarget(e,r){return!!(e&&e.visible&&e.evented&&this._pointIsInObjectSelectionArea(e,Rc(r,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing||!this.isTargetTransparent(e,r.x,r.y)))}_searchPossibleTargets(e,r){let n=e.length;for(;n--;){const i=e[n];if(this._checkTarget(i,r)){if(om(i)&&i.subTargetCheck){const s=this._searchPossibleTargets(i._objects,r);s&&this.targets.push(s)}return i}}}searchPossibleTargets(e,r){const n=this._searchPossibleTargets(e,r);if(n&&om(n)&&n.interactive&&this.targets[0]){const i=this.targets;for(let s=i.length-1;s>0;s--){const o=i[s];if(!om(o)||!o.interactive)return o}return i[0]}return n}getViewportPoint(e){return this._pointer?this._pointer:this.getPointer(e,!0)}getScenePoint(e){return this._absolutePointer?this._absolutePointer:this.getPointer(e)}getPointer(e){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const n=this.upperCanvasEl,i=n.getBoundingClientRect();let s=xEe(e),o=i.width||0,a=i.height||0;o&&a||(Wr in i&&b1 in i&&(a=Math.abs(i.top-i.bottom)),Pt in i&&Ye in i&&(o=Math.abs(i.right-i.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,r||(s=Rc(s,void 0,this.viewportTransform));const l=this.getRetinaScaling();l!==1&&(s.x/=l,s.y/=l);const c=o===0||a===0?new W(1,1):new W(n.width/o,n.height/a);return s.multiply(c)}_setDimensionsImpl(e,r){this._resetTransformEventData(),super._setDimensionsImpl(e,r),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Hs(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const e=this._activeObject;return ja(e)?e.getObjects():e?[e]:[]}_fireSelectionEvents(e,r){let n=!1,i=!1;const s=this.getActiveObjects(),o=[],a=[];e.forEach(l=>{s.includes(l)||(n=!0,l.fire("deselected",{e:r,target:l}),a.push(l))}),s.forEach(l=>{e.includes(l)||(n=!0,l.fire("selected",{e:r,target:l}),o.push(l))}),e.length>0&&s.length>0?(i=!0,n&&this.fire("selection:updated",{e:r,selected:o,deselected:a})):s.length>0?(i=!0,this.fire("selection:created",{e:r,selected:o})):e.length>0&&(i=!0,this.fire("selection:cleared",{e:r,deselected:a})),i&&(this._objectsToRender=void 0)}setActiveObject(e,r){const n=this.getActiveObjects(),i=this._setActiveObject(e,r);return this._fireSelectionEvents(n,r),i}_setActiveObject(e,r){const n=this._activeObject;return n!==e&&!(!this._discardActiveObject(r,e)&&this._activeObject)&&!e.onSelect({e:r})&&(this._activeObject=e,ja(e)&&n!==e&&e.set("canvas",this),e.setCoords(),!0)}_discardActiveObject(e,r){const n=this._activeObject;return!!n&&!n.onDeselect({e,object:r})&&(this._currentTransform&&this._currentTransform.target===n&&this.endCurrentTransform(e),ja(n)&&n===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(e){const r=this.getActiveObjects(),n=this.getActiveObject();r.length&&this.fire("before:selection:cleared",{e,deselected:[n]});const i=this._discardActiveObject(e);return this._fireSelectionEvents(r,e),i}endCurrentTransform(e){const r=this._currentTransform;this._finalizeCurrentTransform(e),r&&r.target&&(r.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(e){const r=this._currentTransform,n=r.target,i={e,target:n,transform:r,action:r.action};n._scaling&&(n._scaling=!1),n.setCoords(),r.actionPerformed&&(this.fire("object:modified",i),n.fire(iy,i))}setViewportTransform(e){super.setViewportTransform(e);const r=this._activeObject;r&&r.setCoords()}destroy(){const e=this._activeObject;ja(e)&&(e.removeAll(),e.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(e){const r=this._activeObject;r&&r._renderControls(e)}_toObject(e,r,n){const i=this._realizeGroupTransformOnObject(e),s=super._toObject(e,r,n);return e.set(i),s}_realizeGroupTransformOnObject(e){const{group:r}=e;if(r&&ja(r)&&this._activeObject===r){const n=ud(e,["angle","flipX","flipY",Ye,Gr,Fn,ad,ld,Wr]);return _Ee(e,r.calcOwnMatrix()),n}return{}}_setSVGObject(e,r,n){const i=this._realizeGroupTransformOnObject(r);super._setSVGObject(e,r,n),r.set(i)}}D(db,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class lPe{constructor(e){D(this,"targets",[]),D(this,"__disposer",void 0);const r=()=>{const{hiddenTextarea:i}=e.getActiveObject()||{};i&&i.focus()},n=e.upperCanvasEl;n.addEventListener("click",r),this.__disposer=()=>n.removeEventListener("click",r)}exitTextEditing(){this.target=void 0,this.targets.forEach(e=>{e.isEditing&&e.exitEditing()})}add(e){this.targets.push(e)}remove(e){this.unregister(e),Ql(this.targets,e)}register(e){this.target=e}unregister(e){e===this.target&&(this.target=void 0)}onMouseMove(e){var r;!((r=this.target)===null||r===void 0)&&r.isEditing&&this.target.updateSelectionOnMouseMove(e)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const cPe=["target","oldTarget","fireCanvas","e"],Xr={passive:!1},Yl=(t,e)=>{const r=t.getViewportPoint(e),n=t.getScenePoint(e);return{viewportPoint:r,scenePoint:n,pointer:r,absolutePointer:n}},lo=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.addEventListener(...r)},Sn=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.removeEventListener(...r)},uPe={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class P1 extends db{constructor(e){super(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),D(this,"_isClick",void 0),D(this,"textEditingManager",new lPe(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(r=>{this[r]=this[r].bind(this)}),this.addOrRemove(lo,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(e,r){const n=this.upperCanvasEl,i=this._getEventPrefix();e(RU(n),"resize",this._onResize),e(n,i+"down",this._onMouseDown),e(n,"".concat(i,"move"),this._onMouseMove,Xr),e(n,"".concat(i,"out"),this._onMouseOut),e(n,"".concat(i,"enter"),this._onMouseEnter),e(n,"wheel",this._onMouseWheel,{passive:!1}),e(n,"contextmenu",this._onContextMenu),e(n,"click",this._onClick),e(n,"dblclick",this._onClick),e(n,"dragstart",this._onDragStart),e(n,"dragend",this._onDragEnd),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,Xr)}removeListeners(){this.addOrRemove(Sn,"remove");const e=this._getEventPrefix(),r=gi(this.upperCanvasEl);Sn(r,"".concat(e,"up"),this._onMouseUp),Sn(r,"touchend",this._onTouchEnd,Xr),Sn(r,"".concat(e,"move"),this._onMouseMove,Xr),Sn(r,"touchmove",this._onMouseMove,Xr),clearTimeout(this._willAddMouseDown)}_onMouseWheel(e){this.__onMouseWheel(e)}_onMouseOut(e){const r=this._hoveredTarget,n=F({e},Yl(this,e));this.fire("mouse:out",F(F({},n),{},{target:r})),this._hoveredTarget=void 0,r&&r.fire("mouseout",F({},n)),this._hoveredTargets.forEach(i=>{this.fire("mouse:out",F(F({},n),{},{target:i})),i&&i.fire("mouseout",F({},n))}),this._hoveredTargets=[]}_onMouseEnter(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",F({e},Yl(this,e))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(e){this._isClick=!1;const r=this.getActiveObject();if(r&&r.onDragStart(e)){this._dragSource=r;const n={e,target:r};return this.fire("dragstart",n),r.fire("dragstart",n),void lo(this.upperCanvasEl,"drag",this._onDragProgress)}pR(e)}_renderDragEffects(e,r,n){let i=!1;const s=this._dropTarget;s&&s!==r&&s!==n&&(s.clearContextTop(),i=!0),r==null||r.clearContextTop(),n!==r&&(n==null||n.clearContextTop());const o=this.contextTop;o.save(),o.transform(...this.viewportTransform),r&&(o.save(),r.transform(o),r.renderDragSourceEffect(e),o.restore(),i=!0),n&&(o.save(),n.transform(o),n.renderDropTargetEffect(e),o.restore(),i=!0),o.restore(),i&&(this.contextTopDirty=!0)}_onDragEnd(e){const r=!!e.dataTransfer&&e.dataTransfer.dropEffect!==Vr,n=r?this._activeObject:void 0,i={e,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:r,dropTarget:n};Sn(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",i),this._dragSource&&this._dragSource.fire("dragend",i),delete this._dragSource,this._onMouseUp(e)}_onDragProgress(e){const r={e,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",r),this._dragSource&&this._dragSource.fire("drag",r)}findDragTargets(e){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(e)),targets:[...this.targets]}}_onDragOver(e){const r="dragover",{target:n,targets:i}=this.findDragTargets(e),s=this._dragSource,o={e,target:n,subTargets:i,dragSource:s,canDrop:!1,dropTarget:void 0};let a;this.fire(r,o),this._fireEnterLeaveEvents(n,o),n&&(n.canDrop(e)&&(a=n),n.fire(r,o));for(let l=0;l<i.length;l++){const c=i[l];c.canDrop(e)&&(a=c),c.fire(r,o)}this._renderDragEffects(e,s,a),this._dropTarget=a}_onDragEnter(e){const{target:r,targets:n}=this.findDragTargets(e),i={e,target:r,subTargets:n,dragSource:this._dragSource};this.fire("dragenter",i),this._fireEnterLeaveEvents(r,i)}_onDragLeave(e){const r={e,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",r),this._fireEnterLeaveEvents(void 0,r),this._renderDragEffects(e,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(e){const{target:r,targets:n}=this.findDragTargets(e),i=this._basicEventHandler("drop:before",F({e,target:r,subTargets:n,dragSource:this._dragSource},Yl(this,e)));i.didDrop=!1,i.dropTarget=void 0,this._basicEventHandler("drop",i),this.fire("drop:after",i)}_onContextMenu(e){const r=this.findTarget(e),n=this.targets||[],i=this._basicEventHandler("contextmenu:before",{e,target:r,subTargets:n});return this.stopContextMenu&&pR(e),this._basicEventHandler("contextmenu",i),!1}_onClick(e){const r=e.detail;r>3||r<2||(this._cacheTransformEventData(e),r==2&&e.type==="dblclick"&&this._handleEvent(e,"dblclick"),r==3&&this._handleEvent(e,"tripleclick"),this._resetTransformEventData())}getPointerId(e){const r=e.changedTouches;return r?r[0]&&r[0].identifier:this.enablePointerEvents?e.pointerId:-1}_isMainEvent(e){return e.isPrimary===!0||e.isPrimary!==!1&&(e.type==="touchend"&&e.touches.length===0||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(e){let r=!this.allowTouchScrolling;const n=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),(this.isDrawingMode||n&&this._target===n)&&(r=!0),r&&e.preventDefault(),this._resetTransformEventData();const i=this.upperCanvasEl,s=this._getEventPrefix(),o=gi(i);lo(o,"touchend",this._onTouchEnd,Xr),r&&lo(o,"touchmove",this._onMouseMove,Xr),Sn(i,"".concat(s,"down"),this._onMouseDown)}_onMouseDown(e){this.__onMouseDown(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();Sn(r,"".concat(n,"move"),this._onMouseMove,Xr);const i=gi(r);lo(i,"".concat(n,"up"),this._onMouseUp),lo(i,"".concat(n,"move"),this._onMouseMove,Xr)}_onTouchEnd(e){if(e.touches.length>0)return;this.__onMouseUp(e),this._resetTransformEventData(),delete this.mainTouchId;const r=this._getEventPrefix(),n=gi(this.upperCanvasEl);Sn(n,"touchend",this._onTouchEnd,Xr),Sn(n,"touchmove",this._onMouseMove,Xr),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{lo(this.upperCanvasEl,"".concat(r,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(e){this.__onMouseUp(e),this._resetTransformEventData();const r=this.upperCanvasEl,n=this._getEventPrefix();if(this._isMainEvent(e)){const i=gi(this.upperCanvasEl);Sn(i,"".concat(n,"up"),this._onMouseUp),Sn(i,"".concat(n,"move"),this._onMouseMove,Xr),lo(r,"".concat(n,"move"),this._onMouseMove,Xr)}}_onMouseMove(e){const r=this.getActiveObject();!this.allowTouchScrolling&&(!r||!r.shouldStartDragging(e))&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(e){const r=this.getActiveObject();return!!r!=!!e||r&&e&&r!==e}__onMouseUp(e){var r;this._cacheTransformEventData(e),this._handleEvent(e,"up:before");const n=this._currentTransform,i=this._isClick,s=this._target,{button:o}=e;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(e,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(e);if(!this._isMainEvent(e))return;let a,l,c=!1;if(n&&(this._finalizeCurrentTransform(e),c=n.actionPerformed),!i){const u=s===this._activeObject;this.handleSelection(e),c||(c=this._shouldRender(s)||!u&&s===this._activeObject)}if(s){const u=s.findControl(this.getViewportPoint(e),w1(e)),{key:d,control:h}=u||{};if(l=d,s.selectable&&s!==this._activeObject&&s.activeOn==="up")this.setActiveObject(s,e),c=!0;else if(h){const f=h.getMouseUpHandler(e,s,h);f&&(a=this.getScenePoint(e),f.call(h,e,n,a.x,a.y))}s.isMoving=!1}if(n&&(n.target!==s||n.corner!==l)){const u=n.target&&n.target.controls[n.corner],d=u&&u.getMouseUpHandler(e,n.target,u);a=a||this.getScenePoint(e),d&&d.call(u,e,n,a.x,a.y)}this._setCursorFromEvent(e,s),this._handleEvent(e,"up"),this._groupSelector=null,this._currentTransform=null,s&&(s.__corner=void 0),c?this.requestRenderAll():i||(r=this._activeObject)!==null&&r!==void 0&&r.isEditing||this.renderTop()}_basicEventHandler(e,r){const{target:n,subTargets:i=[]}=r;this.fire(e,r),n&&n.fire(e,r);for(let s=0;s<i.length;s++)i[s]!==n&&i[s].fire(e,r);return r}_handleEvent(e,r,n){const i=this._target,s=this.targets||[],o=F(F(F({e,target:i,subTargets:s},Yl(this,e)),{},{transform:this._currentTransform},r==="up:before"||r==="up"?{isClick:this._isClick,currentTarget:this.findTarget(e),currentSubTargets:this.targets}:{}),r==="down:before"||r==="down"?n:{});this.fire("mouse:".concat(r),o),i&&i.fire("mouse".concat(r),o);for(let a=0;a<s.length;a++)s[a]!==i&&s[a].fire("mouse".concat(r),o)}_onMouseDownInDrawingMode(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(e),this.requestRenderAll());const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(r,{e,pointer:r}),this._handleEvent(e,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(e){if(this._isCurrentlyDrawing){const r=this.getScenePoint(e);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(r,{e,pointer:r})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")}_onMouseUpInDrawingMode(e){const r=this.getScenePoint(e);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e,pointer:r}):this._isCurrentlyDrawing=!1,this._handleEvent(e,"up")}__onMouseDown(e){this._isClick=!0,this._cacheTransformEventData(e),this._handleEvent(e,"down:before");let r=this._target,n=!!r&&r===this._activeObject;const{button:i}=e;if(i)return(this.fireMiddleClick&&i===1||this.fireRightClick&&i===2)&&this._handleEvent(e,"down",{alreadySelected:n}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(e);if(!this._isMainEvent(e)||this._currentTransform)return;let s=this._shouldRender(r),o=!1;if(this.handleMultiSelection(e,r)?(r=this._activeObject,o=!0,s=!0):this._shouldClearSelection(e,r)&&this.discardActiveObject(e),this.selection&&(!r||!r.selectable&&!r.isEditing&&r!==this._activeObject)){const a=this.getScenePoint(e);this._groupSelector={x:a.x,y:a.y,deltaY:0,deltaX:0}}if(n=!!r&&r===this._activeObject,r){r.selectable&&r.activeOn==="down"&&this.setActiveObject(r,e);const a=r.findControl(this.getViewportPoint(e),w1(e));if(r===this._activeObject&&(a||!o)){this._setupCurrentTransform(e,r,n);const l=a?a.control:void 0,c=this.getScenePoint(e),u=l&&l.getMouseDownHandler(e,r,l);u&&u.call(l,e,this._currentTransform,c.x,c.y)}}s&&(this._objectsToRender=void 0),this._handleEvent(e,"down",{alreadySelected:n}),s&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(e){this._resetTransformEventData(),this._pointer=this.getViewportPoint(e),this._absolutePointer=Rc(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(e);if(!this._isMainEvent(e))return;const r=this._groupSelector;if(r){const n=this.getScenePoint(e);r.deltaX=n.x-r.x,r.deltaY=n.y-r.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{const n=this.findTarget(e);this._setCursorFromEvent(e,n),this._fireOverOutEvents(e,n)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}_fireOverOutEvents(e,r){const n=this._hoveredTarget,i=this._hoveredTargets,s=this.targets,o=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("mouse",{e,target:r,oldTarget:n,fireCanvas:!0});for(let a=0;a<o;a++)s[a]===r||i[a]&&i[a]===n||this.fireSyntheticInOutEvents("mouse",{e,target:s[a],oldTarget:i[a]});this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(e,r){const n=this._draggedoverTarget,i=this._hoveredTargets,s=this.targets,o=Math.max(i.length,s.length);this.fireSyntheticInOutEvents("drag",F(F({},r),{},{target:e,oldTarget:n,fireCanvas:!0}));for(let a=0;a<o;a++)this.fireSyntheticInOutEvents("drag",F(F({},r),{},{target:s[a],oldTarget:i[a]}));this._draggedoverTarget=e}fireSyntheticInOutEvents(e,r){let{target:n,oldTarget:i,fireCanvas:s,e:o}=r,a=mt(r,cPe);const{targetIn:l,targetOut:c,canvasIn:u,canvasOut:d}=uPe[e],h=i!==n;if(i&&h){const f=F(F({},a),{},{e:o,target:i,nextTarget:n},Yl(this,o));s&&this.fire(d,f),i.fire(c,f)}if(n&&h){const f=F(F({},a),{},{e:o,target:n,previousTarget:i},Yl(this,o));s&&this.fire(u,f),n.fire(l,f)}}__onMouseWheel(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()}_transformObject(e){const r=this.getScenePoint(e),n=this._currentTransform,i=n.target,s=i.group?Rc(r,void 0,i.group.calcTransformMatrix()):r;n.shiftKey=e.shiftKey,n.altKey=!!this.centeredKey&&e[this.centeredKey],this._performTransformAction(e,n,s),n.actionPerformed&&this.requestRenderAll()}_performTransformAction(e,r,n){const{action:i,actionHandler:s,target:o}=r,a=!!s&&s(e,r,n.x,n.y);a&&o.setCoords(),i==="drag"&&a&&(r.target.isMoving=!0,this.setCursor(r.target.moveCursor||this.moveCursor)),r.actionPerformed=r.actionPerformed||a}_setCursorFromEvent(e,r){if(!r)return void this.setCursor(this.defaultCursor);let n=r.hoverCursor||this.hoverCursor;const i=ja(this._activeObject)?this._activeObject:null,s=(!i||r.group!==i)&&r.findControl(this.getViewportPoint(e));if(s){const o=s.control;this.setCursor(o.cursorStyleHandler(e,o,r))}else r.subTargetCheck&&this.targets.concat().reverse().map(o=>{n=o.hoverCursor||n}),this.setCursor(n)}handleMultiSelection(e,r){const n=this._activeObject,i=ja(n);if(n&&this._isSelectionKeyPressed(e)&&this.selection&&r&&r.selectable&&(n!==r||i)&&(i||!r.isDescendantOf(n)&&!n.isDescendantOf(r))&&!r.onSelect({e})&&!n.getActiveControl()){if(i){const s=n.getObjects();if(r===n){const o=this.getViewportPoint(e);if(!(r=this.searchPossibleTargets(s,o)||this.searchPossibleTargets(this._objects,o))||!r.selectable)return!1}r.group===n?(n.remove(r),this._hoveredTarget=r,this._hoveredTargets=[...this.targets],n.size()===1&&this._setActiveObject(n.item(0),e)):(n.multiSelectAdd(r),this._hoveredTarget=n,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(s,e)}else{n.isEditing&&n.exitEditing();const s=new(ie.getClass("ActiveSelection"))([],{canvas:this});s.multiSelectAdd(n,r),this._hoveredTarget=s,this._setActiveObject(s,e),this._fireSelectionEvents([n],e)}return!0}return!1}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;const{x:r,y:n,deltaX:i,deltaY:s}=this._groupSelector,o=new W(r,n),a=o.add(new W(i,s)),l=o.min(a),c=o.max(a).subtract(l),u=this.collectObjects({left:l.x,top:l.y,width:c.x,height:c.y},{includeIntersecting:!this.selectionFullyContained}),d=o.eq(a)?u[0]?[u[0]]:[]:u.length>1?u.filter(h=>!h.onSelect({e})).reverse():u;if(d.length===1)this.setActiveObject(d[0],e);else if(d.length>1){const h=ie.getClass("ActiveSelection");this.setActiveObject(new h(d,{canvas:this}),e)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const dW={x1:0,y1:0,x2:0,y2:0},dPe=F(F({},dW),{},{r1:0,r2:0}),yc=(t,e)=>isNaN(t)&&typeof e=="number"?e:t;function hW(t){return t&&/%$/.test(t)&&Number.isFinite(parseFloat(t))}function fW(t,e){const r=typeof t=="number"?t:typeof t=="string"?parseFloat(t)/(hW(t)?100:1):NaN;return Ru(0,yc(r,e),1)}const hPe=/\s*;\s*/,fPe=/\s*:\s*/;function pPe(t,e){let r,n;const i=t.getAttribute("style");if(i){const o=i.split(hPe);o[o.length-1]===""&&o.pop();for(let a=o.length;a--;){const[l,c]=o[a].split(fPe).map(u=>u.trim());l==="stop-color"?r=c:l==="stop-opacity"&&(n=c)}}const s=new Ke(r||t.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:fW(t.getAttribute("offset"),0),color:s.toRgb(),opacity:yc(parseFloat(n||t.getAttribute("stop-opacity")||""),1)*s.getAlpha()*e}}function gPe(t,e){const r=[],n=t.getElementsByTagName("stop"),i=fW(e,1);for(let s=n.length;s--;)r.push(pPe(n[s],i));return r}function pW(t){return t.nodeName==="linearGradient"||t.nodeName==="LINEARGRADIENT"?"linear":"radial"}function gW(t){return t.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Qn(t,e){return t.getAttribute(e)}function mPe(t,e){return function(r,n){let i,{width:s,height:o,gradientUnits:a}=n;return Object.entries(r).reduce((l,c)=>{let[u,d]=c;if(d==="Infinity")i=1;else if(d==="-Infinity")i=0;else{const h=typeof d=="string";i=h?parseFloat(d):d,h&&hW(d)&&(i*=.01,a==="pixels"&&(u!=="x1"&&u!=="x2"&&u!=="r2"||(i*=s),u!=="y1"&&u!=="y2"||(i*=o)))}return l[u]=i,l},{})}(pW(t)==="linear"?function(r){return{x1:Qn(r,"x1")||0,y1:Qn(r,"y1")||0,x2:Qn(r,"x2")||"100%",y2:Qn(r,"y2")||0}}(t):function(r){return{x1:Qn(r,"fx")||Qn(r,"cx")||"50%",y1:Qn(r,"fy")||Qn(r,"cy")||"50%",r1:0,x2:Qn(r,"cx")||"50%",y2:Qn(r,"cy")||"50%",r2:Qn(r,"r")||"50%"}}(t),F(F({},e),{},{gradientUnits:gW(t)}))}class vg{constructor(e){const{type:r="linear",gradientUnits:n="pixels",coords:i={},colorStops:s=[],offsetX:o=0,offsetY:a=0,gradientTransform:l,id:c}=e||{};Object.assign(this,{type:r,gradientUnits:n,coords:F(F({},r==="radial"?dPe:dW),i),colorStops:s,offsetX:o,offsetY:a,gradientTransform:l,id:c?"".concat(c,"_").concat(Zo()):Zo()})}addColorStop(e){for(const r in e){const n=new Ke(e[r]);this.colorStops.push({offset:parseFloat(r),color:n.toRgb(),opacity:n.getAlpha()})}return this}toObject(e){return F(F({},ud(this,e)),{},{type:this.type,coords:F({},this.coords),colorStops:this.colorStops.map(r=>F({},r)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(e){let{additionalTransform:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[],i=this.gradientTransform?this.gradientTransform.concat():Ar.concat(),s=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",o=this.colorStops.map(d=>F({},d)).sort((d,h)=>d.offset-h.offset);let a=-this.offsetX,l=-this.offsetY;var c;s==="objectBoundingBox"?(a/=e.width,l/=e.height):(a+=e.width/2,l+=e.height/2),(c=e)&&typeof c._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(a-=e.pathOffset.x,l-=e.pathOffset.y),i[4]-=a,i[5]-=l;const u=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(s,'"'),'gradientTransform="'.concat(r?r+" ":"").concat(Nf(i),'"'),""].join(" ");if(this.type==="linear"){const{x1:d,y1:h,x2:f,y2:m}=this.coords;n.push("<linearGradient ",u,' x1="',d,'" y1="',h,'" x2="',f,'" y2="',m,`">
`)}else if(this.type==="radial"){const{x1:d,y1:h,x2:f,y2:m,r1:p,r2:v}=this.coords,y=p>v;n.push("<radialGradient ",u,' cx="',y?d:f,'" cy="',y?h:m,'" r="',y?p:v,'" fx="',y?f:d,'" fy="',y?m:h,`">
`),y&&(o.reverse(),o.forEach(x=>{x.offset=1-x.offset}));const b=Math.min(p,v);if(b>0){const x=b/Math.max(p,v);o.forEach(_=>{_.offset+=x*(1-_.offset)})}}return o.forEach(d=>{let{color:h,offset:f,opacity:m}=d;n.push("<stop ",'offset="',100*f+"%",'" style="stop-color:',h,m!==void 0?";stop-opacity: "+m:";",`"/>
`)}),n.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),n.join("")}toLive(e){const{x1:r,y1:n,x2:i,y2:s,r1:o,r2:a}=this.coords,l=this.type==="linear"?e.createLinearGradient(r,n,i,s):e.createRadialGradient(r,n,o,i,s,a);return this.colorStops.forEach(c=>{let{color:u,opacity:d,offset:h}=c;l.addColorStop(h,d!==void 0?new Ke(u).setAlpha(d).toRgba():u)}),l}static async fromObject(e){const{colorStops:r,gradientTransform:n}=e;return new this(F(F({},e),{},{colorStops:r?r.map(i=>F({},i)):void 0,gradientTransform:n?[...n]:void 0}))}static fromElement(e,r,n){const i=gW(e),s=r._findCenterFromElement();return new this(F({id:e.getAttribute("id")||void 0,type:pW(e),coords:mPe(e,{width:n.viewBoxWidth||n.width,height:n.viewBoxHeight||n.height}),colorStops:gPe(e,n.opacity),gradientUnits:i,gradientTransform:O1(e.getAttribute("gradientTransform")||"")},i==="pixels"?{offsetX:r.width/2-s.x,offsetY:r.height/2-s.y}:{offsetX:0,offsetY:0}))}}D(vg,"type","Gradient"),ie.setClass(vg,"gradient"),ie.setClass(vg,"linear"),ie.setClass(vg,"radial");const vPe=["type","source","patternTransform"];class Yx{get type(){return"pattern"}set type(e){Xo("warn","Setting type has no effect",e)}constructor(e){D(this,"repeat","repeat"),D(this,"offsetX",0),D(this,"offsetY",0),D(this,"crossOrigin",""),this.id=Zo(),Object.assign(this,e)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(e){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?e.createPattern(this.source,this.repeat):null}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:r,crossOrigin:n}=this;return F(F({},ud(this,e)),{},{type:"pattern",source:this.sourceToString(),repeat:r,crossOrigin:n,offsetX:lt(this.offsetX,Be.NUM_FRACTION_DIGITS),offsetY:lt(this.offsetY,Be.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(e){let{width:r,height:n}=e;const{source:i,repeat:s,id:o}=this,a=yc(this.offsetX/r,0),l=yc(this.offsetY/n,0),c=s==="repeat-y"||s==="no-repeat"?1+Math.abs(a||0):yc(i.width/r,0),u=s==="repeat-x"||s==="no-repeat"?1+Math.abs(l||0):yc(i.height/n,0);return['<pattern id="SVGID_'.concat(o,'" x="').concat(a,'" y="').concat(l,'" width="').concat(c,'" height="').concat(u,'">'),'<image x="0" y="0" width="'.concat(i.width,'" height="').concat(i.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(e,r){let{type:n,source:i,patternTransform:s}=e,o=mt(e,vPe);const a=await lm(i,F(F({},r),{},{crossOrigin:o.crossOrigin}));return new this(F(F({},o),{},{patternTransform:s&&s.slice(0),source:a}))}}D(Yx,"type","Pattern"),ie.setClass(Yx),ie.setClass(Yx,"pattern");class yPe{constructor(e){D(this,"color","rgb(0, 0, 0)"),D(this,"width",1),D(this,"shadow",null),D(this,"strokeLineCap","round"),D(this,"strokeLineJoin","round"),D(this,"strokeMiterLimit",10),D(this,"strokeDashArray",null),D(this,"limitedToCanvasSize",!1),this.canvas=e}_setBrushStyles(e){e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])}_saveAndTransform(e){const r=this.canvas.viewportTransform;e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}needsFullRender(){return new Ke(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const e=this.canvas,r=this.shadow,n=e.contextTop,i=e.getZoom()*e.getRetinaScaling();n.shadowColor=r.color,n.shadowBlur=r.blur*i,n.shadowOffsetX=r.offsetX*i,n.shadowOffsetY=r.offsetY*i}_resetShadow(){const e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}_isOutSideCanvas(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}}const bPe=["path","left","top"],xPe=["d"];class xo extends br{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:n,left:i,top:s}=r,o=mt(r,bPe);super(),Object.assign(this,xo.ownDefaults),this.setOptions(o),this._setPath(e||[],!0),typeof i=="number"&&this.set(Ye,i),typeof s=="number"&&this.set(Wr,s)}_setPath(e,r){this.path=Xke(Array.isArray(e)?e:sPe(e)),this.setBoundingBox(r)}_findCenterFromElement(){const e=this._calcBoundsFromPath();return new W(e.left+e.width/2,e.top+e.height/2)}_renderPathCommands(e){const r=-this.pathOffset.x,n=-this.pathOffset.y;e.beginPath();for(const i of this.path)switch(i[0]){case"L":e.lineTo(i[1]+r,i[2]+n);break;case"M":e.moveTo(i[1]+r,i[2]+n);break;case"C":e.bezierCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n,i[5]+r,i[6]+n);break;case"Q":e.quadraticCurveTo(i[1]+r,i[2]+n,i[3]+r,i[4]+n);break;case"Z":e.closePath()}}_render(e){this._renderPathCommands(e),this._renderPaintInOrder(e)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject(e)),{},{path:this.path.map(r=>r.slice())})}toDatalessObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.toObject(e);return this.sourcePath&&(delete r.path,r.sourcePath=this.sourcePath),r}_toSVG(){const e=uW(this.path,Be.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(e,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const e=Be.NUM_FRACTION_DIGITS;return" translate(".concat(lt(-this.pathOffset.x,e),", ").concat(lt(-this.pathOffset.y,e),")")}toClipPathSVG(e){const r=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}toSVG(e){const r=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:r})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{width:r,height:n,pathOffset:i}=this._calcDimensions();this.set({width:r,height:n,pathOffset:i}),e&&this.setPositionByOrigin(i,Re,Re)}_calcBoundsFromPath(){const e=[];let r=0,n=0,i=0,s=0;for(const o of this.path)switch(o[0]){case"L":i=o[1],s=o[2],e.push({x:r,y:n},{x:i,y:s});break;case"M":i=o[1],s=o[2],r=i,n=s;break;case"C":e.push(...BR(i,s,o[1],o[2],o[3],o[4],o[5],o[6])),i=o[5],s=o[6];break;case"Q":e.push(...BR(i,s,o[1],o[2],o[1],o[2],o[3],o[4])),i=o[3],s=o[4];break;case"Z":i=r,s=n}return Rs(e)}_calcDimensions(){const e=this._calcBoundsFromPath();return F(F({},e),{},{pathOffset:new W(e.left+e.width/2,e.top+e.height/2)})}static fromObject(e){return this._fromObject(e,{extraParam:"path"})}static async fromElement(e,r,n){const i=Qs(e,this.ATTRIBUTE_NAMES,n),{d:s}=i;return new this(s,F(F(F({},mt(i,xPe)),r),{},{left:void 0,top:void 0}))}}D(xo,"type","Path"),D(xo,"cacheProperties",[...Js,"path","fillRule"]),D(xo,"ATTRIBUTE_NAMES",[...ca,"d"]),ie.setClass(xo),ie.setSVGClass(xo);class Dc extends yPe{constructor(e){super(e),D(this,"decimate",.4),D(this,"drawStraightLine",!1),D(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(e,r,n){const i=r.midPointFrom(n);return e.quadraticCurveTo(r.x,r.y,i.x,i.y),i}onMouseDown(e,r){let{e:n}=r;this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],this._prepareForDrawing(e),this._addPoint(e),this._render())}onMouseMove(e,r){let{e:n}=r;if(this.canvas._isMainEvent(n)&&(this.drawStraightLine=!!this.straightLineKey&&n[this.straightLineKey],(this.limitedToCanvasSize!==!0||!this._isOutSideCanvas(e))&&this._addPoint(e)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const i=this._points,s=i.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=Dc.drawSegment(o,i[s-2],i[s-1]),o.stroke(),o.restore()}}onMouseUp(e){let{e:r}=e;return!this.canvas._isMainEvent(r)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(e){this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)}_addPoint(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(e),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.canvas.contextTop,r=this._points[0],n=this._points[1];if(this._saveAndTransform(e),e.beginPath(),this._points.length===2&&r.x===n.x&&r.y===n.y){const i=this.width/1e3;r.x-=i,n.x+=i}e.moveTo(r.x,r.y);for(let i=1;i<this._points.length;i++)Dc.drawSegment(e,r,n),r=this._points[i],n=this._points[i+1];e.lineTo(r.x,r.y),e.stroke(),e.restore()}convertPointsToSVGPath(e){const r=this.width/1e3;return oPe(e,r)}createPath(e){const r=new xo(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,r.shadow=new Ji(this.shadow)),r}decimatePoints(e,r){if(e.length<=2)return e;let n,i=e[0];const s=this.canvas.getZoom(),o=Math.pow(r/s,2),a=e.length-1,l=[i];for(let c=1;c<a-1;c++)n=Math.pow(i.x-e[c].x,2)+Math.pow(i.y-e[c].y,2),n>=o&&(i=e[c],l.push(i));return l.push(e[a]),l}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const e=this.convertPointsToSVGPath(this._points);if(function(n){return uW(n)==="M 0 0 Q 0 0 0 0 L 0 0"}(e))return void this.canvas.requestRenderAll();const r=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:r}),this.canvas.add(r),this.canvas.requestRenderAll(),r.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:r})}}const wPe=["left","top","radius"],mW=["radius","startAngle","endAngle","counterClockwise"];class vs extends br{static getDefaults(){return F(F({},super.getDefaults()),vs.ownDefaults)}constructor(e){super(),Object.assign(this,vs.ownDefaults),this.setOptions(e)}_set(e,r){return super._set(e,r),e==="radius"&&this.setRadius(r),this}_render(e){e.beginPath(),e.arc(0,0,this.radius,At(this.startAngle),At(this.endAngle),this.counterClockwise),this._renderPaintInOrder(e)}getRadiusX(){return this.get("radius")*this.get(Gr)}getRadiusY(){return this.get("radius")*this.get(Fn)}setRadius(e){this.radius=e,this.set({width:2*e,height:2*e})}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...mW,...e])}_toSVG(){const e=(this.endAngle-this.startAngle)%360;if(e===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:r}=this,n=At(this.startAngle),i=At(this.endAngle),s=Ws(n)*r,o=Vs(n)*r,a=Ws(i)*r,l=Vs(i)*r,c=e>180?1:0,u=this.counterClockwise?0:1;return['<path d="M '.concat(s," ").concat(o," A ").concat(r," ").concat(r," 0 ").concat(c," ").concat(u," ").concat(a," ").concat(l,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(e,r,n){const i=Qs(e,this.ATTRIBUTE_NAMES,n),{left:s=0,top:o=0,radius:a=0}=i;return new this(F(F({},mt(i,wPe)),{},{radius:a,left:s-a,top:o-a}))}static fromObject(e){return super._fromObject(e)}}D(vs,"type","Circle"),D(vs,"cacheProperties",[...Js,...mW]),D(vs,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),D(vs,"ATTRIBUTE_NAMES",["cx","cy","r",...ca]),ie.setClass(vs),ie.setSVGClass(vs);const _Pe=["x1","y1","x2","y2"],SPe=["x1","y1","x2","y2"],j1=["x1","x2","y1","y2"];class Aa extends br{constructor(){let[e,r,n,i]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Aa.ownDefaults),this.setOptions(s),this.x1=e,this.x2=n,this.y1=r,this.y2=i,this._setWidthHeight();const{left:o,top:a}=s;typeof o=="number"&&this.set(Ye,o),typeof a=="number"&&this.set(Wr,a)}_setWidthHeight(){const{x1:e,y1:r,x2:n,y2:i}=this;this.width=Math.abs(n-e),this.height=Math.abs(i-r);const{left:s,top:o,width:a,height:l}=Rs([{x:e,y:r},{x:n,y:i}]),c=new W(s+a/2,o+l/2);this.setPositionByOrigin(c,Re,Re)}_set(e,r){return super._set(e,r),j1.includes(e)&&this._setWidthHeight(),this}_render(e){e.beginPath();const r=this.calcLinePoints();e.moveTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineWidth=this.strokeWidth;const n=e.strokeStyle;var i;jn(this.stroke)?e.strokeStyle=this.stroke.toLive(e):e.strokeStyle=(i=this.stroke)!==null&&i!==void 0?i:e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n}_findCenterFromElement(){return new W((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject(e)),this.calcLinePoints())}_getNonTransformedDimensions(){const e=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(e.y-=this.strokeWidth),this.height===0&&(e.x-=this.strokeWidth)),e}calcLinePoints(){const{x1:e,x2:r,y1:n,y2:i,width:s,height:o}=this,a=e<=r?-1:1,l=n<=i?-1:1;return{x1:a*s/2,x2:a*-s/2,y1:l*o/2,y2:l*-o/2}}_toSVG(){const{x1:e,x2:r,y1:n,y2:i}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(e,'" y1="').concat(n,'" x2="').concat(r,'" y2="').concat(i,`" />
`)]}static async fromElement(e,r,n){const i=Qs(e,this.ATTRIBUTE_NAMES,n),{x1:s=0,y1:o=0,x2:a=0,y2:l=0}=i;return new this([s,o,a,l],mt(i,_Pe))}static fromObject(e){let{x1:r,y1:n,x2:i,y2:s}=e,o=mt(e,SPe);return this._fromObject(F(F({},o),{},{points:[r,n,i,s]}),{extraParam:"points"})}}D(Aa,"type","Line"),D(Aa,"cacheProperties",[...Js,...j1]),D(Aa,"ATTRIBUTE_NAMES",ca.concat(j1)),ie.setClass(Aa),ie.setSVGClass(Aa);class Ba extends br{static getDefaults(){return F(F({},super.getDefaults()),Ba.ownDefaults)}constructor(e){super(),Object.assign(this,Ba.ownDefaults),this.setOptions(e)}_render(e){const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,n),e.lineTo(0,-n),e.lineTo(r,n),e.closePath(),this._renderPaintInOrder(e)}_toSVG(){const e=this.width/2,r=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-e," ").concat(r,",0 ").concat(-r,",").concat(e," ").concat(r),'" />']}}D(Ba,"type","Triangle"),D(Ba,"ownDefaults",{width:100,height:100}),ie.setClass(Ba),ie.setSVGClass(Ba);const vW=["rx","ry"];class ys extends br{static getDefaults(){return F(F({},super.getDefaults()),ys.ownDefaults)}constructor(e){super(),Object.assign(this,ys.ownDefaults),this.setOptions(e)}_set(e,r){switch(super._set(e,r),e){case"rx":this.rx=r,this.set("width",2*r);break;case"ry":this.ry=r,this.set("height",2*r)}return this}getRx(){return this.get("rx")*this.get(Gr)}getRy(){return this.get("ry")*this.get(Fn)}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...vW,...e])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,ry,!1),e.restore(),this._renderPaintInOrder(e)}static async fromElement(e,r,n){const i=Qs(e,this.ATTRIBUTE_NAMES,n);return i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,new this(i)}}function CPe(t){if(!t)return[];const e=t.replace(/,/g," ").trim().split(/\s+/),r=[];for(let n=0;n<e.length;n+=2)r.push({x:parseFloat(e[n]),y:parseFloat(e[n+1])});return r}D(ys,"type","Ellipse"),D(ys,"cacheProperties",[...Js,...vW]),D(ys,"ownDefaults",{rx:0,ry:0}),D(ys,"ATTRIBUTE_NAMES",[...ca,"cx","cy","rx","ry"]),ie.setClass(ys),ie.setSVGClass(ys);const OPe=["left","top"],yW={exactBoundingBox:!1};class hi extends br{static getDefaults(){return F(F({},super.getDefaults()),hi.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),D(this,"strokeDiff",void 0),Object.assign(this,hi.ownDefaults),this.setOptions(r),this.points=e;const{left:n,top:i}=r;this.initialized=!0,this.setBoundingBox(!0),typeof n=="number"&&this.set(Ye,n),typeof i=="number"&&this.set(Wr,i)}isOpen(){return!0}_projectStrokeOnPoints(e){return fke(this.points,e,this.isOpen())}_calcDimensions(e){e=F({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},e||{});const r=this.exactBoundingBox?this._projectStrokeOnPoints(e).map(c=>c.projectedPoint):this.points;if(r.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new W,strokeOffset:new W,strokeDiff:new W};const n=Rs(r),i=sb(F(F({},e),{},{scaleX:1,scaleY:1})),s=Rs(this.points.map(c=>Dr(c,i,!0))),o=new W(this.scaleX,this.scaleY);let a=n.left+n.width/2,l=n.top+n.height/2;return this.exactBoundingBox&&(a-=l*Math.tan(At(this.skewX)),l-=a*Math.tan(At(this.skewY))),F(F({},n),{},{pathOffset:new W(a,l),strokeOffset:new W(s.left,s.top).subtract(new W(n.left,n.top)).multiply(o),strokeDiff:new W(n.width,n.height).subtract(new W(s.width,s.height)).multiply(o)})}_findCenterFromElement(){const e=Rs(this.points);return new W(e.left+e.width/2,e.top+e.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(e){const{left:r,top:n,width:i,height:s,pathOffset:o,strokeOffset:a,strokeDiff:l}=this._calcDimensions();this.set({width:i,height:s,pathOffset:o,strokeOffset:a,strokeDiff:l}),e&&this.setPositionByOrigin(new W(r+i/2,n+s/2),Re,Re)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new W(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let o;if(Object.keys(e).some(a=>this.strokeUniform||this.constructor.layoutProperties.includes(a))){var r,n;const{width:a,height:l}=this._calcDimensions(e);o=new W((r=e.width)!==null&&r!==void 0?r:a,(n=e.height)!==null&&n!==void 0?n:l)}else{var i,s;o=new W((i=e.width)!==null&&i!==void 0?i:this.width,(s=e.height)!==null&&s!==void 0?s:this.height)}return o.multiply(new W(e.scaleX||this.scaleX,e.scaleY||this.scaleY))}return super._getTransformedDimensions(e)}_set(e,r){const n=this.initialized&&this[e]!==r,i=super._set(e,r);return this.exactBoundingBox&&n&&((e===Gr||e===Fn)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(e))&&this.setDimensions(),i}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject(e)),{},{points:this.points.map(r=>{let{x:n,y:i}=r;return{x:n,y:i}})})}_toSVG(){const e=[],r=this.pathOffset.x,n=this.pathOffset.y,i=Be.NUM_FRACTION_DIGITS;for(let s=0,o=this.points.length;s<o;s++)e.push(lt(this.points[s].x-r,i),",",lt(this.points[s].y-n,i)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(e.join(""),`" />
`)]}_render(e){const r=this.points.length,n=this.pathOffset.x,i=this.pathOffset.y;if(r&&!isNaN(this.points[r-1].y)){e.beginPath(),e.moveTo(this.points[0].x-n,this.points[0].y-i);for(let s=0;s<r;s++){const o=this.points[s];e.lineTo(o.x-n,o.y-i)}!this.isOpen()&&e.closePath(),this._renderPaintInOrder(e)}}complexity(){return this.points.length}static async fromElement(e,r,n){return new this(CPe(e.getAttribute("points")),F(F({},mt(Qs(e,this.ATTRIBUTE_NAMES,n),OPe)),r))}static fromObject(e){return this._fromObject(e,{extraParam:"points"})}}D(hi,"ownDefaults",yW),D(hi,"type","Polyline"),D(hi,"layoutProperties",[ad,ld,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),D(hi,"cacheProperties",[...Js,"points"]),D(hi,"ATTRIBUTE_NAMES",[...ca]),ie.setClass(hi),ie.setSVGClass(hi);class yg extends hi{isOpen(){return!1}}D(yg,"ownDefaults",yW),D(yg,"type","Polygon"),ie.setClass(yg),ie.setSVGClass(yg);class bW extends br{isEmptyStyles(e){if(!this.styles||e!==void 0&&!this.styles[e])return!0;const r=e===void 0?this.styles:{line:this.styles[e]};for(const n in r)for(const i in r[n])for(const s in r[n][i])return!1;return!0}styleHas(e,r){if(!this.styles||r!==void 0&&!this.styles[r])return!1;const n=r===void 0?this.styles:{0:this.styles[r]};for(const i in n)for(const s in n[i])if(n[i][s][e]!==void 0)return!0;return!1}cleanStyle(e){if(!this.styles)return!1;const r=this.styles;let n,i,s=0,o=!0,a=0;for(const l in r){n=0;for(const c in r[l]){const u=r[l][c]||{};s++,u[e]!==void 0?(i?u[e]!==i&&(o=!1):i=u[e],u[e]===this[e]&&delete u[e]):o=!1,Object.keys(u).length!==0?n++:delete r[l][c]}n===0&&delete r[l]}for(let l=0;l<this._textLines.length;l++)a+=this._textLines[l].length;o&&s===a&&(this[e]=i,this.removeStyle(e))}removeStyle(e){if(!this.styles)return;const r=this.styles;let n,i,s;for(i in r){for(s in n=r[i],n)delete n[s][e],Object.keys(n[s]).length===0&&delete n[s];Object.keys(n).length===0&&delete r[i]}}_extendStyles(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);this._getLineStyle(n)||this._setLineStyle(n);const s=DT(F(F({},this._getStyleDeclaration(n,i)),r),o=>o!==void 0);this._setStyleDeclaration(n,i,s)}getSelectionStyles(e,r,n){const i=[];for(let s=e;s<(r||e);s++)i.push(this.getStyleAtPosition(s,n));return i}getStyleAtPosition(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e);return r?this.getCompleteStyleDeclaration(n,i):this._getStyleDeclaration(n,i)}setSelectionStyles(e,r,n){for(let i=r;i<(n||r);i++)this._extendStyles(i,e);this._forceClearCache=!0}_getStyleDeclaration(e,r){var n;const i=this.styles&&this.styles[e];return i&&(n=i[r])!==null&&n!==void 0?n:{}}getCompleteStyleDeclaration(e,r){return F(F({},ud(this,this.constructor._styleProperties)),this._getStyleDeclaration(e,r))}_setStyleDeclaration(e,r,n){this.styles[e][r]=n}_deleteStyleDeclaration(e,r){delete this.styles[e][r]}_getLineStyle(e){return!!this.styles[e]}_setLineStyle(e){this.styles[e]={}}_deleteLineStyle(e){delete this.styles[e]}}D(bW,"_styleProperties",PEe);const TPe=/  +/g,EPe=/"/g;function Xx(t,e,r,n,i){return"		".concat(function(s,o){let{left:a,top:l,width:c,height:u}=o,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Be.NUM_FRACTION_DIGITS;const h=Rf(Yt,s,!1),[f,m,p,v]=[a,l,c,u].map(y=>lt(y,d));return"<rect ".concat(h,' x="').concat(f,'" y="').concat(m,'" width="').concat(p,'" height="').concat(v,'"></rect>')}(t,{left:e,top:r,width:n,height:i}),`
`)}const kPe=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Zx;class Sr extends bW{static getDefaults(){return F(F({},super.getDefaults()),Sr.ownDefaults)}constructor(e,r){super(),D(this,"__charBounds",[]),Object.assign(this,Sr.ownDefaults),this.setOptions(r),this.styles||(this.styles={}),this.text=e,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const e=this.path;e&&(e.segmentsInfo=cW(e.path))}_splitText(){const e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Ui)&&this.enlargeSpaces()}enlargeSpaces(){let e,r,n,i,s,o,a;for(let l=0,c=this._textLines.length;l<c;l++)if((this.textAlign===Ui||l!==c-1&&!this.isEndOfWrapping(l))&&(i=0,s=this._textLines[l],r=this.getLineWidth(l),r<this.width&&(a=this.textLines[l].match(this._reSpacesAndTabs)))){n=a.length,e=(this.width-r)/n;for(let u=0;u<=s.length;u++)o=this.__charBounds[l][u],this._reSpaceAndTab.test(s[u])?(o.width+=e,o.kernedWidth+=e,o.left+=i,i+=e):o.left+=i}}isEndOfWrapping(e){return e===this._textLines.length-1}missingNewlineOffset(e){return 1}get2DCursorLocation(e,r){const n=r?this._unwrappedTextLines:this._textLines;let i;for(i=0;i<n.length;i++){if(e<=n[i].length)return{lineIndex:i,charIndex:e};e-=n[i].length+this.missingNewlineOffset(i,r)}return{lineIndex:i-1,charIndex:n[i-1].length<e?n[i-1].length:e}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const e=super._getCacheCanvasDimensions(),r=this.fontSize;return e.width+=r*e.zoomX,e.height+=r*e.zoomY,e}_render(e){const r=this.path;r&&!r.isNotVisible()&&r._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")}_renderText(e){this.paintFirst===Hr?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))}_setTextStyles(e,r,n){if(e.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Re:e.textBaseline="middle";break;case"ascender":e.textBaseline=Wr;break;case"descender":e.textBaseline=b1}e.font=this._getFontDeclaration(r,n)}calcTextWidth(){let e=this.getLineWidth(0);for(let r=1,n=this._textLines.length;r<n;r++){const i=this.getLineWidth(r);i>e&&(e=i)}return e}_renderTextLine(e,r,n,i,s,o){this._renderChars(e,r,n,i,s,o)}_renderTextLinesBackground(e){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const r=e.fillStyle,n=this._getLeftOffset();let i=this._getTopOffset();for(let s=0,o=this._textLines.length;s<o;s++){const a=this.getHeightOfLine(s);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",s)){i+=a;continue}const l=this._textLines[s].length,c=this._getLineLeftOffset(s);let u,d,h=0,f=0,m=this.getValueOfPropertyAt(s,0,"textBackgroundColor");const p=this.getHeightOfLineImpl(s);for(let v=0;v<l;v++){const y=this.__charBounds[s][v];d=this.getValueOfPropertyAt(s,v,"textBackgroundColor"),this.path?(e.save(),e.translate(y.renderLeft,y.renderTop),e.rotate(y.angle),e.fillStyle=d,d&&e.fillRect(-y.width/2,-p*(1-this._fontSizeFraction),y.width,p),e.restore()):d!==m?(u=n+c+f,this.direction==="rtl"&&(u=this.width-u-h),e.fillStyle=m,m&&e.fillRect(u,i,h,p),f=y.left,h=y.width,m=d):h+=y.kernedWidth}d&&!this.path&&(u=n+c+f,this.direction==="rtl"&&(u=this.width-u-h),e.fillStyle=d,e.fillRect(u,i,h,p)),i+=a}e.fillStyle=r,this._removeShadow(e)}_measureChar(e,r,n,i){const s=gh.getFontCache(r),o=this._getFontDeclaration(r),a=n+e,l=n&&o===this._getFontDeclaration(i),c=r.fontSize/this.CACHE_FONT_SIZE;let u,d,h,f;if(n&&s.has(n)&&(h=s.get(n)),s.has(e)&&(f=u=s.get(e)),l&&s.has(a)&&(d=s.get(a),f=d-h),u===void 0||h===void 0||d===void 0){const m=function(){return Zx||(Zx=Bn({width:0,height:0}).getContext("2d")),Zx}();this._setTextStyles(m,r,!0),u===void 0&&(f=u=m.measureText(e).width,s.set(e,u)),h===void 0&&l&&n&&(h=m.measureText(n).width,s.set(n,h)),l&&d===void 0&&(d=m.measureText(a).width,s.set(a,d),f=d-h)}return{width:u*c,kernedWidth:f*c}}getHeightOfChar(e,r){return this.getValueOfPropertyAt(e,r,"fontSize")}measureLine(e){const r=this._measureLine(e);return this.charSpacing!==0&&(r.width-=this._getWidthOfCharSpacing()),r.width<0&&(r.width=0),r}_measureLine(e){let r,n,i=0;const s=this.pathSide===Pt,o=this.path,a=this._textLines[e],l=a.length,c=new Array(l);this.__charBounds[e]=c;for(let u=0;u<l;u++){const d=a[u];n=this._getGraphemeBox(d,e,u,r),c[u]=n,i+=n.kernedWidth,r=d}if(c[l]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},o&&o.segmentsInfo){let u=0;const d=o.segmentsInfo[o.segmentsInfo.length-1].length;switch(this.textAlign){case Ye:u=s?d-i:0;break;case Re:u=(d-i)/2;break;case Pt:u=s?0:d-i}u+=this.pathStartOffset*(s?-1:1);for(let h=s?l-1:0;s?h>=0:h<l;s?h--:h++)n=c[h],u>d?u%=d:u<0&&(u+=d),this._setGraphemeOnPath(u,n),u+=n.kernedWidth}return{width:i,numOfSpaces:0}}_setGraphemeOnPath(e,r){const n=e+r.kernedWidth/2,i=this.path,s=tPe(i.path,n,i.segmentsInfo);r.renderLeft=s.x-i.pathOffset.x,r.renderTop=s.y-i.pathOffset.y,r.angle=s.angle+(this.pathSide===Pt?Math.PI:0)}_getGraphemeBox(e,r,n,i,s){const o=this.getCompleteStyleDeclaration(r,n),a=i?this.getCompleteStyleDeclaration(r,n-1):{},l=this._measureChar(e,o,i,a);let c,u=l.kernedWidth,d=l.width;this.charSpacing!==0&&(c=this._getWidthOfCharSpacing(),d+=c,u+=c);const h={width:d,left:0,height:o.fontSize,kernedWidth:u,deltaY:o.deltaY};if(n>0&&!s){const f=this.__charBounds[r][n-1];h.left=f.left+f.width+l.kernedWidth-l.width}return h}getHeightOfLineImpl(e){const r=this.__lineHeights;if(r[e])return r[e];let n=this.getHeightOfChar(e,0);for(let i=1,s=this._textLines[e].length;i<s;i++)n=Math.max(this.getHeightOfChar(e,i),n);return r[e]=n*this._fontSizeMult}getHeightOfLine(e){return this.getHeightOfLineImpl(e)*this.lineHeight}calcTextHeight(){let e=0;for(let r=0,n=this._textLines.length;r<n;r++)e+=r===n-1?this.getHeightOfLineImpl(r):this.getHeightOfLine(r);return e}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(e,r){e.save();let n=0;const i=this._getLeftOffset(),s=this._getTopOffset();for(let o=0,a=this._textLines.length;o<a;o++)this._renderTextLine(r,e,this._textLines[o],i+this._getLineLeftOffset(o),s+n+this.getHeightOfLineImpl(o),o),n+=this.getHeightOfLine(o);e.restore()}_renderTextFill(e){(this.fill||this.styleHas(Yt))&&this._renderTextCommon(e,"fillText")}_renderTextStroke(e){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())}_renderChars(e,r,n,i,s,o){const a=this.textAlign.includes(Ui),l=this.path,c=!a&&this.charSpacing===0&&this.isEmptyStyles(o)&&!l,u=this.direction==="ltr",d=this.direction==="ltr"?1:-1,h=r.direction;let f,m,p,v,y,b="",x=0;if(r.save(),h!==this.direction&&(r.canvas.setAttribute("dir",u?"ltr":"rtl"),r.direction=u?"ltr":"rtl",r.textAlign=u?Ye:Pt),s-=this.getHeightOfLineImpl(o)*this._fontSizeFraction,c)return this._renderChar(e,r,o,0,n.join(""),i,s),void r.restore();for(let _=0,S=n.length-1;_<=S;_++)v=_===S||this.charSpacing||l,b+=n[_],p=this.__charBounds[o][_],x===0?(i+=d*(p.kernedWidth-p.width),x+=p.width):x+=p.kernedWidth,a&&!v&&this._reSpaceAndTab.test(n[_])&&(v=!0),v||(f=f||this.getCompleteStyleDeclaration(o,_),m=this.getCompleteStyleDeclaration(o,_+1),v=VT(f,m,!1)),v&&(l?(r.save(),r.translate(p.renderLeft,p.renderTop),r.rotate(p.angle),this._renderChar(e,r,o,_,b,-x/2,0),r.restore()):(y=i,this._renderChar(e,r,o,_,b,y,s)),b="",f=m,i+=d*x,x=0);r.restore()}_applyPatternGradientTransformText(e){const r=this.width+this.strokeWidth,n=this.height+this.strokeWidth,i=Bn({width:r,height:n}),s=i.getContext("2d");return i.width=r,i.height=n,s.beginPath(),s.moveTo(0,0),s.lineTo(r,0),s.lineTo(r,n),s.lineTo(0,n),s.closePath(),s.translate(r/2,n/2),s.fillStyle=e.toLive(s),this._applyPatternGradientTransform(s,e),s.fill(),s.createPattern(i,"no-repeat")}handleFiller(e,r,n){let i,s;return jn(n)?n.gradientUnits==="percentage"||n.gradientTransform||n.patternTransform?(i=-this.width/2,s=-this.height/2,e.translate(i,s),e[r]=this._applyPatternGradientTransformText(n),{offsetX:i,offsetY:s}):(e[r]=n.toLive(e),this._applyPatternGradientTransform(e,n)):(e[r]=n,{offsetX:0,offsetY:0})}_setStrokeStyles(e,r){let{stroke:n,strokeWidth:i}=r;return e.lineWidth=i,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",n)}_setFillStyles(e,r){let{fill:n}=r;return this.handleFiller(e,"fillStyle",n)}_renderChar(e,r,n,i,s,o,a){const l=this._getStyleDeclaration(n,i),c=this.getCompleteStyleDeclaration(n,i),u=e==="fillText"&&c.fill,d=e==="strokeText"&&c.stroke&&c.strokeWidth;if(d||u){if(r.save(),r.font=this._getFontDeclaration(c),l.textBackgroundColor&&this._removeShadow(r),l.deltaY&&(a+=l.deltaY),u){const h=this._setFillStyles(r,c);r.fillText(s,o-h.offsetX,a-h.offsetY)}if(d){const h=this._setStrokeStyles(r,c);r.strokeText(s,o-h.offsetX,a-h.offsetY)}r.restore()}}setSuperscript(e,r){this._setScript(e,r,this.superscript)}setSubscript(e,r){this._setScript(e,r,this.subscript)}_setScript(e,r,n){const i=this.get2DCursorLocation(e,!0),s=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),o=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),a={fontSize:s*n.size,deltaY:o+s*n.baseline};this.setSelectionStyles(a,e,r)}_getLineLeftOffset(e){const r=this.getLineWidth(e),n=this.width-r,i=this.textAlign,s=this.direction,o=this.isEndOfWrapping(e);let a=0;return i===Ui||i===vh&&!o||i===mh&&!o||i===uy&&!o?0:(i===Re&&(a=n/2),i===Pt&&(a=n),i===vh&&(a=n/2),i===mh&&(a=n),s==="rtl"&&(i===Pt||i===Ui||i===mh?a=0:i===Ye||i===uy?a=-n:i!==Re&&i!==vh||(a=-n/2)),a)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];const{width:r}=this.measureLine(e);return this.__lineWidths[e]=r,r}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(e,r,n){var i;return(i=this._getStyleDeclaration(e,r)[n])!==null&&i!==void 0?i:this[n]}_renderTextDecoration(e,r){if(!this[r]&&!this.styleHas(r))return;let n=this._getTopOffset();const i=this._getLeftOffset(),s=this.path,o=this._getWidthOfCharSpacing(),a=r==="linethrough"?.5:r==="overline"?1:0,l=this.offsets[r];for(let c=0,u=this._textLines.length;c<u;c++){const d=this.getHeightOfLine(c);if(!this[r]&&!this.styleHas(r,c)){n+=d;continue}const h=this._textLines[c],f=d/this.lineHeight,m=this._getLineLeftOffset(c);let p=0,v=0,y=this.getValueOfPropertyAt(c,0,r),b=this.getValueOfPropertyAt(c,0,Yt),x=this.getValueOfPropertyAt(c,0,xl),_=y,S=b,C=x;const O=n+f*(1-this._fontSizeFraction);let T=this.getHeightOfChar(c,0),E=this.getValueOfPropertyAt(c,0,"deltaY");for(let A=0,I=h.length;A<I;A++){const R=this.__charBounds[c][A];_=this.getValueOfPropertyAt(c,A,r),S=this.getValueOfPropertyAt(c,A,Yt),C=this.getValueOfPropertyAt(c,A,xl);const L=this.getHeightOfChar(c,A),$=this.getValueOfPropertyAt(c,A,"deltaY");if(s&&_&&S){const B=this.fontSize*C/1e3;e.save(),e.fillStyle=b,e.translate(R.renderLeft,R.renderTop),e.rotate(R.angle),e.fillRect(-R.kernedWidth/2,l*L+$-a*B,R.kernedWidth,B),e.restore()}else if((_!==y||S!==b||L!==T||C!==x||$!==E)&&v>0){const B=this.fontSize*x/1e3;let N=i+m+p;this.direction==="rtl"&&(N=this.width-N-v),y&&b&&x&&(e.fillStyle=b,e.fillRect(N,O+l*T+E-a*B,v,B)),p=R.left,v=R.width,y=_,x=C,b=S,T=L,E=$}else v+=R.kernedWidth}let j=i+m+p;this.direction==="rtl"&&(j=this.width-j-v),e.fillStyle=S;const P=this.fontSize*C/1e3;_&&S&&C&&e.fillRect(j,O+l*T+E-a*P,v-o,P),n+=d}this._removeShadow(e)}_getFontDeclaration(){let{fontFamily:e=this.fontFamily,fontStyle:r=this.fontStyle,fontWeight:n=this.fontWeight,fontSize:i=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;const o=e.includes("'")||e.includes('"')||e.includes(",")||Sr.genericFonts.includes(e.toLowerCase())?e:'"'.concat(e,'"');return[r,n,"".concat(s?this.CACHE_FONT_SIZE:i,"px"),o].join(" ")}render(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(e)))}graphemeSplit(e){return WT(e)}_splitTextIntoLines(e){const r=e.split(this._reNewline),n=new Array(r.length),i=[`
`];let s=[];for(let o=0;o<r.length;o++)n[o]=this.graphemeSplit(r[o]),s=s.concat(n[o],i);return s.pop(),{_unwrappedLines:n,lines:r,graphemeText:s,graphemeLines:n}}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F(F({},super.toObject([...HU,...e])),{},{styles:vke(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,r){const{textLayoutProperties:n}=this.constructor;super.set(e,r);let i=!1,s=!1;if(typeof e=="object")for(const o in e)o==="path"&&this.setPathInfo(),i=i||n.includes(o),s=s||o==="path";else i=n.includes(e),s=e==="path";return s&&this.setPathInfo(),i&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(e,r,n){const i=Qs(e,Sr.ATTRIBUTE_NAMES,n),s=F(F({},r),i),{textAnchor:o=Ye,textDecoration:a="",dx:l=0,dy:c=0,top:u=0,left:d=0,fontSize:h=jT,strokeWidth:f=1}=s,m=mt(s,kPe),p=new this(cy(e.textContent||"").trim(),F({left:d+l,top:u+c,underline:a.includes("underline"),overline:a.includes("overline"),linethrough:a.includes("line-through"),strokeWidth:0,fontSize:h},m)),v=p.getScaledHeight()/p.height,y=((p.height+p.strokeWidth)*p.lineHeight-p.height)*v,b=p.getScaledHeight()+y;let x=0;return o===Re&&(x=p.getScaledWidth()/2),o===Pt&&(x=p.getScaledWidth()),p.set({left:p.left-x,top:p.top-(b-p.fontSize*(.07+p._fontSizeFraction))/p.lineHeight,strokeWidth:f}),p}static fromObject(e){return this._fromObject(F(F({},e),{},{styles:yke(e.styles||{},e.text)}),{extraParam:"text"})}}D(Sr,"textLayoutProperties",VU),D(Sr,"cacheProperties",[...Js,...HU]),D(Sr,"ownDefaults",jEe),D(Sr,"type","Text"),D(Sr,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),D(Sr,"ATTRIBUTE_NAMES",ca.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),eW(Sr,[class extends zU{_toSVG(){const t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)}toSVG(t){const e=this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0}),r=this.path;return r?e+r._createBaseSVGMarkup(r._toSVG(),{reviver:t,withShadow:!0,additionalTransform:Nf(this.calcOwnMatrix())}):e}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){let{textBgRects:e,textSpans:r}=t;const n=this.getSvgTextDecoration(this);return[e.join(""),'		<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(EPe,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",n?'text-decoration="'.concat(n,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",r.join(""),`</text>
`]}_getSVGTextAndBg(t,e){const r=[],n=[];let i,s=t;this.backgroundColor&&n.push(...Xx(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let o=0,a=this._textLines.length;o<a;o++)i=this._getLineLeftOffset(o),this.direction==="rtl"&&(i+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(n,o,e+i,s),this._setSVGTextLineText(r,o,e+i,s),s+=this.getHeightOfLine(o);return{textSpans:r,textBgRects:n}}_createTextCharSpan(t,e,r,n,i){const s=Be.NUM_FRACTION_DIGITS,o=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(TPe)),a=o?'style="'.concat(o,'"'):"",l=e.deltaY,c=l?' dy="'.concat(lt(l,s),'" '):"",{angle:u,renderLeft:d,renderTop:h,width:f}=i;let m="";if(d!==void 0){const p=f/2;u&&(m=' rotate="'.concat(lt(Gs(u),s),'"'));const v=cd({angle:Gs(u)});v[4]=d,v[5]=h;const y=new W(-p,0).transform(v);r=y.x,n=y.y}return'<tspan x="'.concat(lt(r,s),'" y="').concat(lt(n,s),'" ').concat(c).concat(m).concat(a,">").concat(pke(t),"</tspan>")}_setSVGTextLineText(t,e,r,n){const i=this.getHeightOfLine(e),s=this.textAlign.includes(Ui),o=this._textLines[e];let a,l,c,u,d,h="",f=0;n+=i*(1-this._fontSizeFraction)/this.lineHeight;for(let m=0,p=o.length-1;m<=p;m++)d=m===p||this.charSpacing||this.path,h+=o[m],c=this.__charBounds[e][m],f===0?(r+=c.kernedWidth-c.width,f+=c.width):f+=c.kernedWidth,s&&!d&&this._reSpaceAndTab.test(o[m])&&(d=!0),d||(a=a||this.getCompleteStyleDeclaration(e,m),l=this.getCompleteStyleDeclaration(e,m+1),d=VT(a,l,!0)),d&&(u=this._getStyleDeclaration(e,m),t.push(this._createTextCharSpan(h,u,r,n,c)),h="",a=l,this.direction==="rtl"?r-=f:r+=f,f=0)}_setSVGTextLineBg(t,e,r,n){const i=this._textLines[e],s=this.getHeightOfLine(e)/this.lineHeight;let o,a=0,l=0,c=this.getValueOfPropertyAt(e,0,"textBackgroundColor");for(let u=0;u<i.length;u++){const{left:d,width:h,kernedWidth:f}=this.__charBounds[e][u];o=this.getValueOfPropertyAt(e,u,"textBackgroundColor"),o!==c?(c&&t.push(...Xx(c,r+l,n,a,s)),l=d,a=h,c=o):a+=f}o&&t.push(...Xx(c,r+l,n,a,s))}_getSVGLineTopOffset(t){let e,r=0;for(e=0;e<t;e++)r+=this.getHeightOfLine(e);const n=this.getHeightOfLine(e);return{lineTop:r,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return"".concat(super.getSvgStyles(t)," text-decoration-thickness: ").concat(lt(this.textDecorationThickness*this.getObjectScaling().y/10,Be.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(t,e){const{fontFamily:r,strokeWidth:n,stroke:i,fill:s,fontSize:o,fontStyle:a,fontWeight:l,deltaY:c,textDecorationThickness:u,linethrough:d,overline:h,underline:f}=t,m=this.getSvgTextDecoration({underline:f??this.underline,overline:h??this.overline,linethrough:d??this.linethrough}),p=u||this.textDecorationThickness;return[i?Rf(Hr,i):"",n?"stroke-width: ".concat(n,"; "):"",r?"font-family: ".concat(r.includes("'")||r.includes('"')?r:"'".concat(r,"'"),"; "):"",o?"font-size: ".concat(o,"px; "):"",a?"font-style: ".concat(a,"; "):"",l?"font-weight: ".concat(l,"; "):"",m?"text-decoration: ".concat(m,"; text-decoration-thickness: ").concat(lt(p*this.getObjectScaling().y/10,Be.NUM_FRACTION_DIGITS),"%; "):"",s?Rf(Yt,s):"",c?"baseline-shift: ".concat(-c,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(t){return["overline","underline","line-through"].filter(e=>t[e.replace("-","")]).join(" ")}}]),ie.setClass(Sr),ie.setSVGClass(Sr);class PPe{constructor(e){D(this,"target",void 0),D(this,"__mouseDownInPlace",!1),D(this,"__dragStartFired",!1),D(this,"__isDraggingOver",!1),D(this,"__dragStartSelection",void 0),D(this,"__dragImageDisposer",void 0),D(this,"_dispose",void 0),this.target=e;const r=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{r.forEach(n=>n()),this._dispose=void 0}}isPointerOverSelection(e){const r=this.target,n=r.getSelectionStartFromPointer(e);return r.isEditing&&n>=r.selectionStart&&n<=r.selectionEnd&&r.selectionStart<r.selectionEnd}start(e){return this.__mouseDownInPlace=this.isPointerOverSelection(e)}isActive(){return this.__mouseDownInPlace}end(e){const r=this.isActive();return r&&!this.__dragStartFired&&(this.target.setCursorByClick(e),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,r}getDragStartSelection(){return this.__dragStartSelection}setDragImage(e,r){var n;let{selectionStart:i,selectionEnd:s}=r;const o=this.target,a=o.canvas,l=new W(o.flipX?-1:1,o.flipY?-1:1),c=o._getCursorBoundaries(i),u=new W(c.left+c.leftOffset,c.top+c.topOffset).multiply(l).transform(o.calcTransformMatrix()),d=a.getScenePoint(e).subtract(u),h=o.getCanvasRetinaScaling(),f=o.getBoundingRect(),m=u.subtract(new W(f.left,f.top)),p=a.viewportTransform,v=m.add(d).transform(p,!0),y=o.backgroundColor,b=UT(o.styles);o.backgroundColor="";const x={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};o.setSelectionStyles(x,0,i),o.setSelectionStyles(x,s,o.text.length),o.dirty=!0;const _=o.toCanvasElement({enableRetinaScaling:a.enableRetinaScaling,viewportTransform:!0});o.backgroundColor=y,o.styles=b,o.dirty=!0,k1(_,{position:"fixed",left:"".concat(-_.width,"px"),border:Vr,width:"".concat(_.width/h,"px"),height:"".concat(_.height/h,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{_.remove()},gi(e.target||this.target.hiddenTextarea).body.appendChild(_),(n=e.dataTransfer)===null||n===void 0||n.setDragImage(_,v.x,v.y)}onDragStart(e){this.__dragStartFired=!0;const r=this.target,n=this.isActive();if(n&&e.dataTransfer){const i=this.__dragStartSelection={selectionStart:r.selectionStart,selectionEnd:r.selectionEnd},s=r._text.slice(i.selectionStart,i.selectionEnd).join(""),o=F({text:r.text,value:s},i);e.dataTransfer.setData("text/plain",s),e.dataTransfer.setData("application/fabric",JSON.stringify({value:s,styles:r.getSelectionStyles(i.selectionStart,i.selectionEnd,!0)})),e.dataTransfer.effectAllowed="copyMove",this.setDragImage(e,o)}return r.abortCursorAnimation(),n}canDrop(e){if(this.target.editable&&!this.target.getActiveControl()&&!e.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const r=this.target.getSelectionStartFromPointer(e),n=this.__dragStartSelection;return r<n.selectionStart||r>n.selectionEnd}return!0}return!1}targetCanDrop(e){return this.target.canDrop(e)}dragEnterHandler(e){let{e:r}=e;const n=this.targetCanDrop(r);!this.__isDraggingOver&&n&&(this.__isDraggingOver=!0)}dragOverHandler(e){const{e:r}=e,n=this.targetCanDrop(r);!this.__isDraggingOver&&n?this.__isDraggingOver=!0:this.__isDraggingOver&&!n&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(r.preventDefault(),e.canDrop=!0,e.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var r;const{e:n}=e,i=n.defaultPrevented;this.__isDraggingOver=!1,n.preventDefault();let s=(r=n.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain");if(s&&!i){const o=this.target,a=o.canvas;let l=o.getSelectionStartFromPointer(n);const{styles:c}=n.dataTransfer.types.includes("application/fabric")?JSON.parse(n.dataTransfer.getData("application/fabric")):{},u=s[Math.max(0,s.length-1)],d=0;if(this.__dragStartSelection){const h=this.__dragStartSelection.selectionStart,f=this.__dragStartSelection.selectionEnd;l>h&&l<=f?l=h:l>f&&(l-=f-h),o.removeChars(h,f),delete this.__dragStartSelection}o._reNewline.test(u)&&(o._reNewline.test(o._text[l])||l===o._text.length)&&(s=s.trimEnd()),e.didDrop=!0,e.dropTarget=o,o.insertChars(s,c,l),a.setActiveObject(o),o.enterEditing(n),o.selectionStart=Math.min(l+d,o._text.length),o.selectionEnd=Math.min(o.selectionStart+s.length,o._text.length),o.hiddenTextarea.value=o.text,o._updateTextarea(),o.hiddenTextarea.focus(),o.fire(ny,{index:l+d,action:"drop"}),a.fire("text:changed",{target:o}),a.contextTopDirty=!0,a.requestRenderAll()}}dragEndHandler(e){let{e:r}=e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var n;const i=this.target,s=this.target.canvas,{selectionStart:o,selectionEnd:a}=this.__dragStartSelection,l=((n=r.dataTransfer)===null||n===void 0?void 0:n.dropEffect)||Vr;l===Vr?(i.selectionStart=o,i.selectionEnd=a,i._updateTextarea(),i.hiddenTextarea.focus()):(i.clearContextTop(),l==="move"&&(i.removeChars(o,a),i.selectionStart=i.selectionEnd=o,i.hiddenTextarea&&(i.hiddenTextarea.value=i.text),i._updateTextarea(),i.fire(ny,{index:o,action:"dragend"}),s.fire("text:changed",{target:i}),s.requestRenderAll()),i.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const WR=/[ \n\.,;!\?\-]/;class jPe extends Sr{constructor(){super(...arguments),D(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(e){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(e)}_animateCursor(e){let{toValue:r,duration:n,delay:i,onComplete:s}=e;return YU({startValue:this._currentCursorOpacity,endValue:r,duration:n,delay:i,onComplete:s,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:o=>{this._currentCursorOpacity=o,this.renderCursorOrSelection()}})}_tick(e){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(e||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var e;(e=this._currentTickCompleteState)===null||e===void 0||e.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(e){this.abortCursorAnimation(),this._tick(e?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(r=>{r&&!r.isDone()&&(e=!0,r.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(e=>!e||e.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(e){let r=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n--;for(;/\S/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findWordBoundaryRight(e){let r=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)r++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}findLineBoundaryLeft(e){let r=0,n=e-1;for(;!/\n/.test(this._text[n])&&n>-1;)r++,n--;return e-r}findLineBoundaryRight(e){let r=0,n=e;for(;!/\n/.test(this._text[n])&&n<this._text.length;)r++,n++;return e+r}searchWordBoundary(e,r){const n=this._text;let i=e>0&&this._reSpace.test(n[e])&&(r===-1||!AT.test(n[e-1]))?e-1:e,s=n[i];for(;i>0&&i<n.length&&!WR.test(s);)i+=r,s=n[i];return r===-1&&WR.test(s)&&i++,i}selectWord(e){var r;e=(r=e)!==null&&r!==void 0?r:this.selectionStart;const n=this.searchWordBoundary(e,-1),i=Math.max(n,this.searchWordBoundary(e,1));this.selectionStart=n,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(e){var r;e=(r=e)!==null&&r!==void 0?r:this.selectionStart;const n=this.findLineBoundaryLeft(e),i=this.findLineBoundaryRight(e);this.selectionStart=n,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(e){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",e?{e}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(e){if(this.getActiveControl())return;const r=this.hiddenTextarea;gi(r).activeElement!==r&&r.focus();const n=this.getSelectionStartFromPointer(e),i=this.selectionStart,s=this.selectionEnd;(n===this.__selectionStartOnMouseDown&&i!==s||i!==n&&s!==n)&&(n>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=n):(this.selectionStart=n,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===s||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(e,r,n){const i=n.slice(0,e),s=this.graphemeSplit(i).length;if(e===r)return{selectionStart:s,selectionEnd:s};const o=n.slice(e,r);return{selectionStart:s,selectionEnd:s+this.graphemeSplit(o).length}}fromGraphemeToStringSelection(e,r,n){const i=n.slice(0,e).join("").length;return e===r?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+n.slice(e,r).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const e=this.hiddenTextarea;this.text=e.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const r=this.fromStringToGraphemeSelection(e.selectionStart,e.selectionEnd,e.value);this.selectionEnd=this.selectionStart=r.selectionEnd,this.inCompositionMode||(this.selectionStart=r.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const e=this.inCompositionMode?this.compositionStart:this.selectionStart,r=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),i=n.lineIndex,s=n.charIndex,o=this.getValueOfPropertyAt(i,s,"fontSize")*this.lineHeight,a=r.leftOffset,l=this.getCanvasRetinaScaling(),c=this.canvas.upperCanvasEl,u=c.width/l,d=c.height/l,h=u-o,f=d-o,m=new W(r.left+a,r.top+r.topOffset+o).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new W(c.clientWidth/u,c.clientHeight/d));return m.x<0&&(m.x=0),m.x>h&&(m.x=h),m.y<0&&(m.y=0),m.y>f&&(m.y=f),m.x+=this.canvas._offset.left,m.y+=this.canvas._offset.top,{left:"".concat(m.x,"px"),top:"".concat(m.y,"px"),fontSize:"".concat(o,"px"),charHeight:o}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const e=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const e=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),e&&this.fire(iy),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const e in this.styles)this._textLines[e]||delete this.styles[e]}removeStyleFromTo(e,r){const{lineIndex:n,charIndex:i}=this.get2DCursorLocation(e,!0),{lineIndex:s,charIndex:o}=this.get2DCursorLocation(r,!0);if(n!==s){if(this.styles[n])for(let a=i;a<this._unwrappedTextLines[n].length;a++)delete this.styles[n][a];if(this.styles[s])for(let a=o;a<this._unwrappedTextLines[s].length;a++){const l=this.styles[s][a];l&&(this.styles[n]||(this.styles[n]={}),this.styles[n][i+a-o]=l)}for(let a=n+1;a<=s;a++)delete this.styles[a];this.shiftLineStyles(s,n-s)}else if(this.styles[n]){const a=this.styles[n],l=o-i;for(let c=i;c<o;c++)delete a[c];for(const c in this.styles[n]){const u=parseInt(c,10);u>=o&&(a[u-l]=a[c],delete a[c])}}}shiftLineStyles(e,r){const n=Object.assign({},this.styles);for(const i in this.styles){const s=parseInt(i,10);s>e&&(this.styles[s+r]=n[s],n[s-r]||delete this.styles[s])}}insertNewlineStyleObject(e,r,n,i){const s={},o=this._unwrappedTextLines[e].length,a=o===r;let l=!1;n||(n=1),this.shiftLineStyles(e,n);const c=this.styles[e]?this.styles[e][r===0?r:r-1]:void 0;for(const d in this.styles[e]){const h=parseInt(d,10);h>=r&&(l=!0,s[h-r]=this.styles[e][d],a&&r===0||delete this.styles[e][d])}let u=!1;for(l&&!a&&(this.styles[e+n]=s,u=!0),(u||o>r)&&n--;n>0;)i&&i[n-1]?this.styles[e+n]={0:F({},i[n-1])}:c?this.styles[e+n]={0:F({},c)}:delete this.styles[e+n],n--;this._forceClearCache=!0}insertCharStyleObject(e,r,n,i){this.styles||(this.styles={});const s=this.styles[e],o=s?F({},s):{};n||(n=1);for(const l in o){const c=parseInt(l,10);c>=r&&(s[c+n]=o[c],o[c-n]||delete s[c])}if(this._forceClearCache=!0,i){for(;n--;)Object.keys(i[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][r+n]=F({},i[n]));return}if(!s)return;const a=s[r?r-1:1];for(;a&&n--;)this.styles[e][r+n]=F({},a)}insertNewStyleBlock(e,r,n){const i=this.get2DCursorLocation(r,!0),s=[0];let o,a=0;for(let l=0;l<e.length;l++)e[l]===`
`?(a++,s[a]=0):s[a]++;for(s[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,s[0],n),n=n&&n.slice(s[0]+1)),a&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+s[0],a),o=1;o<a;o++)s[o]>0?this.insertCharStyleObject(i.lineIndex+o,0,s[o],n):n&&this.styles[i.lineIndex+o]&&n[0]&&(this.styles[i.lineIndex+o][0]=n[0]),n=n&&n.slice(s[o]+1);s[o]>0&&this.insertCharStyleObject(i.lineIndex+o,0,s[o],n)}removeChars(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e+1;this.removeStyleFromTo(e,r),this._text.splice(e,r-e),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n;i>n&&this.removeStyleFromTo(n,i);const s=this.graphemeSplit(e);this.insertNewStyleBlock(s,n,r),this._text=[...this._text.slice(0,n),...s,...this._text.slice(i)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(e,r,n){n<=e?(r===e?this._selectionDirection=Ye:this._selectionDirection===Pt&&(this._selectionDirection=Ye,this.selectionEnd=e),this.selectionStart=n):n>e&&n<r?this._selectionDirection===Pt?this.selectionEnd=n:this.selectionStart=n:(r===e?this._selectionDirection=Pt:this._selectionDirection===Ye&&(this._selectionDirection=Pt,this.selectionStart=r),this.selectionEnd=n)}}class APe extends jPe{initHiddenTextarea(){const e=this.canvas&&gi(this.canvas.getElement())||od(),r=e.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off",name:"fabricTextarea"}).map(o=>{let[a,l]=o;return r.setAttribute(a,l)});const{top:n,left:i,fontSize:s}=this._calcTextareaPosition();r.style.cssText="position: absolute; top: ".concat(n,"; left: ").concat(i,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(s,";"),(this.hiddenTextareaContainer||e.body).appendChild(r),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(o=>{let[a,l]=o;return r.addEventListener(a,this[l].bind(this))}),this.hiddenTextarea=r}blur(){this.abortCursorAnimation()}onKeyDown(e){if(!this.isEditing)return;const r=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(e.keyCode in r)this[r[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(e){const r=this.fromPaste,{value:n,selectionStart:i,selectionEnd:s}=this.hiddenTextarea;if(this.fromPaste=!1,e&&e.stopPropagation(),!this.isEditing)return;const o=()=>{this.updateFromTextArea(),this.fire(ny),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void o();const a=this._splitTextIntoLines(n).graphemeText,l=this._text.length,c=a.length,u=this.selectionStart,d=this.selectionEnd,h=u!==d;let f,m,p,v,y=c-l;const b=this.fromStringToGraphemeSelection(i,s,n),x=u>b.selectionStart;h?(m=this._text.slice(u,d),y+=d-u):c<l&&(m=x?this._text.slice(d+y,d):this._text.slice(u,u-y));const _=a.slice(b.selectionEnd-y,b.selectionEnd);if(m&&m.length&&(_.length&&(f=this.getSelectionStyles(u,u+1,!1),f=_.map(()=>f[0])),h?(p=u,v=d):x?(p=d-m.length,v=d):(p=d,v=d+m.length),this.removeStyleFromTo(p,v)),_.length){const{copyPasteData:S}=rs();r&&_.join("")===S.copiedText&&!Be.disableStyleCopyPaste&&(f=S.copiedTextStyle),this.insertNewStyleBlock(_,u,f)}o()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(e){let{target:r}=e;const{selectionStart:n,selectionEnd:i}=r;this.compositionStart=n,this.compositionEnd=i,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:e}=rs();e.copiedText=this.getSelectedText(),Be.disableStyleCopyPaste?e.copiedTextStyle=void 0:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(e,r){let n,i=this._getLineLeftOffset(e);return r>0&&(n=this.__charBounds[e][r-1],i+=n.left+n.width),i}getDownCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),s=i.lineIndex;if(s===this._textLines.length-1||e.metaKey||e.keyCode===34)return this._text.length-n;const o=i.charIndex,a=this._getWidthBeforeCursor(s,o),l=this._getIndexOnLine(s+1,a);return this._textLines[s].slice(o).length+l+1+this.missingNewlineOffset(s)}_getSelectionForOffset(e,r){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&r?this.selectionEnd:this.selectionStart}getUpCursorOffset(e,r){const n=this._getSelectionForOffset(e,r),i=this.get2DCursorLocation(n),s=i.lineIndex;if(s===0||e.metaKey||e.keyCode===33)return-n;const o=i.charIndex,a=this._getWidthBeforeCursor(s,o),l=this._getIndexOnLine(s-1,a),c=this._textLines[s].slice(0,o),u=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+l-c.length+(1-u)}_getIndexOnLine(e,r){const n=this._textLines[e];let i,s,o=this._getLineLeftOffset(e),a=0;for(let l=0,c=n.length;l<c;l++)if(i=this.__charBounds[e][l].width,o+=i,o>r){s=!0;const u=o-i,d=o,h=Math.abs(u-r);a=Math.abs(d-r)<h?l:l-1;break}return s||(a=n.length-1),a}moveCursorDown(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)}moveCursorUp(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",e)}_moveCursorUpOrDown(e,r){const n=this["get".concat(e,"CursorOffset")](r,this._selectionDirection===Pt);if(r.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),n!==0){const i=this.text.length;this.selectionStart=Ru(0,this.selectionStart,i),this.selectionEnd=Ru(0,this.selectionEnd,i),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(e){const r=this._selectionDirection===Ye?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,r),e!==0}moveCursorWithoutShift(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),e!==0}moveCursorLeft(e){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",e)}_move(e,r,n){let i;if(e.altKey)i=this["findWordBoundary".concat(n)](this[r]);else{if(!e.metaKey&&e.keyCode!==35&&e.keyCode!==36)return this[r]+=n==="Left"?-1:1,!0;i=this["findLineBoundary".concat(n)](this[r])}return i!==void 0&&this[r]!==i&&(this[r]=i,!0)}_moveLeft(e,r){return this._move(e,r,"Left")}_moveRight(e,r){return this._move(e,r,"Right")}moveCursorLeftWithoutShift(e){let r=!0;return this._selectionDirection=Ye,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(r=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,r}moveCursorLeftWithShift(e){return this._selectionDirection===Pt&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Ye,this._moveLeft(e,"selectionStart")):void 0}moveCursorRight(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)}_moveCursorLeftOrRight(e,r){const n="moveCursor".concat(e).concat(r.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[n](r)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(e){return this._selectionDirection===Ye&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Pt,this._moveRight(e,"selectionEnd")):void 0}moveCursorRightWithoutShift(e){let r=!0;return this._selectionDirection=Pt,this.selectionStart===this.selectionEnd?(r=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,r}}const VR=t=>!!t.button;class NPe extends APe{constructor(){super(...arguments),D(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new PPe(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(e){return this.draggableTextDelegate.onDragStart(e)}canDrop(e){return this.draggableTextDelegate.canDrop(e)}doubleClickHandler(e){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}tripleClickHandler(e){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(e.e)),this.renderCursorOrSelection())}_mouseDownHandler(e){let{e:r,alreadySelected:n}=e;this.canvas&&this.editable&&!VR(r)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(r)||(this.canvas.textEditingManager.register(this),n&&(this.inCompositionMode=!1,this.setCursorByClick(r)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=n||this.isEditing)))}mouseUpHandler(e){let{e:r,transform:n}=e;const i=this.draggableTextDelegate.end(r);if(this.canvas){this.canvas.textEditingManager.unregister(this);const s=this.canvas._activeObject;if(s&&s!==this)return}!this.editable||this.group&&!this.group.interactive||n&&n.actionPerformed||VR(r)||i||this.selected&&!this.getActiveControl()&&(this.enterEditing(r),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(e){const r=this.getSelectionStartFromPointer(e),n=this.selectionStart,i=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,i,r):(this.selectionStart=r,this.selectionEnd=r),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(e){const r=this.canvas.getScenePoint(e).transform(yi(this.calcTransformMatrix())).add(new W(-this._getLeftOffset(),-this._getTopOffset()));let n=0,i=0,s=0;for(let c=0;c<this._textLines.length&&n<=r.y;c++)n+=this.getHeightOfLine(c),s=c,c>0&&(i+=this._textLines[c-1].length+this.missingNewlineOffset(c-1));let o=Math.abs(this._getLineLeftOffset(s));const a=this._textLines[s].length,l=this.__charBounds[s];for(let c=0;c<a;c++){const u=o+l[c].kernedWidth;if(r.x<=u){Math.abs(r.x-u)<=Math.abs(r.x-o)&&i++;break}o=u,i++}return Math.min(this.flipX?a-i:i,this._text.length)}}const bg="moveCursorUp",xg="moveCursorDown",wg="moveCursorLeft",_g="moveCursorRight",Sg="exitEditing",HR=(t,e)=>{const r=e.getRetinaScaling();t.setTransform(r,0,0,r,0,0);const n=e.viewportTransform;t.transform(n[0],n[1],n[2],n[3],n[4],n[5])},RPe=F({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:Sg,27:Sg,33:bg,34:xg,35:_g,36:wg,37:wg,38:bg,39:_g,40:xg},keysMapRtl:{9:Sg,27:Sg,33:bg,34:xg,35:wg,36:_g,37:_g,38:bg,39:wg,40:xg},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class Es extends NPe{static getDefaults(){return F(F({},super.getDefaults()),Es.ownDefaults)}get type(){const e=super.type;return e==="itext"?"i-text":e}constructor(e,r){super(e,F(F({},Es.ownDefaults),r)),this.initBehavior()}_set(e,r){return this.isEditing&&this._savedProps&&e in this._savedProps?(this._savedProps[e]=r,this):(e==="canvas"&&(this.canvas instanceof P1&&this.canvas.textEditingManager.remove(this),r instanceof P1&&r.textEditingManager.add(this)),super._set(e,r))}setSelectionStart(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)}setSelectionEnd(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)}_updateAndFire(e,r){this[e]!==r&&(this._fireSelectionChanged(),this[e]=r),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,n=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(e,r,n)}setSelectionStyles(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(e,r,n)}get2DCursorLocation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(e,r)}render(e){super.render(e),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(e){const r=this.isEditing;this.isEditing=!1;const n=super.toCanvasElement(e);return this.isEditing=r,n}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const e=this.clearContextTop(!0);if(!e)return;const r=this._getCursorBoundaries(),n=this.findAncestorsWithClipPath(),i=n.length>0;let s,o=e;if(i){s=Bn(e.canvas),o=s.getContext("2d"),HR(o,this.canvas);const a=this.calcTransformMatrix();o.transform(a[0],a[1],a[2],a[3],a[4],a[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(o,r):this.renderCursor(o,r),i)for(const a of n){const l=a.clipPath,c=Bn(e.canvas),u=c.getContext("2d");if(HR(u,this.canvas),!l.absolutePositioned){const d=a.calcTransformMatrix();u.transform(d[0],d[1],d[2],d[3],d[4],d[5])}l.transform(u),l.drawObject(u,!0,{}),this.drawClipPathOnCache(o,l,c)}i&&(e.setTransform(1,0,0,1,0,0),e.drawImage(s,0,0)),this.canvas.contextTopDirty=!0,e.restore()}findAncestorsWithClipPath(){const e=[];let r=this;for(;r;)r.clipPath&&e.push(r),r=r.parent;return e}_getCursorBoundaries(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;const n=this._getLeftOffset(),i=this._getTopOffset(),s=this._getCursorBoundariesOffsets(e,r);return{left:n,top:i,leftOffset:s.left,topOffset:s.top}}_getCursorBoundariesOffsets(e,r){return r?this.__getCursorBoundariesOffsets(e):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(e)}__getCursorBoundariesOffsets(e){let r=0,n=0;const{charIndex:i,lineIndex:s}=this.get2DCursorLocation(e);for(let c=0;c<s;c++)r+=this.getHeightOfLine(c);const o=this._getLineLeftOffset(s),a=this.__charBounds[s][i];a&&(n=a.left),this.charSpacing!==0&&i===this._textLines[s].length&&(n-=this._getWidthOfCharSpacing());const l={top:r,left:o+(n>0?n:0)};return this.direction==="rtl"&&(this.textAlign===Pt||this.textAlign===Ui||this.textAlign===mh?l.left*=-1:this.textAlign===Ye||this.textAlign===uy?l.left=o-(n>0?n:0):this.textAlign!==Re&&this.textAlign!==vh||(l.left=o-(n>0?n:0))),l}renderCursorAt(e){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(e,!0),e)}renderCursor(e,r){this._renderCursor(e,r,this.selectionStart)}getCursorRenderingData(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(e);const n=this.get2DCursorLocation(e),i=n.lineIndex,s=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(i,s,"fontSize"),a=this.getObjectScaling().x*this.canvas.getZoom(),l=this.cursorWidth/a,c=this.getValueOfPropertyAt(i,s,"deltaY"),u=r.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,s,"fill"),opacity:this._currentCursorOpacity,left:r.left+r.leftOffset-l/2,top:u+r.top+c,width:l,height:o}}_renderCursor(e,r,n){const{color:i,opacity:s,left:o,top:a,width:l,height:c}=this.getCursorRenderingData(n,r);e.fillStyle=i,e.globalAlpha=s,e.fillRect(o,a,l,c)}renderSelection(e,r){const n={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(e,n,r)}renderDragSourceEffect(){const e=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,e,this._getCursorBoundaries(e.selectionStart,!0))}renderDropTargetEffect(e){const r=this.getSelectionStartFromPointer(e);this.renderCursorAt(r)}_renderSelection(e,r,n){const i=r.selectionStart,s=r.selectionEnd,o=this.textAlign.includes(Ui),a=this.get2DCursorLocation(i),l=this.get2DCursorLocation(s),c=a.lineIndex,u=l.lineIndex,d=a.charIndex<0?0:a.charIndex,h=l.charIndex<0?0:l.charIndex;for(let f=c;f<=u;f++){const m=this._getLineLeftOffset(f)||0;let p=this.getHeightOfLine(f),v=0,y=0,b=0;if(f===c&&(y=this.__charBounds[c][d].left),f>=c&&f<u)b=o&&!this.isEndOfWrapping(f)?this.width:this.getLineWidth(f)||5;else if(f===u)if(h===0)b=this.__charBounds[u][h].left;else{const O=this._getWidthOfCharSpacing();b=this.__charBounds[u][h-1].left+this.__charBounds[u][h-1].width-O}v=p,(this.lineHeight<1||f===u&&this.lineHeight>1)&&(p/=this.lineHeight);let x=n.left+m+y,_=p,S=0;const C=b-y;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",_=1,S=p):e.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Pt||this.textAlign===Ui||this.textAlign===mh?x=this.width-x-C:this.textAlign===Ye||this.textAlign===uy?x=n.left+m-b:this.textAlign!==Re&&this.textAlign!==vh||(x=n.left+m-b)),e.fillRect(x,n.top+n.topOffset+S,C,_),n.topOffset+=v}}getCurrentCharFontSize(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")}getCurrentCharColor(){const e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,Yt)}_getCurrentCharIndex(){const e=this.get2DCursorLocation(this.selectionStart,!0),r=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:r}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}D(Es,"ownDefaults",RPe),D(Es,"type","IText"),ie.setClass(Es),ie.setClass(Es,"i-text");class za extends Es{static getDefaults(){return F(F({},super.getDefaults()),za.ownDefaults)}constructor(e,r){super(e,F(F({},za.ownDefaults),r))}static createControls(){return{controls:uke()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Ui)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let r=0,n=0,i=0;const s={};for(let o=0;o<e.graphemeLines.length;o++)e.graphemeText[i]===`
`&&o>0?(n=0,i++,r++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[i])&&o>0&&(n++,i++),s[o]={line:r,offset:n},i+=e.graphemeLines[o].length,n+=e.graphemeLines[o].length;return s}styleHas(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[r];n&&(r=n.line)}return super.styleHas(e,r)}isEmptyStyles(e){if(!this.styles)return!0;let r,n=0,i=e+1,s=!1;const o=this._styleMap[e],a=this._styleMap[e+1];o&&(e=o.line,n=o.offset),a&&(i=a.line,s=i===e,r=a.offset);const l=e===void 0?this.styles:{line:this.styles[e]};for(const c in l)for(const u in l[c]){const d=parseInt(u,10);if(d>=n&&(!s||d<r))for(const h in l[c][u])return!1}return!0}_getStyleDeclaration(e,r){if(this._styleMap&&!this.isWrapping){const n=this._styleMap[e];if(!n)return{};e=n.line,r=n.offset+r}return super._getStyleDeclaration(e,r)}_setStyleDeclaration(e,r,n){const i=this._styleMap[e];super._setStyleDeclaration(i.line,i.offset+r,n)}_deleteStyleDeclaration(e,r){const n=this._styleMap[e];super._deleteStyleDeclaration(n.line,n.offset+r)}_getLineStyle(e){const r=this._styleMap[e];return!!this.styles[r.line]}_setLineStyle(e){const r=this._styleMap[e];super._setLineStyle(r.line)}_wrapText(e,r){this.isWrapping=!0;const n=this.getGraphemeDataForRender(e),i=[];for(let s=0;s<n.wordsData.length;s++)i.push(...this._wrapLine(s,r,n));return this.isWrapping=!1,i}getGraphemeDataForRender(e){const r=this.splitByGrapheme,n=r?"":" ";let i=0;return{wordsData:e.map((s,o)=>{let a=0;const l=r?this.graphemeSplit(s):this.wordSplit(s);return l.length===0?[{word:[],width:0}]:l.map(c=>{const u=r?[c]:this.graphemeSplit(c),d=this._measureWord(u,o,a);return i=Math.max(d,i),a+=u.length+n.length,{word:u,width:d}})}),largestWordWidth:i}}_measureWord(e,r){let n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=0;for(let o=0,a=e.length;o<a;o++)s+=this._getGraphemeBox(e[o],r,o+i,n,!0).kernedWidth,n=e[o];return s}wordSplit(e){return e.split(this._wordJoiners)}_wrapLine(e,r,n){let{largestWordWidth:i,wordsData:s}=n,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const a=this._getWidthOfCharSpacing(),l=this.splitByGrapheme,c=[],u=l?"":" ";let d=0,h=[],f=0,m=0,p=!0;r-=o;const v=Math.max(r,i,this.dynamicMinWidth),y=s[e];let b;for(f=0,b=0;b<y.length;b++){const{word:x,width:_}=y[b];f+=x.length,d+=m+_-a,d>v&&!p?(c.push(h),h=[],d=_,p=!0):d+=a,p||l||h.push(u),h=h.concat(x),m=l?0:this._measureWord([u],e,f),f++,p=!1}return b&&c.push(h),i+o>this.dynamicMinWidth&&(this.dynamicMinWidth=i-a+o),c}isEndOfWrapping(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line}missingNewlineOffset(e,r){return this.splitByGrapheme&&!r?this.isEndOfWrapping(e)?1:0:1}_splitTextIntoLines(e){const r=super._splitTextIntoLines(e),n=this._wrapText(r.lines,this.width),i=new Array(n.length);for(let s=0;s<n.length;s++)i[s]=n[s].join("");return r.lines=i,r.graphemeLines=n,r}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const e=new Map;for(const r in this._styleMap){const n=parseInt(r,10);if(this._textLines[n]){const i=this._styleMap[r].line;e.set("".concat(i),!0)}}for(const r in this.styles)e.has(r)||delete this.styles[r]}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...e])}}D(za,"type","Textbox"),D(za,"textLayoutProperties",[...Es.textLayoutProperties,"width"]),D(za,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),ie.setClass(za);class GR extends ub{shouldPerformLayout(e){return!!e.target.clipPath&&super.shouldPerformLayout(e)}shouldLayoutClipPath(){return!1}calcLayoutResult(e,r){const{target:n}=e,{clipPath:i,group:s}=n;if(!i||!this.shouldPerformLayout(e))return;const{width:o,height:a}=Rs(nW(n,i)),l=new W(o,a);if(i.absolutePositioned)return{center:Rc(i.getRelativeCenterPoint(),void 0,s?s.calcTransformMatrix():void 0),size:l};{const c=i.getRelativeCenterPoint().transform(n.calcOwnMatrix(),!0);if(this.shouldPerformLayout(e)){const{center:u=new W,correction:d=new W}=this.calcBoundingBox(r,e)||{};return{center:u.add(c),correction:d.subtract(c),size:l}}return{center:n.getRelativeCenterPoint().add(c),size:l}}}}D(GR,"type","clip-path"),ie.setClass(GR);class KR extends ub{getInitialSize(e,r){let{target:n}=e,{size:i}=r;return new W(n.width||i.x,n.height||i.y)}}D(KR,"type","fixed"),ie.setClass(KR);class MPe extends $f{subscribeTargets(e){const r=e.target;e.targets.reduce((n,i)=>(i.parent&&n.add(i.parent),n),new Set).forEach(n=>{n.layoutManager.subscribeTargets({target:n,targets:[r]})})}unsubscribeTargets(e){const r=e.target,n=r.getObjects();e.targets.reduce((i,s)=>(s.parent&&i.add(s.parent),i),new Set).forEach(i=>{!n.some(s=>s.parent===i)&&i.layoutManager.unsubscribeTargets({target:i,targets:[r]})})}}class Ua extends rl{static getDefaults(){return F(F({},super.getDefaults()),Ua.ownDefaults)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Ua.ownDefaults),this.setOptions(r);const{left:n,top:i,layoutManager:s}=r;this.groupInit(e,{left:n,top:i,layoutManager:s??new MPe})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.multiSelectionStacking==="selection-order"?this.add(...r):r.forEach(i=>{const s=this._objects.findIndex(a=>a.isInFrontOf(i)),o=s===-1?this.size():s;this.insertAt(o,i)})}canEnterGroup(e){return this.getObjects().some(r=>r.isDescendantOf(e)||e.isDescendantOf(r))?(Xo("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(e,r){e.parent&&e.parent===e.group?e.parent._exitGroup(e):e.group&&e.parent!==e.group&&e.group.remove(e),this._enterGroup(e,r)}exitGroup(e,r){this._exitGroup(e,r),e.parent&&e.parent._enterGroup(e,!0)}_onAfterObjectsChange(e,r){super._onAfterObjectsChange(e,r);const n=new Set;r.forEach(i=>{const{parent:s}=i;s&&n.add(s)}),e===GT?n.forEach(i=>{i._onAfterObjectsChange(dy,r)}):n.forEach(i=>{i._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,r,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const i=F(F({hasControls:!1},n),{},{forActiveSelection:!0});for(let s=0;s<this._objects.length;s++)this._objects[s]._renderControls(e,i);super._renderControls(e,r),e.restore()}}D(Ua,"type","ActiveSelection"),D(Ua,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),ie.setClass(Ua),ie.setClass(Ua,"activeSelection");class $Pe{constructor(){D(this,"resources",{})}applyFilters(e,r,n,i,s){const o=s.getContext("2d");if(!o)return;o.drawImage(r,0,0,n,i);const a={sourceWidth:n,sourceHeight:i,imageData:o.getImageData(0,0,n,i),originalEl:r,originalImageData:o.getImageData(0,0,n,i),canvasEl:s,ctx:o,filterBackend:this};e.forEach(c=>{c.applyTo(a)});const{imageData:l}=a;return l.width===n&&l.height===i||(s.width=l.width,s.height=l.height),o.putImageData(l,0,0),a}}class xW{constructor(){let{tileSize:e=Be.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};D(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),D(this,"resources",{}),this.tileSize=e,this.setupGLContext(e,e),this.captureGPUInfo()}setupGLContext(e,r){this.dispose(),this.createWebGLCanvas(e,r)}createWebGLCanvas(e,r){const n=Bn({width:e,height:r}),i=n.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)}applyFilters(e,r,n,i,s,o){const a=this.gl,l=s.getContext("2d");if(!a||!l)return;let c;o&&(c=this.getCachedTexture(o,r));const u={originalWidth:r.width||r.naturalWidth||0,originalHeight:r.height||r.naturalHeight||0,sourceWidth:n,sourceHeight:i,destinationWidth:n,destinationHeight:i,context:a,sourceTexture:this.createTexture(a,n,i,c?void 0:r),targetTexture:this.createTexture(a,n,i),originalTexture:c||this.createTexture(a,n,i,c?void 0:r),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},d=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,d),e.forEach(h=>{h&&h.applyTo(u)}),function(h){const f=h.targetCanvas,m=f.width,p=f.height,v=h.destinationWidth,y=h.destinationHeight;m===v&&p===y||(f.width=v,f.height=y)}(u),this.copyGLTo2D(a,u),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(u.sourceTexture),a.deleteTexture(u.targetTexture),a.deleteFramebuffer(d),l.setTransform(1,0,0,1,0,0),u}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(e,r,n,i,s){const{NEAREST:o,TEXTURE_2D:a,RGBA:l,UNSIGNED_BYTE:c,CLAMP_TO_EDGE:u,TEXTURE_MAG_FILTER:d,TEXTURE_MIN_FILTER:h,TEXTURE_WRAP_S:f,TEXTURE_WRAP_T:m}=e,p=e.createTexture();return e.bindTexture(a,p),e.texParameteri(a,d,s||o),e.texParameteri(a,h,s||o),e.texParameteri(a,f,u),e.texParameteri(a,m,u),i?e.texImage2D(a,0,l,l,c,i):e.texImage2D(a,0,l,r,n,0,l,c,null),p}getCachedTexture(e,r,n){const{textureCache:i}=this;if(i[e])return i[e];{const s=this.createTexture(this.gl,r.width,r.height,r,n);return s&&(i[e]=s),s}}evictCachesForKey(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])}copyGLTo2D(e,r){const n=e.canvas,i=r.targetCanvas,s=i.getContext("2d");if(!s)return;s.translate(0,i.height),s.scale(1,-1);const o=n.height-i.height;s.drawImage(n,0,o,i.width,i.height,0,0,i.width,i.height)}copyGLTo2DPutImageData(e,r){const n=r.targetCanvas.getContext("2d"),i=r.destinationWidth,s=r.destinationHeight,o=i*s*4;if(!n)return;const a=new Uint8Array(this.imageBuffer,0,o),l=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,i,s,e.RGBA,e.UNSIGNED_BYTE,a);const c=new ImageData(l,i,s);n.putImageData(c,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const e=this.gl,r={renderer:"",vendor:""};if(!e)return r;const n=e.getExtension("WEBGL_debug_renderer_info");if(n){const i=e.getParameter(n.UNMASKED_RENDERER_WEBGL),s=e.getParameter(n.UNMASKED_VENDOR_WEBGL);i&&(r.renderer=i.toLowerCase()),s&&(r.vendor=s.toLowerCase())}return this.gpuInfo=r,r}}let Jx;function DPe(){const{WebGLProbe:t}=rs();return t.queryWebGL(Hs()),Be.enableGLFiltering&&t.isSupported(Be.textureSize)?new xW({tileSize:Be.textureSize}):new $Pe}function Qx(){return!Jx&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(Jx=DPe()),Jx}const IPe=["filters","resizeFilter","src","crossOrigin","type"],wW=["cropX","cropY"];class On extends br{static getDefaults(){return F(F({},super.getDefaults()),On.ownDefaults)}constructor(e,r){super(),D(this,"_lastScaleX",1),D(this,"_lastScaleY",1),D(this,"_filterScalingX",1),D(this,"_filterScalingY",1),this.filters=[],Object.assign(this,On.ownDefaults),this.setOptions(r),this.cacheKey="texture".concat(Zo()),this.setElement(typeof e=="string"?(this.canvas&&gi(this.canvas.getElement())||od()).getElementById(e):e,r)}getElement(){return this._element}setElement(e){var r;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=e,this._originalElement=e,this._setWidthHeight(n),(r=e.classList)===null||r===void 0||r.add(On.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(e){const r=Qx(!1);r instanceof xW&&r.evictCachesForKey(e)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(e=>{const r=this[e];r&&rs().dispose(r),this[e]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const e=this.getElement();return e?{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}:{width:0,height:0}}_stroke(e){if(!this.stroke||this.strokeWidth===0)return;const r=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-r,-n),e.lineTo(r,-n),e.lineTo(r,n),e.lineTo(-r,n),e.lineTo(-r,-n),e.closePath()}toObject(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=[];return this.filters.forEach(n=>{n&&r.push(n.toObject())}),F(F({},super.toObject([...wW,...e])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:r},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const e=[],r=this._element,n=-this.width/2,i=-this.height/2;let s=[],o=[],a="",l="";if(!r)return[];if(this.hasCrop()){const c=Zo();s.push('<clipPath id="imageCrop_'+c+`">
`,'	<rect x="'+n+'" y="'+i+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),a=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(l=' image-rendering="optimizeSpeed"'),e.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(n-this.cropX,'" y="').concat(i-this.cropY,'" width="').concat(r.width||r.naturalWidth,'" height="').concat(r.height||r.naturalHeight,'"').concat(l).concat(a,`></image>
`)),this.stroke||this.strokeDashArray){const c=this.fill;this.fill=null,o=['	<rect x="'.concat(n,'" y="').concat(i,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=c}return s=this.paintFirst!==Yt?s.concat(o,e):s.concat(e,o),s}getSrc(e){const r=e?this._element:this._originalElement;return r?r.toDataURL?r.toDataURL():this.srcFromAttribute?r.getAttribute("src")||"":r.src:this.src||""}getSvgSrc(e){return this.getSrc(e)}setSrc(e){let{crossOrigin:r,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return lm(e,{crossOrigin:r,signal:n}).then(i=>{r!==void 0&&this.set({crossOrigin:r}),this.setElement(i)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const e=this.resizeFilter,r=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),i=n.x,s=n.y,o=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||i>r&&s>r)return this._element=o,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=s);const a=Bn(o),{width:l,height:c}=o;this._element=a,this._lastScaleX=e.scaleX=i,this._lastScaleY=e.scaleY=s,Qx().applyFilters([e],o,l,c,this._element),this._filterScalingX=a.width/this._originalElement.width,this._filterScalingY=a.height/this._originalElement.height}applyFilters(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(e=e.filter(s=>s&&!s.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),e.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const r=this._originalElement,n=r.naturalWidth||r.width,i=r.naturalHeight||r.height;if(this._element===this._originalElement){const s=Bn({width:n,height:i});this._element=s,this._filteredEl=s}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,i),this._lastScaleX=1,this._lastScaleY=1);Qx().applyFilters(e,this._originalElement,n,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(e){e.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)}drawCacheOnCanvas(e){e.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(e)}shouldCache(){return this.needsItsOwnCache()}_renderFill(e){const r=this._element;if(!r)return;const n=this._filterScalingX,i=this._filterScalingY,s=this.width,o=this.height,a=Math.max(this.cropX,0),l=Math.max(this.cropY,0),c=r.naturalWidth||r.width,u=r.naturalHeight||r.height,d=a*n,h=l*i,f=Math.min(s*n,c-d),m=Math.min(o*i,u-h),p=-s/2,v=-o/2,y=Math.min(s,c/n-a),b=Math.min(o,u/i-l);r&&e.drawImage(r,d,h,f,m,p,v,y,b)}_needsResize(){const e=this.getTotalObjectScaling();return e.x!==this._lastScaleX||e.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:e,height:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.getOriginalSize();this.width=e||n.width,this.height=r||n.height}parsePreserveAspectRatioAttribute(){const e=kEe(this.preserveAspectRatio||""),r=this.width,n=this.height,i={width:r,height:n};let s,o=this._element.width,a=this._element.height,l=1,c=1,u=0,d=0,h=0,f=0;return!e||e.alignX===Vr&&e.alignY===Vr?(l=r/o,c=n/a):(e.meetOrSlice==="meet"&&(l=c=Vke(this._element,i),s=(r-o*l)/2,e.alignX==="Min"&&(u=-s),e.alignX==="Max"&&(u=s),s=(n-a*c)/2,e.alignY==="Min"&&(d=-s),e.alignY==="Max"&&(d=s)),e.meetOrSlice==="slice"&&(l=c=Hke(this._element,i),s=o-r/l,e.alignX==="Mid"&&(h=s/2),e.alignX==="Max"&&(h=s),s=a-n/c,e.alignY==="Mid"&&(f=s/2),e.alignY==="Max"&&(f=s),o=r/l,a=n/c)),{width:o,height:a,scaleX:l,scaleY:c,offsetLeft:u,offsetTop:d,cropX:h,cropY:f}}static fromObject(e,r){let{filters:n,resizeFilter:i,src:s,crossOrigin:o,type:a}=e,l=mt(e,IPe);return Promise.all([lm(s,F(F({},r),{},{crossOrigin:o})),n&&Af(n,r),i&&Af([i],r),ob(l,r)]).then(c=>{let[u,d=[],[h]=[],f={}]=c;return new this(u,F(F({},l),{},{src:s,filters:d,resizeFilter:h},f))})}static fromURL(e){let{crossOrigin:r=null,signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return lm(e,{crossOrigin:r,signal:n}).then(s=>new this(s,i))}static async fromElement(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=Qs(e,this.ATTRIBUTE_NAMES,n);return this.fromURL(i["xlink:href"]||i.href,r,i).catch(s=>(Xo("log","Unable to parse Image",s),null))}}D(On,"type","Image"),D(On,"cacheProperties",[...Js,...wW]),D(On,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),D(On,"CSS_CANVAS","canvas-img"),D(On,"ATTRIBUTE_NAMES",[...ca,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),ie.setClass(On),ie.setSVGClass(On);lb(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);const hb=t=>t.webgl!==void 0,KT="precision highp float",LPe=`
    `.concat(KT,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),FPe=["type"],BPe=["type"],zPe=new RegExp(KT,"g");class Xt{get type(){return this.constructor.type}constructor(){let e=mt(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},FPe);Object.assign(this,this.constructor.defaults,e)}getFragmentSource(){return LPe}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:i="highp"}}=rs();i!=="highp"&&(r=r.replace(zPe,KT.replace("highp",i)));const s=e.createShader(e.VERTEX_SHADER),o=e.createShader(e.FRAGMENT_SHADER),a=e.createProgram();if(!s||!o||!a)throw new Hi("Vertex, fragment shader or program creation error");if(e.shaderSource(s,n),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw new Hi("Vertex shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(s)));if(e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Hi("Fragment shader compile error for ".concat(this.type,": ").concat(e.getShaderInfoLog(o)));if(e.attachShader(a,s),e.attachShader(a,o),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Hi('Shader link error for "'.concat(this.type,'" ').concat(e.getProgramInfoLog(a)));const l=this.getUniformLocations(e,a)||{};return l.uStepW=e.getUniformLocation(a,"uStepW"),l.uStepH=e.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:this.getAttributeLocations(e,a),uniformLocations:l}}getAttributeLocations(e,r){return{aPosition:e.getAttribLocation(r,"aPosition")}}getUniformLocations(e,r){const n=this.constructor.uniformLocations,i={};for(let s=0;s<n.length;s++)i[n[s]]=e.getUniformLocation(r,n[s]);return i}sendAttributeData(e,r,n){const i=r.aPosition,s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}_setupFrameBuffer(e){const r=e.context;if(e.passes>1){const n=e.destinationWidth,i=e.destinationHeight;e.sourceWidth===n&&e.sourceHeight===i||(r.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(r,n,i)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.targetTexture,0)}else r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish()}_swapTextures(e){e.passes--,e.pass++;const r=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=r}isNeutralState(e){return!1}applyTo(e){hb(e)?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){}getCacheKey(){return this.type}retrieveShader(e){const r=this.getCacheKey();return e.programCache[r]||(e.programCache[r]=this.createProgram(e.context)),e.programCache[r]}applyToWebGL(e){const r=e.context,n=this.retrieveShader(e);e.pass===0&&e.originalTexture?r.bindTexture(r.TEXTURE_2D,e.originalTexture):r.bindTexture(r.TEXTURE_2D,e.sourceTexture),r.useProgram(n.program),this.sendAttributeData(r,n.attributeLocations,e.aPosition),r.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),r.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(r,n.uniformLocations),r.viewport(0,0,e.destinationWidth,e.destinationHeight),r.drawArrays(r.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(e,r,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,r),e.activeTexture(e.TEXTURE0)}unbindAdditionalTexture(e,r){e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)}sendUniformData(e,r){}createHelpLayer(e){if(!e.helpLayer){const{sourceWidth:r,sourceHeight:n}=e,i=Bn({width:r,height:n});e.helpLayer=i}}toObject(){const e=Object.keys(this.constructor.defaults||{});return F({type:this.type},e.reduce((r,n)=>(r[n]=this[n],r),{}))}toJSON(){return this.toObject()}static async fromObject(e,r){return new this(mt(e,BPe))}}D(Xt,"type","BaseFilter"),D(Xt,"uniformLocations",[]);const UPe={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Cg extends Xt{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(UPe[this.mode],`
        }
      }
      `)}applyTo2d(e){let{imageData:{data:r}}=e;const n=new Ke(this.color).getSource(),i=this.alpha,s=n[0]*i,o=n[1]*i,a=n[2]*i,l=1-i;for(let c=0;c<r.length;c+=4){const u=r[c],d=r[c+1],h=r[c+2];let f,m,p;switch(this.mode){case"multiply":f=u*s/255,m=d*o/255,p=h*a/255;break;case"screen":f=255-(255-u)*(255-s)/255,m=255-(255-d)*(255-o)/255,p=255-(255-h)*(255-a)/255;break;case"add":f=u+s,m=d+o,p=h+a;break;case"difference":f=Math.abs(u-s),m=Math.abs(d-o),p=Math.abs(h-a);break;case"subtract":f=u-s,m=d-o,p=h-a;break;case"darken":f=Math.min(u,s),m=Math.min(d,o),p=Math.min(h,a);break;case"lighten":f=Math.max(u,s),m=Math.max(d,o),p=Math.max(h,a);break;case"overlay":f=s<128?2*u*s/255:255-2*(255-u)*(255-s)/255,m=o<128?2*d*o/255:255-2*(255-d)*(255-o)/255,p=a<128?2*h*a/255:255-2*(255-h)*(255-a)/255;break;case"exclusion":f=s+u-2*s*u/255,m=o+d-2*o*d/255,p=a+h-2*a*h/255;break;case"tint":f=s+u*l,m=o+d*l,p=a+h*l}r[c]=f,r[c+1]=m,r[c+2]=p}}sendUniformData(e,r){const n=new Ke(this.color).getSource();n[0]=this.alpha*n[0]/255,n[1]=this.alpha*n[1]/255,n[2]=this.alpha*n[2]/255,n[3]=this.alpha,e.uniform4fv(r.uColor,n)}}D(Cg,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),D(Cg,"type","BlendColor"),D(Cg,"uniformLocations",["uColor"]),ie.setClass(Cg);const WPe={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},VPe=["type","image"];class Og extends Xt{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return WPe[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(e){const r=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(r,n,r.TEXTURE1),super.applyToWebGL(e),this.unbindAdditionalTexture(r,r.TEXTURE1)}createTexture(e,r){return e.getCachedTexture(r.cacheKey,r.getElement())}calculateMatrix(){const e=this.image,{width:r,height:n}=e.getElement();return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/r,-e.top/n,1]}applyTo2d(e){let{imageData:{data:r,width:n,height:i},filterBackend:{resources:s}}=e;const o=this.image;s.blendImage||(s.blendImage=Hs());const a=s.blendImage,l=a.getContext("2d");a.width!==n||a.height!==i?(a.width=n,a.height=i):l.clearRect(0,0,n,i),l.setTransform(o.scaleX,0,0,o.scaleY,o.left,o.top),l.drawImage(o.getElement(),0,0,n,i);const c=l.getImageData(0,0,n,i).data;for(let u=0;u<r.length;u+=4){const d=r[u],h=r[u+1],f=r[u+2],m=r[u+3],p=c[u],v=c[u+1],y=c[u+2],b=c[u+3];switch(this.mode){case"multiply":r[u]=d*p/255,r[u+1]=h*v/255,r[u+2]=f*y/255,r[u+3]=m*b/255;break;case"mask":r[u+3]=b}}}sendUniformData(e,r){const n=this.calculateMatrix();e.uniform1i(r.uImage,1),e.uniformMatrix3fv(r.uTransformMatrix,!1,n)}toObject(){return F(F({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(e,r){let{type:n,image:i}=e,s=mt(e,VPe);return On.fromObject(i,r).then(o=>new this(F(F({},s),{},{image:o})))}}D(Og,"type","BlendImage"),D(Og,"defaults",{mode:"multiply",alpha:1}),D(Og,"uniformLocations",["uTransformMatrix","uImage"]),ie.setClass(Og);class Tg extends Xt{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float totalC = 0.0;
      float totalA = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);
        float weight = 1.0 - abs(percent);
        float alpha = weight * sample.a;
        color.rgb += sample.rgb * alpha;
        color.a += alpha;
        totalA += weight;
        totalC += alpha;
      }
      gl_FragColor.rgb = color.rgb / totalC;
      gl_FragColor.a = color.a / totalA;
    }
  `}applyTo(e){hb(e)?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)}applyTo2d(e){let{imageData:{data:r,width:n,height:i}}=e;this.aspectRatio=n/i,this.horizontal=!0;let s=this.getBlurValue()*n;const o=new Uint8ClampedArray(r),a=15,l=4*n;for(let c=0;c<r.length;c+=4){let u=0,d=0,h=0,f=0,m=0;const p=c-c%l,v=p+l;for(let y=-14;y<a;y++){const b=y/a,x=4*Math.floor(s*b),_=1-Math.abs(b);let S=c+x;S<p?S=p:S>v&&(S=v);const C=r[S+3]*_;u+=r[S]*C,d+=r[S+1]*C,h+=r[S+2]*C,f+=C,m+=_}o[c]=u/f,o[c+1]=d/f,o[c+2]=h/f,o[c+3]=f/m}this.horizontal=!1,s=this.getBlurValue()*i;for(let c=0;c<o.length;c+=4){let u=0,d=0,h=0,f=0,m=0;const p=c%l,v=o.length-l+p;for(let y=-14;y<a;y++){const b=y/a,x=Math.floor(s*b)*l,_=1-Math.abs(b);let S=c+x;S<p?S=p:S>v&&(S=v);const C=o[S+3]*_;u+=o[S]*C,d+=o[S+1]*C,h+=o[S+2]*C,f+=C,m+=_}r[c]=u/f,r[c+1]=d/f,r[c+2]=h/f,r[c+3]=f/m}}sendUniformData(e,r){const n=this.chooseRightDelta();e.uniform2fv(r.uDelta,n)}isNeutralState(){return this.blur===0}getBlurValue(){let e=1;const{horizontal:r,aspectRatio:n}=this;return r?n>1&&(e=1/n):n<1&&(e=n),e*this.blur*.12}chooseRightDelta(){const e=this.getBlurValue();return this.horizontal?[e,0]:[0,e]}}D(Tg,"type","Blur"),D(Tg,"defaults",{blur:0}),D(Tg,"uniformLocations",["uDelta"]),ie.setClass(Tg);class Eg extends Xt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.round(255*this.brightness);for(let i=0;i<r.length;i+=4)r[i]+=n,r[i+1]+=n,r[i+2]+=n}isNeutralState(){return this.brightness===0}sendUniformData(e,r){e.uniform1f(r.uBrightness,this.brightness)}}D(Eg,"type","Brightness"),D(Eg,"defaults",{brightness:0}),D(Eg,"uniformLocations",["uBrightness"]),ie.setClass(Eg);const _W={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class bc extends Xt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(e){const r=e.imageData.data,n=this.matrix,i=this.colorsOnly;for(let s=0;s<r.length;s+=4){const o=r[s],a=r[s+1],l=r[s+2];if(r[s]=o*n[0]+a*n[1]+l*n[2]+255*n[4],r[s+1]=o*n[5]+a*n[6]+l*n[7]+255*n[9],r[s+2]=o*n[10]+a*n[11]+l*n[12]+255*n[14],!i){const c=r[s+3];r[s]+=c*n[3],r[s+1]+=c*n[8],r[s+2]+=c*n[13],r[s+3]=o*n[15]+a*n[16]+l*n[17]+c*n[18]+255*n[19]}}}sendUniformData(e,r){const n=this.matrix,i=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],s=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(r.uColorMatrix,!1,i),e.uniform4fv(r.uConstants,s)}toObject(){return F(F({},super.toObject()),{},{matrix:[...this.matrix]})}}function Al(t,e){var r;const n=(D(r=class extends bc{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",t),D(r,"defaults",{colorsOnly:!1,matrix:e}),r);return ie.setClass(n,t),n}D(bc,"type","ColorMatrix"),D(bc,"defaults",_W),D(bc,"uniformLocations",["uColorMatrix","uConstants"]),ie.setClass(bc);Al("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);Al("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);Al("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);Al("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);Al("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);Al("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);Al("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class qR extends Xt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.subFilters=e.subFilters||[]}applyTo(e){hb(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(r=>{r.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(e=>e.toObject())}}isNeutralState(){return!this.subFilters.some(e=>!e.isNeutralState())}static fromObject(e,r){return Promise.all((e.subFilters||[]).map(n=>ie.getClass(n.type).fromObject(n,r))).then(n=>new this({subFilters:n}))}}D(qR,"type","Composed"),ie.setClass(qR);class kg extends Xt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(e){let{imageData:{data:r}}=e;const n=Math.floor(255*this.contrast),i=259*(n+255)/(255*(259-n));for(let s=0;s<r.length;s+=4)r[s]=i*(r[s]-128)+128,r[s+1]=i*(r[s+1]-128)+128,r[s+2]=i*(r[s+2]-128)+128}sendUniformData(e,r){e.uniform1f(r.uContrast,this.contrast)}}D(kg,"type","Contrast"),D(kg,"defaults",{contrast:0}),D(kg,"uniformLocations",["uContrast"]),ie.setClass(kg);const HPe={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class Pg extends Xt{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return HPe[this.getCacheKey()]}applyTo2d(e){const r=e.imageData,n=r.data,i=this.matrix,s=Math.round(Math.sqrt(i.length)),o=Math.floor(s/2),a=r.width,l=r.height,c=e.ctx.createImageData(a,l),u=c.data,d=this.opaque?1:0;let h,f,m,p,v,y,b,x,_,S,C,O,T;for(C=0;C<l;C++)for(S=0;S<a;S++){for(v=4*(C*a+S),h=0,f=0,m=0,p=0,T=0;T<s;T++)for(O=0;O<s;O++)b=C+T-o,y=S+O-o,b<0||b>=l||y<0||y>=a||(x=4*(b*a+y),_=i[T*s+O],h+=n[x]*_,f+=n[x+1]*_,m+=n[x+2]*_,d||(p+=n[x+3]*_));u[v]=h,u[v+1]=f,u[v+2]=m,u[v+3]=d?n[v+3]:p}e.imageData=c}sendUniformData(e,r){e.uniform1fv(r.uMatrix,this.matrix)}toObject(){return F(F({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}D(Pg,"type","Convolute"),D(Pg,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),D(Pg,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),ie.setClass(Pg);const SW="Gamma";class jg extends Xt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.gamma=e.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.gamma,i=1/n[0],s=1/n[1],o=1/n[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const a=this.rgbValues;for(let l=0;l<256;l++)a.r[l]=255*Math.pow(l/255,i),a.g[l]=255*Math.pow(l/255,s),a.b[l]=255*Math.pow(l/255,o);for(let l=0;l<r.length;l+=4)r[l]=a.r[r[l]],r[l+1]=a.g[r[l+1]],r[l+2]=a.b[r[l+2]]}sendUniformData(e,r){e.uniform3fv(r.uGamma,this.gamma)}isNeutralState(){const{gamma:e}=this;return e[0]===1&&e[1]===1&&e[2]===1}toObject(){return{type:SW,gamma:this.gamma.concat()}}}D(jg,"type",SW),D(jg,"defaults",{gamma:[1,1,1]}),D(jg,"uniformLocations",["uGamma"]),ie.setClass(jg);const GPe={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Ag extends Xt{applyTo2d(e){let{imageData:{data:r}}=e;for(let n,i=0;i<r.length;i+=4){const s=r[i],o=r[i+1],a=r[i+2];switch(this.mode){case"average":n=(s+o+a)/3;break;case"lightness":n=(Math.min(s,o,a)+Math.max(s,o,a))/2;break;case"luminosity":n=.21*s+.72*o+.07*a}r[i+2]=r[i+1]=r[i]=n}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return GPe[this.mode]}sendUniformData(e,r){e.uniform1i(r.uMode,1)}isNeutralState(){return!1}}D(Ag,"type","Grayscale"),D(Ag,"defaults",{mode:"average"}),D(Ag,"uniformLocations",["uMode"]),ie.setClass(Ag);const KPe=F(F({},_W),{},{rotation:0});class ew extends bc{calculateMatrix(){const e=this.rotation*Math.PI,r=Ws(e),n=Vs(e),i=1/3,s=Math.sqrt(i)*n,o=1-r;this.matrix=[r+o/3,i*o-s,i*o+s,0,0,i*o+s,r+i*o,i*o-s,0,0,i*o-s,i*o+s,r+i*o,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(e){this.calculateMatrix(),super.applyTo(e)}toObject(){return{type:this.type,rotation:this.rotation}}}D(ew,"type","HueRotation"),D(ew,"defaults",KPe),ie.setClass(ew);class Ng extends Xt{applyTo2d(e){let{imageData:{data:r}}=e;for(let n=0;n<r.length;n+=4)r[n]=255-r[n],r[n+1]=255-r[n+1],r[n+2]=255-r[n+2],this.alpha&&(r[n+3]=255-r[n+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(e,r){e.uniform1i(r.uInvert,Number(this.invert)),e.uniform1i(r.uAlpha,Number(this.alpha))}}D(Ng,"type","Invert"),D(Ng,"defaults",{alpha:!1,invert:!0}),D(Ng,"uniformLocations",["uInvert","uAlpha"]),ie.setClass(Ng);class Rg extends Xt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=this.noise;for(let i=0;i<r.length;i+=4){const s=(.5-Math.random())*n;r[i]+=s,r[i+1]+=s,r[i+2]+=s}}sendUniformData(e,r){e.uniform1f(r.uNoise,this.noise/255),e.uniform1f(r.uSeed,Math.random())}isNeutralState(){return this.noise===0}}D(Rg,"type","Noise"),D(Rg,"defaults",{noise:0}),D(Rg,"uniformLocations",["uNoise","uSeed"]),ie.setClass(Rg);class Mg extends Xt{applyTo2d(e){let{imageData:{data:r,width:n,height:i}}=e;for(let s=0;s<i;s+=this.blocksize)for(let o=0;o<n;o+=this.blocksize){const a=4*s*n+4*o,l=r[a],c=r[a+1],u=r[a+2],d=r[a+3];for(let h=s;h<Math.min(s+this.blocksize,i);h++)for(let f=o;f<Math.min(o+this.blocksize,n);f++){const m=4*h*n+4*f;r[m]=l,r[m+1]=c,r[m+2]=u,r[m+3]=d}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(e,r){e.uniform1f(r.uBlocksize,this.blocksize)}}D(Mg,"type","Pixelate"),D(Mg,"defaults",{blocksize:4}),D(Mg,"uniformLocations",["uBlocksize"]),ie.setClass(Mg);class $g extends Xt{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=255*this.distance,i=new Ke(this.color).getSource(),s=[i[0]-n,i[1]-n,i[2]-n],o=[i[0]+n,i[1]+n,i[2]+n];for(let a=0;a<r.length;a+=4){const l=r[a],c=r[a+1],u=r[a+2];l>s[0]&&c>s[1]&&u>s[2]&&l<o[0]&&c<o[1]&&u<o[2]&&(r[a+3]=0)}}sendUniformData(e,r){const n=new Ke(this.color).getSource(),i=this.distance,s=[0+n[0]/255-i,0+n[1]/255-i,0+n[2]/255-i,1],o=[n[0]/255+i,n[1]/255+i,n[2]/255+i,1];e.uniform4fv(r.uLow,s),e.uniform4fv(r.uHigh,o)}}D($g,"type","RemoveColor"),D($g,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),D($g,"uniformLocations",["uLow","uHigh"]),ie.setClass($g);class Dg extends Xt{sendUniformData(e,r){e.uniform2fv(r.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(r.uTaps,this.taps)}getFilterWindow(){const e=this.tempScale;return Math.ceil(this.lanczosLobes/e)}getCacheKey(){const e=this.getFilterWindow();return"".concat(this.type,"_").concat(e)}getFragmentSource(){const e=this.getFilterWindow();return this.generateShader(e)}getTaps(){const e=this.lanczosCreate(this.lanczosLobes),r=this.tempScale,n=this.getFilterWindow(),i=new Array(n);for(let s=1;s<=n;s++)i[s-1]=e(s*r);return i}generateShader(e){const r=new Array(e);for(let n=1;n<=e;n++)r[n-1]="".concat(n,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(e,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(r.map((n,i)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(n,") * uTaps[").concat(i,"] + texture2D(uTexture, vTexCoord - ").concat(n,") * uTaps[").concat(i,`];
              sum += 2.0 * uTaps[`).concat(i,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(e){e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,super.applyTo(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,super.applyTo(e),e.sourceHeight=e.destinationHeight}applyTo(e){hb(e)?this.applyToForWebgl(e):this.applyTo2d(e)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(e){return r=>{if(r>=e||r<=-e)return 0;if(r<11920929e-14&&r>-11920929e-14)return 1;const n=(r*=Math.PI)/e;return Math.sin(r)/r*Math.sin(n)/n}}applyTo2d(e){const r=e.imageData,n=this.scaleX,i=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/i;const s=r.width,o=r.height,a=Math.round(s*n),l=Math.round(o*i);let c;c=this.resizeType==="sliceHack"?this.sliceByTwo(e,s,o,a,l):this.resizeType==="hermite"?this.hermiteFastResize(e,s,o,a,l):this.resizeType==="bilinear"?this.bilinearFiltering(e,s,o,a,l):this.resizeType==="lanczos"?this.lanczosResize(e,s,o,a,l):new ImageData(a,l),e.imageData=c}sliceByTwo(e,r,n,i,s){const o=e.imageData,a=.5;let l=!1,c=!1,u=r*a,d=n*a;const h=e.filterBackend.resources;let f=0,m=0;const p=r;let v=0;h.sliceByTwo||(h.sliceByTwo=Hs());const y=h.sliceByTwo;(y.width<1.5*r||y.height<n)&&(y.width=1.5*r,y.height=n);const b=y.getContext("2d");for(b.clearRect(0,0,1.5*r,n),b.putImageData(o,0,0),i=Math.floor(i),s=Math.floor(s);!l||!c;)r=u,n=d,i<Math.floor(u*a)?u=Math.floor(u*a):(u=i,l=!0),s<Math.floor(d*a)?d=Math.floor(d*a):(d=s,c=!0),b.drawImage(y,f,m,r,n,p,v,u,d),f=p,m=v,v+=d;return b.getImageData(f,m,i,s)}lanczosResize(e,r,n,i,s){const o=e.imageData.data,a=e.ctx.createImageData(i,s),l=a.data,c=this.lanczosCreate(this.lanczosLobes),u=this.rcpScaleX,d=this.rcpScaleY,h=2/this.rcpScaleX,f=2/this.rcpScaleY,m=Math.ceil(u*this.lanczosLobes/2),p=Math.ceil(d*this.lanczosLobes/2),v={},y={x:0,y:0},b={x:0,y:0};return function x(_){let S,C,O,T,E,j,P,A,I,R,L;for(y.x=(_+.5)*u,b.x=Math.floor(y.x),S=0;S<s;S++){for(y.y=(S+.5)*d,b.y=Math.floor(y.y),E=0,j=0,P=0,A=0,I=0,C=b.x-m;C<=b.x+m;C++)if(!(C<0||C>=r)){R=Math.floor(1e3*Math.abs(C-y.x)),v[R]||(v[R]={});for(let $=b.y-p;$<=b.y+p;$++)$<0||$>=n||(L=Math.floor(1e3*Math.abs($-y.y)),v[R][L]||(v[R][L]=c(Math.sqrt(Math.pow(R*h,2)+Math.pow(L*f,2))/1e3)),O=v[R][L],O>0&&(T=4*($*r+C),E+=O,j+=O*o[T],P+=O*o[T+1],A+=O*o[T+2],I+=O*o[T+3]))}T=4*(S*i+_),l[T]=j/E,l[T+1]=P/E,l[T+2]=A/E,l[T+3]=I/E}return++_<i?x(_):a}(0)}bilinearFiltering(e,r,n,i,s){let o,a,l,c,u,d,h,f,m,p,v,y,b,x=0;const _=this.rcpScaleX,S=this.rcpScaleY,C=4*(r-1),O=e.imageData.data,T=e.ctx.createImageData(i,s),E=T.data;for(h=0;h<s;h++)for(f=0;f<i;f++)for(u=Math.floor(_*f),d=Math.floor(S*h),m=_*f-u,p=S*h-d,b=4*(d*r+u),v=0;v<4;v++)o=O[b+v],a=O[b+4+v],l=O[b+C+v],c=O[b+C+4+v],y=o*(1-m)*(1-p)+a*m*(1-p)+l*p*(1-m)+c*m*p,E[x++]=y;return T}hermiteFastResize(e,r,n,i,s){const o=this.rcpScaleX,a=this.rcpScaleY,l=Math.ceil(o/2),c=Math.ceil(a/2),u=e.imageData.data,d=e.ctx.createImageData(i,s),h=d.data;for(let f=0;f<s;f++)for(let m=0;m<i;m++){const p=4*(m+f*i);let v=0,y=0,b=0,x=0,_=0,S=0,C=0;const O=(f+.5)*a;for(let T=Math.floor(f*a);T<(f+1)*a;T++){const E=Math.abs(O-(T+.5))/c,j=(m+.5)*o,P=E*E;for(let A=Math.floor(m*o);A<(m+1)*o;A++){let I=Math.abs(j-(A+.5))/l;const R=Math.sqrt(P+I*I);R>1&&R<-1||(v=2*R*R*R-3*R*R+1,v>0&&(I=4*(A+T*r),C+=v*u[I+3],b+=v,u[I+3]<255&&(v=v*u[I+3]/250),x+=v*u[I],_+=v*u[I+1],S+=v*u[I+2],y+=v))}}h[p]=x/y,h[p+1]=_/y,h[p+2]=S/y,h[p+3]=C/b}return d}}D(Dg,"type","Resize"),D(Dg,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),D(Dg,"uniformLocations",["uDelta","uTaps"]),ie.setClass(Dg);class Ig extends Xt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.saturation;for(let i=0;i<r.length;i+=4){const s=r[i],o=r[i+1],a=r[i+2],l=Math.max(s,o,a);r[i]+=l!==s?(l-s)*n:0,r[i+1]+=l!==o?(l-o)*n:0,r[i+2]+=l!==a?(l-a)*n:0}}sendUniformData(e,r){e.uniform1f(r.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}D(Ig,"type","Saturation"),D(Ig,"defaults",{saturation:0}),D(Ig,"uniformLocations",["uSaturation"]),ie.setClass(Ig);class Lg extends Xt{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(e){let{imageData:{data:r}}=e;const n=-this.vibrance;for(let i=0;i<r.length;i+=4){const s=r[i],o=r[i+1],a=r[i+2],l=Math.max(s,o,a),c=(s+o+a)/3,u=2*Math.abs(l-c)/255*n;r[i]+=l!==s?(l-s)*u:0,r[i+1]+=l!==o?(l-o)*u:0,r[i+2]+=l!==a?(l-a)*u:0}}sendUniformData(e,r){e.uniform1f(r.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}D(Lg,"type","Vibrance"),D(Lg,"defaults",{vibrance:0}),D(Lg,"uniformLocations",["uVibrance"]),ie.setClass(Lg);const qPe=()=>{const t=yn(),e=w.useRef(null),[r,n]=w.useState(null),[i,s]=w.useState("draw"),[o,a]=w.useState(""),{vocabulary:l}=Ol(),c=l.find(d=>d.id===o);w.useEffect(()=>{if(!e.current)return;const d=new P1(e.current,{width:400,height:400,backgroundColor:"#ffffff",isDrawingMode:!0}),h=new Dc(d);return h.color="#000000",h.width=8,d.freeDrawingBrush=h,n(d),()=>{d.dispose()}},[]),w.useEffect(()=>{if(r){if(i==="draw"){const d=new Dc(r);d.color="#000000",d.width=8,r.freeDrawingBrush=d,r.isDrawingMode=!0}else if(i==="erase"){const d=new Dc(r);d.color="#ffffff",d.width=20,r.freeDrawingBrush=d,r.isDrawingMode=!0}}},[i,r]);const u=()=>{r&&(r.clear(),r.backgroundColor="#ffffff",r.renderAll(),ge("Canvas dibersihkan!"))};return g.jsxs("div",{className:"min-h-screen bg-background pt-16",children:[g.jsx("header",{className:"border-b bg-card shadow-soft sticky top-0 z-10",children:g.jsx("div",{className:"container mx-auto px-4 py-4",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(fe,{variant:"outline",size:"icon",onClick:()=>t("/"),children:g.jsx(Kf,{className:"h-4 w-4"})}),g.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Latihan Menulis Hanzi"})]})})}),g.jsx("main",{className:"container mx-auto px-4 py-8",children:g.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[g.jsx("div",{children:g.jsxs(qe,{className:"p-6",children:[g.jsx("h2",{className:"text-lg font-bold mb-4",children:"Pilih Karakter"}),g.jsxs(mi,{value:o,onValueChange:a,children:[g.jsx(Nn,{children:g.jsx(vi,{placeholder:"Pilih kata..."})}),g.jsx(Rn,{children:l.map(d=>g.jsxs(Ue,{value:d.id,children:[d.hanzi," - ",d.pinyin]},d.id))})]}),c&&g.jsxs("div",{className:"mt-6 text-center",children:[g.jsx("div",{className:"text-8xl font-bold mb-4 text-primary",children:c.hanzi}),g.jsx("p",{className:"text-xl text-muted-foreground mb-2",children:c.pinyin}),g.jsx("p",{className:"text-lg",children:c.meaning})]})]})}),g.jsx("div",{children:g.jsxs(qe,{className:"p-6",children:[g.jsxs("div",{className:"flex gap-2 mb-4",children:[g.jsx(fe,{variant:i==="draw"?"default":"outline",size:"icon",onClick:()=>s("draw"),title:"Pensil",children:g.jsx(My,{className:"h-4 w-4"})}),g.jsx(fe,{variant:i==="erase"?"default":"outline",size:"icon",onClick:()=>s("erase"),title:"Penghapus",children:g.jsx(SH,{className:"h-4 w-4"})}),g.jsx(fe,{variant:"outline",size:"icon",onClick:u,title:"Bersihkan",children:g.jsx(kH,{className:"h-4 w-4"})})]}),g.jsx("div",{className:"border-2 border-dashed border-primary/30 rounded-lg overflow-hidden bg-white",children:g.jsx("canvas",{ref:e})}),g.jsx("p",{className:"text-sm text-muted-foreground mt-4 text-center",children:"Tulis karakter di canvas menggunakan mouse atau touchscreen"})]})})]})})]})};function YPe(t,e=[]){let r=[];function n(s,o){const a=w.createContext(o);a.displayName=s+"Context";const l=r.length;r=[...r,o];const c=d=>{var y;const{scope:h,children:f,...m}=d,p=((y=h==null?void 0:h[t])==null?void 0:y[l])||a,v=w.useMemo(()=>m,Object.values(m));return g.jsx(p.Provider,{value:v,children:f})};c.displayName=s+"Provider";function u(d,h){var p;const f=((p=h==null?void 0:h[t])==null?void 0:p[l])||a,m=w.useContext(f);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=r.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[n,XPe(i,...e)]}function XPe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var ZPe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qT=ZPe.reduce((t,e)=>{const r=Ky(`Primitive.${e}`),n=w.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),CW={exports:{}},OW={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=w;function JPe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var QPe=typeof Object.is=="function"?Object.is:JPe,eje=Mu.useState,tje=Mu.useEffect,rje=Mu.useLayoutEffect,nje=Mu.useDebugValue;function ije(t,e){var r=e(),n=eje({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return rje(function(){i.value=r,i.getSnapshot=e,tw(i)&&s({inst:i})},[t,r,e]),tje(function(){return tw(i)&&s({inst:i}),t(function(){tw(i)&&s({inst:i})})},[t]),nje(r),r}function tw(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!QPe(t,r)}catch{return!0}}function sje(t,e){return e()}var oje=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sje:ije;OW.useSyncExternalStore=Mu.useSyncExternalStore!==void 0?Mu.useSyncExternalStore:oje;CW.exports=OW;var aje=CW.exports;function lje(){return aje.useSyncExternalStore(cje,()=>!0,()=>!1)}function cje(){return()=>{}}var YT="Avatar",[uje]=YPe(YT),[dje,TW]=uje(YT),EW=w.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=w.useState("idle");return g.jsx(dje,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:g.jsx(qT.span,{...n,ref:e})})});EW.displayName=YT;var kW="AvatarImage",PW=w.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,o=TW(kW,r),a=hje(n,s),l=Lt(c=>{i(c),o.onImageLoadingStatusChange(c)});return Nt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?g.jsx(qT.img,{...s,ref:e,src:n}):null});PW.displayName=kW;var jW="AvatarFallback",AW=w.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=TW(jW,r),[o,a]=w.useState(n===void 0);return w.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&s.imageLoadingStatus!=="loaded"?g.jsx(qT.span,{...i,ref:e}):null});AW.displayName=jW;function YR(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function hje(t,{referrerPolicy:e,crossOrigin:r}){const n=lje(),i=w.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[o,a]=w.useState(()=>YR(s,t));return Nt(()=>{a(YR(s,t))},[s,t]),Nt(()=>{const l=d=>()=>{a(d)};if(!s)return;const c=l("loaded"),u=l("error");return s.addEventListener("load",c),s.addEventListener("error",u),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",c),s.removeEventListener("error",u)}},[s,r,e]),o}var NW=EW,RW=PW,MW=AW;const Kd=w.forwardRef(({className:t,...e},r)=>g.jsx(NW,{ref:r,className:ae("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Kd.displayName=NW.displayName;const qd=w.forwardRef(({className:t,...e},r)=>g.jsx(RW,{ref:r,className:ae("aspect-square h-full w-full",t),...e}));qd.displayName=RW.displayName;const Yd=w.forwardRef(({className:t,...e},r)=>g.jsx(MW,{ref:r,className:ae("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Yd.displayName=MW.displayName;const fje=()=>{const t=yn(),[e,r]=w.useState([]),[n,i]=w.useState(!0),[s,o]=w.useState(null);w.useEffect(()=>{const u=setTimeout(()=>{a()},100);return()=>clearTimeout(u)},[]);const a=async()=>{var u,d;try{i(!0);const{data:{user:h}}=await be.auth.getUser();o((h==null?void 0:h.id)||null);const{data:f,error:m}=await be.from("profiles").select(`
          id,
          username,
          avatar_url
        `).limit(100);if(m)throw m;if(!f)return;const p=f.map(_=>_.id),[v,y]=await Promise.all([be.from("user_progress").select("user_id, mastered, review_count").in("user_id",p),be.from("user_streaks").select("user_id, current_streak, longest_streak").in("user_id",p)]),b=new Map;f.forEach(_=>{b.set(_.id,{user_id:_.id,username:_.username||"Anonymous",avatar_url:_.avatar_url,mastered_count:0,current_streak:0,longest_streak:0,total_reviews:0,rank:0})}),(u=v.data)==null||u.forEach(_=>{const S=b.get(_.user_id);S&&(_.mastered&&S.mastered_count++,S.total_reviews+=_.review_count||0)}),(d=y.data)==null||d.forEach(_=>{const S=b.get(_.user_id);S&&(S.current_streak=_.current_streak||0,S.longest_streak=_.longest_streak||0)});const x=Array.from(b.values()).sort((_,S)=>S.mastered_count!==_.mastered_count?S.mastered_count-_.mastered_count:S.current_streak-_.current_streak).slice(0,50).map((_,S)=>({..._,rank:S+1}));r(x)}catch(h){console.error("Error fetching leaderboard:",h),ge.error("Gagal memuat leaderboard")}finally{i(!1)}},l=u=>u===1?g.jsx(ba,{className:"h-6 w-6 text-yellow-500"}):u===2?g.jsx(ba,{className:"h-6 w-6 text-gray-400"}):u===3?g.jsx(ba,{className:"h-6 w-6 text-amber-600"}):g.jsx(jC,{className:"h-6 w-6 text-muted-foreground"}),c=u=>u===1?"bg-yellow-500/10 text-yellow-600 border-yellow-500/20":u===2?"bg-gray-400/10 text-gray-600 border-gray-400/20":u===3?"bg-amber-600/10 text-amber-700 border-amber-600/20":"bg-muted/50 text-muted-foreground border-muted";return n?g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center pt-20",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):g.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8 pt-20",children:g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(fe,{variant:"outline",size:"icon",onClick:()=>t("/"),children:g.jsx(Kf,{className:"h-4 w-4"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground",children:"Leaderboard"}),g.jsx("p",{className:"text-muted-foreground",children:"Kompetisi dengan pengguna lain"})]})]}),e.length>=3&&g.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[g.jsx(qe,{className:"mt-8 shadow-soft",children:g.jsxs(nt,{className:"pt-6 text-center",children:[g.jsx(ba,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),g.jsxs(Kd,{className:"h-16 w-16 mx-auto mb-2",children:[g.jsx(qd,{src:e[1].avatar_url||void 0}),g.jsx(Yd,{children:e[1].username[0]})]}),g.jsx("p",{className:"font-semibold",children:e[1].username}),g.jsxs(yr,{variant:"outline",className:"mt-2",children:[e[1].mastered_count," kata"]})]})}),g.jsx(qe,{className:"shadow-medium border-primary/50",children:g.jsxs(nt,{className:"pt-6 text-center",children:[g.jsx(ba,{className:"h-12 w-12 text-yellow-500 mx-auto mb-2"}),g.jsxs(Kd,{className:"h-20 w-20 mx-auto mb-2 border-4 border-primary",children:[g.jsx(qd,{src:e[0].avatar_url||void 0}),g.jsx(Yd,{children:e[0].username[0]})]}),g.jsx("p",{className:"font-bold text-lg",children:e[0].username}),g.jsxs(yr,{variant:"outline",className:"mt-2 bg-primary/10 text-primary border-primary/20",children:[e[0].mastered_count," kata"]})]})}),g.jsx(qe,{className:"mt-8 shadow-soft",children:g.jsxs(nt,{className:"pt-6 text-center",children:[g.jsx(ba,{className:"h-8 w-8 text-amber-600 mx-auto mb-2"}),g.jsxs(Kd,{className:"h-16 w-16 mx-auto mb-2",children:[g.jsx(qd,{src:e[2].avatar_url||void 0}),g.jsx(Yd,{children:e[2].username[0]})]}),g.jsx("p",{className:"font-semibold",children:e[2].username}),g.jsxs(yr,{variant:"outline",className:"mt-2",children:[e[2].mastered_count," kata"]})]})})]}),g.jsxs(qe,{className:"shadow-medium",children:[g.jsx(tr,{children:g.jsx(rr,{children:"Semua Peringkat"})}),g.jsx(nt,{className:"space-y-2",children:e.map(u=>g.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-lg transition-smooth ${u.user_id===s?"bg-primary/10 border border-primary/20":"bg-card hover:bg-muted/50"}`,children:[g.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[g.jsx(yr,{variant:"outline",className:`w-12 h-12 flex items-center justify-center ${c(u.rank)}`,children:u.rank<=3?l(u.rank):`#${u.rank}`}),g.jsxs(Kd,{className:"h-10 w-10",children:[g.jsx(qd,{src:u.avatar_url||void 0}),g.jsx(Yd,{children:u.username[0]})]}),g.jsx("div",{className:"flex-1",children:g.jsxs("p",{className:"font-semibold text-foreground",children:[u.username,u.user_id===s&&g.jsx("span",{className:"ml-2 text-xs text-primary",children:"(Kamu)"})]})})]}),g.jsxs("div",{className:"flex gap-4 text-sm",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(AC,{className:"h-4 w-4 text-primary"}),g.jsx("span",{className:"font-medium",children:u.mastered_count})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(OH,{className:"h-4 w-4 text-orange-500"}),g.jsx("span",{className:"font-medium",children:u.current_streak})]})]})]},u.user_id))})]})]})})},$W=w.forwardRef(({className:t,...e},r)=>g.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));$W.displayName="Textarea";const pje=()=>{const t=yn(),[e,r]=w.useState(""),[n,i]=w.useState(null),[s,o]=w.useState(!1),a=async()=>{if(!e.trim()){ge.error("Masukkan kalimat untuk dicek");return}o(!0);try{const{data:l,error:c}=await be.functions.invoke("check-grammar",{body:{text:e}});if(c)throw c;i(l)}catch(l){console.error("Grammar check error:",l),ge.error(l.message||"Gagal mengecek grammar")}finally{o(!1)}};return g.jsx("div",{className:"min-h-screen bg-background p-4 pt-20",children:g.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Cek Grammar"}),g.jsx(fe,{onClick:()=>t("/"),variant:"outline",size:"sm",children:g.jsx(Jc,{className:"h-4 w-4"})})]}),g.jsxs(qe,{className:"shadow-medium",children:[g.jsx(tr,{children:g.jsx(rr,{children:"Masukkan Kalimat Bahasa Mandarin"})}),g.jsxs(nt,{className:"space-y-4",children:[g.jsx($W,{placeholder:"...",value:e,onChange:l=>r(l.target.value),rows:6,className:"text-lg"}),g.jsx(fe,{onClick:a,disabled:s,className:"w-full",children:s?g.jsxs(g.Fragment,{children:[g.jsx(YD,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengecek..."]}):"Cek Grammar"})]})]}),n&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs(qe,{className:"shadow-medium",children:[g.jsx(tr,{children:g.jsxs(rr,{className:"flex items-center gap-2",children:[g.jsx(_i,{className:"h-5 w-5 text-success"}),"Kalimat yang Benar"]})}),g.jsx(nt,{children:g.jsx("p",{className:"text-2xl font-medium text-foreground",children:n.correctedText})})]}),n.pointsEarned&&g.jsx("div",{className:"p-4 bg-success/10 border border-success rounded-lg",children:g.jsxs("p",{className:"text-success font-semibold text-center text-lg",children:[" Grammar Sempurna! +",n.pointsEarned," Poin!"]})}),n.errors.length>0&&g.jsxs(qe,{className:"shadow-medium",children:[g.jsx(tr,{children:g.jsxs(rr,{children:["Kesalahan Ditemukan (",n.errors.length,")"]})}),g.jsx(nt,{className:"space-y-3",children:n.errors.map((l,c)=>g.jsxs("div",{className:"p-4 rounded-lg border border-border bg-muted/50 space-y-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[l.type==="error"&&g.jsxs(yr,{variant:"destructive",children:[g.jsx(Mm,{className:"h-3 w-3 mr-1"}),"Kesalahan"]}),l.type==="warning"&&g.jsxs(yr,{className:"bg-yellow-500 hover:bg-yellow-600",children:[g.jsx(yk,{className:"h-3 w-3 mr-1"}),"Peringatan"]}),l.type==="suggestion"&&g.jsxs(yr,{variant:"secondary",children:[g.jsx(yk,{className:"h-3 w-3 mr-1"}),"Saran"]})]}),g.jsx("p",{className:"text-sm text-muted-foreground",children:l.message}),l.correction&&g.jsxs("p",{className:"text-sm",children:[g.jsx("span",{className:"font-semibold text-foreground",children:"Perbaikan: "}),g.jsx("span",{className:"text-success",children:l.correction})]})]},c))})]}),g.jsxs(qe,{className:"shadow-medium",children:[g.jsx(tr,{children:g.jsx(rr,{children:"Penjelasan"})}),g.jsx(nt,{children:g.jsx("p",{className:"text-muted-foreground whitespace-pre-line",children:n.explanation})})]})]})]})})},gje=()=>{yn();const{vocabulary:t}=Ol(),[e,r]=w.useState([]),[n,i]=w.useState([]),[s,o]=w.useState(null),[a,l]=w.useState(!1),[c,u]=w.useState(!0),[d,h]=w.useState(0);w.useEffect(()=>{f()},[]);const f=async()=>{const{data:{user:y}}=await be.auth.getUser();if(!y)return;const{data:b}=await be.from("user_points").select("total_points").eq("user_id",y.id).single();b&&h(b.total_points)},m=()=>{const x=[...t].sort(()=>Math.random()-.5).slice(0,Math.floor(Math.random()*4)+5).map(_=>({hanzi:_.hanzi,pinyin:_.pinyin,meaning:_.meaning}));i(x.sort(()=>Math.random()-.5)),r([]),o(null)},p=(y,b)=>{b?(r([...e,y]),i(n.filter(x=>x.hanzi!==y.hanzi))):(i([...n,y]),r(e.filter(x=>x.hanzi!==y.hanzi)))},v=async()=>{if(e.length===0){ge.error("Rangkai kata terlebih dahulu");return}l(!0);try{const y=e.map(S=>S.hanzi).join(""),b=[...e,...n].map(S=>S.hanzi),{data:x,error:_}=await be.functions.invoke("validate-sentence",{body:{sentence:y,availableWords:b}});if(_)throw _;o(x),x.isCorrect?(ge.success("Benar! "),await f()):ge.error("Belum tepat, coba lagi")}catch(y){console.error("Validation error:",y),ge.error(y.message||"Gagal memvalidasi kalimat")}finally{l(!1)}};return g.jsx("div",{className:"min-h-screen bg-background p-4 pt-20",children:g.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Rangkai Kalimat"}),g.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto justify-between sm:justify-end",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Hu,{id:"show-pinyin",checked:c,onCheckedChange:u}),g.jsx(Ht,{htmlFor:"show-pinyin",className:"text-sm whitespace-nowrap",children:"Tampilkan Pinyin"})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-sm text-muted-foreground",children:"Poin"}),g.jsx("p",{className:"text-xl font-bold text-primary",children:d})]})]})]}),g.jsxs(qe,{className:"shadow-medium",children:[g.jsx(tr,{children:g.jsx(rr,{children:"Rangkai kata menjadi kalimat yang benar"})}),g.jsx(nt,{className:"space-y-6",children:n.length===0&&e.length===0?g.jsxs("div",{className:"text-center py-8",children:[g.jsx("p",{className:"text-muted-foreground mb-4",children:"Klik tombol di bawah untuk memulai tantangan"}),g.jsxs(fe,{onClick:m,size:"lg",children:[g.jsx(t_,{className:"mr-2 h-4 w-4"}),"Mulai Tantangan"]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium mb-2",children:"Kalimat Kamu:"}),g.jsx("div",{className:"min-h-[80px] p-4 border-2 border-dashed border-border rounded-lg bg-muted/30",children:e.length===0?g.jsx("p",{className:"text-muted-foreground text-center",children:"Klik kata di bawah untuk merangkai"}):g.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((y,b)=>g.jsxs(yr,{className:"text-lg sm:text-xl px-3 py-2 cursor-pointer hover:bg-destructive flex flex-col items-center",onClick:()=>p(y,!1),children:[g.jsx("span",{children:y.hanzi}),c&&g.jsx("span",{className:"text-[10px] opacity-80",children:y.pinyin})]},`${y.hanzi}-${b}`))})})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium mb-2",children:"Kata yang Tersedia:"}),g.jsx("div",{className:"flex flex-wrap gap-2 min-h-[60px]",children:n.map((y,b)=>g.jsxs(yr,{variant:"outline",className:"text-lg sm:text-xl px-3 py-2 cursor-pointer hover:bg-primary hover:text-primary-foreground flex flex-col items-center",onClick:()=>p(y,!0),children:[g.jsx("span",{children:y.hanzi}),c&&g.jsx("span",{className:"text-[10px] opacity-80",children:y.pinyin})]},`${y.hanzi}-${b}`))})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(fe,{onClick:v,disabled:a||e.length===0,className:"flex-1",children:a?g.jsxs(g.Fragment,{children:[g.jsx(YD,{className:"mr-2 h-4 w-4 animate-spin"}),"Validasi..."]}):g.jsxs(g.Fragment,{children:[g.jsx(_i,{className:"mr-2 h-4 w-4"}),"Cek Kalimat"]})}),g.jsx(fe,{onClick:m,variant:"outline",children:g.jsx(t_,{className:"h-4 w-4"})})]})]})})]}),s&&g.jsxs(qe,{className:`shadow-medium ${s.isCorrect?"border-success":"border-destructive"}`,children:[g.jsx(tr,{children:g.jsx(rr,{className:"flex items-center gap-2",children:s.isCorrect?g.jsxs(g.Fragment,{children:[g.jsx(_i,{className:"h-5 w-5 text-success"}),"Benar!"]}):g.jsxs(g.Fragment,{children:[g.jsx(_i,{className:"h-5 w-5 text-destructive"}),"Belum Tepat"]})})}),g.jsxs(nt,{className:"space-y-4",children:[!s.isCorrect&&g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium mb-2",children:"Kalimat yang Benar:"}),g.jsx("p",{className:"text-xl sm:text-2xl font-medium text-success break-words",children:s.correctSentence})]}),s.pointsEarned&&g.jsx("div",{className:"p-4 bg-success/10 border border-success rounded-lg",children:g.jsxs("p",{className:"text-success font-semibold text-center",children:[" +",s.pointsEarned," Poin!"]})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium mb-2",children:"Penjelasan:"}),g.jsx("p",{className:"text-muted-foreground whitespace-pre-line text-sm",children:s.feedback})]}),s.errors.length>0&&g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium mb-2",children:"Kesalahan:"}),g.jsx("ul",{className:"list-disc list-inside space-y-1",children:s.errors.map((y,b)=>g.jsx("li",{className:"text-sm text-muted-foreground",children:y},b))})]}),g.jsx(fe,{onClick:m,className:"w-full",children:"Tantangan Berikutnya"})]})]})]})})},mje=()=>{const t=Zf();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),g.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),g.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},vje=new sq;function yje(){return g.jsx(aq,{client:vje,children:g.jsx(OX,{defaultTheme:"light",storageKey:"mandarin-theme",children:g.jsxs(NK,{children:[g.jsx(f9,{}),g.jsx(H9,{}),g.jsxs(r7,{children:[g.jsx(XZ,{}),g.jsxs(Qq,{children:[g.jsx(Zr,{path:"/auth",element:g.jsx(GJ,{})}),g.jsx(Zr,{path:"/",element:g.jsx(Mi,{children:g.jsx(dQ,{})})}),g.jsx(Zr,{path:"/vocabulary",element:g.jsx(Mi,{children:g.jsx(yee,{})})}),g.jsx(Zr,{path:"/flashcards",element:g.jsx(Mi,{children:g.jsx(bee,{})})}),g.jsx(Zr,{path:"/quiz",element:g.jsx(Mi,{children:g.jsx(xee,{})})}),g.jsx(Zr,{path:"/statistics",element:g.jsx(Mi,{children:g.jsx(nEe,{})})}),g.jsx(Zr,{path:"/achievements",element:g.jsx(Mi,{children:g.jsx(iEe,{})})}),g.jsx(Zr,{path:"/hanzi-practice",element:g.jsx(Mi,{children:g.jsx(qPe,{})})}),g.jsx(Zr,{path:"/leaderboard",element:g.jsx(Mi,{children:g.jsx(fje,{})})}),g.jsx(Zr,{path:"/grammar-checker",element:g.jsx(Mi,{children:g.jsx(pje,{})})}),g.jsx(Zr,{path:"/sentence-builder",element:g.jsx(Mi,{children:g.jsx(gje,{})})}),g.jsx(Zr,{path:"*",element:g.jsx(mje,{})})]})]})]})})})}bD(document.getElementById("root")).render(g.jsx(k.StrictMode,{children:g.jsx(yje,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});
